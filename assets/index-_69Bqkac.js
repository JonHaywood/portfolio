const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/resume-BdIdlhtQ.js","assets/Particle-DCDJ80J0.js","assets/project-DlMO29g_.js","assets/Card-D5liTMRB.js","assets/about-CSxt5neN.js","assets/index-CymfD4FX.js"])))=>i.map(i=>d[i]);
var U2=Object.defineProperty;var lE=l=>{throw TypeError(l)};var V2=(l,e,t)=>e in l?U2(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var xt=(l,e,t)=>V2(l,typeof e!="symbol"?e+"":e,t),F0=(l,e,t)=>e.has(l)||lE("Cannot "+t);var d=(l,e,t)=>(F0(l,e,"read from private field"),t?t.call(l):e.get(l)),C=(l,e,t)=>e.has(l)?lE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,t),E=(l,e,t,n)=>(F0(l,e,"write to private field"),n?n.call(l,t):e.set(l,t),t),w=(l,e,t)=>(F0(l,e,"access private method"),t);var Ai=(l,e,t,n)=>({set _(r){E(l,e,r,t)},get _(){return d(l,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function yf(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var H0={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function G2(){if(cE)return Eh;cE=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:l,type:n,key:c,ref:r!==void 0?r:null,props:o}}return Eh.Fragment=e,Eh.jsx=t,Eh.jsxs=t,Eh}var uE;function q2(){return uE||(uE=1,H0.exports=G2()),H0.exports}var q=q2(),B0={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function X2(){if(hE)return Lt;hE=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function M(L,$,st){this.props=L,this.context=$,this.refs=x,this.updater=st||A}M.prototype.isReactComponent={},M.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=M.prototype;function k(L,$,st){this.props=L,this.context=$,this.refs=x,this.updater=st||A}var O=k.prototype=new R;O.constructor=k,S(O,M.prototype),O.isPureReactComponent=!0;var P=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function V(L,$,st,Q,ot,ft){return st=ft.ref,{$$typeof:l,type:L,key:$,ref:st!==void 0?st:null,props:ft}}function F(L,$){return V(L.type,$,void 0,void 0,void 0,L.props)}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===l}function at(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(st){return $[st]})}var et=/\/+/g;function nt(L,$){return typeof L=="object"&&L!==null&&L.key!=null?at(""+L.key):$.toString(36)}function rt(){}function dt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(rt,rt):(L.status="pending",L.then(function($){L.status==="pending"&&(L.status="fulfilled",L.value=$)},function($){L.status==="pending"&&(L.status="rejected",L.reason=$)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function lt(L,$,st,Q,ot){var ft=typeof L;(ft==="undefined"||ft==="boolean")&&(L=null);var ct=!1;if(L===null)ct=!0;else switch(ft){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(L.$$typeof){case l:case e:ct=!0;break;case m:return ct=L._init,lt(ct(L._payload),$,st,Q,ot)}}if(ct)return ot=ot(L),ct=Q===""?"."+nt(L,0):Q,P(ot)?(st="",ct!=null&&(st=ct.replace(et,"$&/")+"/"),lt(ot,$,st,"",function(Nt){return Nt})):ot!=null&&(j(ot)&&(ot=F(ot,st+(ot.key==null||L&&L.key===ot.key?"":(""+ot.key).replace(et,"$&/")+"/")+ct)),$.push(ot)),1;ct=0;var vt=Q===""?".":Q+":";if(P(L))for(var mt=0;mt<L.length;mt++)Q=L[mt],ft=vt+nt(Q,mt),ct+=lt(Q,$,st,ft,ot);else if(mt=b(L),typeof mt=="function")for(L=mt.call(L),mt=0;!(Q=L.next()).done;)Q=Q.value,ft=vt+nt(Q,mt++),ct+=lt(Q,$,st,ft,ot);else if(ft==="object"){if(typeof L.then=="function")return lt(dt(L),$,st,Q,ot);throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(L,$,st){if(L==null)return L;var Q=[],ot=0;return lt(L,Q,"","",function(ft){return $.call(st,ft,ot++)}),Q}function Y(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(st){(L._status===0||L._status===-1)&&(L._status=1,L._result=st)},function(st){(L._status===0||L._status===-1)&&(L._status=2,L._result=st)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var Z=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function bt(){}return Lt.Children={map:B,forEach:function(L,$,st){B(L,function(){$.apply(this,arguments)},st)},count:function(L){var $=0;return B(L,function(){$++}),$},toArray:function(L){return B(L,function($){return $})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Lt.Component=M,Lt.Fragment=t,Lt.Profiler=r,Lt.PureComponent=k,Lt.StrictMode=n,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cloneElement=function(L,$,st){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Q=S({},L.props),ot=L.key,ft=void 0;if($!=null)for(ct in $.ref!==void 0&&(ft=void 0),$.key!==void 0&&(ot=""+$.key),$)!N.call($,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&$.ref===void 0||(Q[ct]=$[ct]);var ct=arguments.length-2;if(ct===1)Q.children=st;else if(1<ct){for(var vt=Array(ct),mt=0;mt<ct;mt++)vt[mt]=arguments[mt+2];Q.children=vt}return V(L.type,ot,void 0,void 0,ft,Q)},Lt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Lt.createElement=function(L,$,st){var Q,ot={},ft=null;if($!=null)for(Q in $.key!==void 0&&(ft=""+$.key),$)N.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ot[Q]=$[Q]);var ct=arguments.length-2;if(ct===1)ot.children=st;else if(1<ct){for(var vt=Array(ct),mt=0;mt<ct;mt++)vt[mt]=arguments[mt+2];ot.children=vt}if(L&&L.defaultProps)for(Q in ct=L.defaultProps,ct)ot[Q]===void 0&&(ot[Q]=ct[Q]);return V(L,ft,void 0,void 0,null,ot)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:h,render:L}},Lt.isValidElement=j,Lt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:Y}},Lt.memo=function(L,$){return{$$typeof:p,type:L,compare:$===void 0?null:$}},Lt.startTransition=function(L){var $=I.T,st={};I.T=st;try{var Q=L(),ot=I.S;ot!==null&&ot(st,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(bt,Z)}catch(ft){Z(ft)}finally{I.T=$}},Lt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Lt.use=function(L){return I.H.use(L)},Lt.useActionState=function(L,$,st){return I.H.useActionState(L,$,st)},Lt.useCallback=function(L,$){return I.H.useCallback(L,$)},Lt.useContext=function(L){return I.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,$){return I.H.useDeferredValue(L,$)},Lt.useEffect=function(L,$,st){var Q=I.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(L,$)},Lt.useId=function(){return I.H.useId()},Lt.useImperativeHandle=function(L,$,st){return I.H.useImperativeHandle(L,$,st)},Lt.useInsertionEffect=function(L,$){return I.H.useInsertionEffect(L,$)},Lt.useLayoutEffect=function(L,$){return I.H.useLayoutEffect(L,$)},Lt.useMemo=function(L,$){return I.H.useMemo(L,$)},Lt.useOptimistic=function(L,$){return I.H.useOptimistic(L,$)},Lt.useReducer=function(L,$,st){return I.H.useReducer(L,$,st)},Lt.useRef=function(L){return I.H.useRef(L)},Lt.useState=function(L){return I.H.useState(L)},Lt.useSyncExternalStore=function(L,$,st){return I.H.useSyncExternalStore(L,$,st)},Lt.useTransition=function(){return I.H.useTransition()},Lt.version="19.1.0",Lt}var dE;function bf(){return dE||(dE=1,B0.exports=X2()),B0.exports}var z=bf();const we=yf(z);var z0={exports:{}},wh={},I0={exports:{}},j0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function Y2(){return fE||(fE=1,function(l){function e(B,Y){var Z=B.length;B.push(Y);t:for(;0<Z;){var bt=Z-1>>>1,L=B[bt];if(0<r(L,Y))B[bt]=Y,B[Z]=L,Z=bt;else break t}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Y=B[0],Z=B.pop();if(Z!==Y){B[0]=Z;t:for(var bt=0,L=B.length,$=L>>>1;bt<$;){var st=2*(bt+1)-1,Q=B[st],ot=st+1,ft=B[ot];if(0>r(Q,Z))ot<L&&0>r(ft,Q)?(B[bt]=ft,B[ot]=Z,bt=ot):(B[bt]=Q,B[st]=Z,bt=st);else if(ot<L&&0>r(ft,Z))B[bt]=ft,B[ot]=Z,bt=ot;else break t}}return Y}function r(B,Y){var Z=B.sortIndex-Y.sortIndex;return Z!==0?Z:B.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();l.unstable_now=function(){return c.now()-h}}var f=[],p=[],m=1,y=null,b=3,A=!1,S=!1,x=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var Y=t(p);Y!==null;){if(Y.callback===null)n(p);else if(Y.startTime<=B)n(p),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(p)}}function I(B){if(x=!1,P(B),!S)if(t(f)!==null)S=!0,N||(N=!0,nt());else{var Y=t(p);Y!==null&&lt(I,Y.startTime-B)}}var N=!1,V=-1,F=5,j=-1;function at(){return M?!0:!(l.unstable_now()-j<F)}function et(){if(M=!1,N){var B=l.unstable_now();j=B;var Y=!0;try{t:{S=!1,x&&(x=!1,k(V),V=-1),A=!0;var Z=b;try{e:{for(P(B),y=t(f);y!==null&&!(y.expirationTime>B&&at());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,b=y.priorityLevel;var L=bt(y.expirationTime<=B);if(B=l.unstable_now(),typeof L=="function"){y.callback=L,P(B),Y=!0;break e}y===t(f)&&n(f),P(B)}else n(f);y=t(f)}if(y!==null)Y=!0;else{var $=t(p);$!==null&&lt(I,$.startTime-B),Y=!1}}break t}finally{y=null,b=Z,A=!1}Y=void 0}}finally{Y?nt():N=!1}}}var nt;if(typeof O=="function")nt=function(){O(et)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,dt=rt.port2;rt.port1.onmessage=et,nt=function(){dt.postMessage(null)}}else nt=function(){R(et,0)};function lt(B,Y){V=R(function(){B(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var Z=b;b=Y;try{return B()}finally{b=Z}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=b;b=B;try{return Y()}finally{b=Z}},l.unstable_scheduleCallback=function(B,Y,Z){var bt=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?bt+Z:bt):Z=bt,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,B={id:m++,callback:Y,priorityLevel:B,startTime:Z,expirationTime:L,sortIndex:-1},Z>bt?(B.sortIndex=Z,e(p,B),t(f)===null&&B===t(p)&&(x?(k(V),V=-1):x=!0,lt(I,Z-bt))):(B.sortIndex=L,e(f,B),S||A||(S=!0,N||(N=!0,nt()))),B},l.unstable_shouldYield=at,l.unstable_wrapCallback=function(B){var Y=b;return function(){var Z=b;b=Y;try{return B.apply(this,arguments)}finally{b=Z}}}}(j0)),j0}var pE;function K2(){return pE||(pE=1,I0.exports=Y2()),I0.exports}var U0={exports:{}},hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function $2(){if(gE)return hi;gE=1;var l=bf();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:p,implementation:m}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hi.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,m)},hi.flushSync=function(f){var p=c.T,m=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=p,n.p=m,n.d.f()}},hi.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},hi.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},hi.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:A}):m==="script"&&n.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hi.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},hi.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin);n.d.L(f,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hi.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=h(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},hi.requestFormReset=function(f){n.d.r(f)},hi.unstable_batchedUpdates=function(f,p){return f(p)},hi.useFormState=function(f,p,m){return c.H.useFormState(f,p,m)},hi.useFormStatus=function(){return c.H.useHostTransitionStatus()},hi.version="19.1.0",hi}var mE;function vw(){if(mE)return U0.exports;mE=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),U0.exports=$2(),U0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function W2(){if(vE)return wh;vE=1;var l=K2(),e=bf(),t=vw();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var a=i,u=s;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return h(g),i;if(v===u)return h(g),s;v=v.sibling}throw Error(n(188))}if(a.return!==u.return)a=g,u=v;else{for(var _=!1,T=g.child;T;){if(T===a){_=!0,a=g,u=v;break}if(T===u){_=!0,u=g,a=v;break}T=T.sibling}if(!_){for(T=v.child;T;){if(T===a){_=!0,a=v,u=g;break}if(T===u){_=!0,u=v,a=g;break}T=T.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function nt(i){return i===null||typeof i!="object"?null:(i=et&&i[et]||i["@@iterator"],typeof i=="function"?i:null)}var rt=Symbol.for("react.client.reference");function dt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===rt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case O:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:dt(i.type)||"Memo";case F:s=i._payload,i=i._init;try{return dt(i(s))}catch{}}return null}var lt=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},bt=[],L=-1;function $(i){return{current:i}}function st(i){0>L||(i.current=bt[L],bt[L]=null,L--)}function Q(i,s){L++,bt[L]=i.current,i.current=s}var ot=$(null),ft=$(null),ct=$(null),vt=$(null);function mt(i,s){switch(Q(ct,s),Q(ft,i),Q(ot,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?FS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=FS(s),i=HS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(ot),Q(ot,i)}function Nt(){st(ot),st(ft),st(ct)}function Qe(i){i.memoizedState!==null&&Q(vt,i);var s=ot.current,a=HS(s,i.type);s!==a&&(Q(ft,i),Q(ot,a))}function li(i){ft.current===i&&(st(ot),st(ft)),vt.current===i&&(st(vt),yh._currentValue=Z)}var Ci=Object.prototype.hasOwnProperty,Ri=l.unstable_scheduleCallback,De=l.unstable_cancelCallback,Rt=l.unstable_shouldYield,Oe=l.unstable_requestPaint,Gt=l.unstable_now,Ca=l.unstable_getCurrentPriorityLevel,Hr=l.unstable_ImmediatePriority,Br=l.unstable_UserBlockingPriority,Vt=l.unstable_NormalPriority,le=l.unstable_LowPriority,Zn=l.unstable_IdlePriority,wf=l.log,wm=l.unstable_setDisableYieldValue,zr=null,ji=null;function Ra(i){if(typeof wf=="function"&&wm(i),ji&&typeof ji.setStrictMode=="function")try{ji.setStrictMode(zr,i)}catch{}}var Ui=Math.clz32?Math.clz32:RC,TC=Math.log,CC=Math.LN2;function RC(i){return i>>>=0,i===0?32:31-(TC(i)/CC|0)|0}var xf=256,Tf=4194304;function Ir(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Cf(i,s,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var T=u&134217727;return T!==0?(u=T&~v,u!==0?g=Ir(u):(_&=T,_!==0?g=Ir(_):a||(a=T&~i,a!==0&&(g=Ir(a))))):(T=u&~v,T!==0?g=Ir(T):_!==0?g=Ir(_):a||(a=u&~i,a!==0&&(g=Ir(a)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:g}function Cu(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function MC(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bA(){var i=xf;return xf<<=1,(xf&4194048)===0&&(xf=256),i}function AA(){var i=Tf;return Tf<<=1,(Tf&62914560)===0&&(Tf=4194304),i}function xm(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ru(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function LC(i,s,a,u,g,v){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,D=i.expirationTimes,X=i.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Ui(a),it=1<<J;T[J]=0,D[J]=-1;var K=X[J];if(K!==null)for(X[J]=null,J=0;J<K.length;J++){var W=K[J];W!==null&&(W.lane&=-536870913)}a&=~it}u!==0&&_A(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~s))}function _A(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ui(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194090}function SA(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var u=31-Ui(a),g=1<<u;g&s|i[u]&s&&(i[u]|=s),a&=~g}}function Tm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function EA(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:iE(i.type))}function DC(i,s){var a=Y.p;try{return Y.p=i,s()}finally{Y.p=a}}var Ma=Math.random().toString(36).slice(2),ci="__reactFiber$"+Ma,Mi="__reactProps$"+Ma,Al="__reactContainer$"+Ma,Rm="__reactEvents$"+Ma,OC="__reactListeners$"+Ma,NC="__reactHandles$"+Ma,wA="__reactResources$"+Ma,Mu="__reactMarker$"+Ma;function Mm(i){delete i[ci],delete i[Mi],delete i[Rm],delete i[OC],delete i[NC]}function _l(i){var s=i[ci];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Al]||a[ci]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=jS(i);i!==null;){if(a=i[ci])return a;i=jS(i)}return s}i=a,a=i.parentNode}return null}function Sl(i){if(i=i[ci]||i[Al]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Lu(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function El(i){var s=i[wA];return s||(s=i[wA]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(i){i[Mu]=!0}var xA=new Set,TA={};function jr(i,s){wl(i,s),wl(i+"Capture",s)}function wl(i,s){for(TA[i]=s,i=0;i<s.length;i++)xA.add(s[i])}var kC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CA={},RA={};function PC(i){return Ci.call(RA,i)?!0:Ci.call(CA,i)?!1:kC.test(i)?RA[i]=!0:(CA[i]=!0,!1)}function Rf(i,s,a){if(PC(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Mf(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function xs(i,s,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+u)}}var Lm,MA;function xl(i){if(Lm===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Lm=s&&s[1]||"",MA=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lm+i+MA}var Dm=!1;function Om(i,s){if(!i||Dm)return"";Dm=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var K=W}Reflect.construct(i,[],it)}else{try{it.call()}catch(W){K=W}i.call(it.prototype)}}else{try{throw Error()}catch(W){K=W}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],T=v[1];if(_&&T){var D=_.split(`
`),X=T.split(`
`);for(g=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(u===D.length||g===X.length)for(u=D.length-1,g=X.length-1;1<=u&&0<=g&&D[u]!==X[g];)g--;for(;1<=u&&0<=g;u--,g--)if(D[u]!==X[g]){if(u!==1||g!==1)do if(u--,g--,0>g||D[u]!==X[g]){var J=`
`+D[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=g);break}}}finally{Dm=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?xl(a):""}function FC(i){switch(i.tag){case 26:case 27:case 5:return xl(i.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 15:return Om(i.type,!1);case 11:return Om(i.type.render,!1);case 1:return Om(i.type,!0);case 31:return xl("Activity");default:return""}}function LA(i){try{var s="";do s+=FC(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function DA(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function HC(i){var s=DA(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(_){u=""+_,v.call(this,_)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Lf(i){i._valueTracker||(i._valueTracker=HC(i))}function OA(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return i&&(u=DA(i)?i.checked?"true":"false":i.value),i=u,i!==a?(s.setValue(i),!0):!1}function Df(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var BC=/[\n"\\]/g;function un(i){return i.replace(BC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nm(i,s,a,u,g,v,_,T){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?km(i,_,cn(s)):a!=null?km(i,_,cn(a)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+cn(T):i.removeAttribute("name")}function NA(i,s,a,u,g,v,_,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,T||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=T?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function km(i,s,a){s==="number"&&Df(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Tl(i,s,a,u){if(i=i.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=s.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function kA(i,s,a){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+cn(a):""}function PA(i,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(n(92));if(lt(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=cn(s),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function Cl(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var zC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function FA(i,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,a):typeof a!="number"||a===0||zC.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function HA(i,s,a){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&a[g]!==u&&FA(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&FA(i,v,s[v])}function Pm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Of(i){return jC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fm=null;function Hm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rl=null,Ml=null;function BA(i){var s=Sl(i);if(s&&(i=s.stateNode)){var a=i[Mi]||null;t:switch(i=s.stateNode,s.type){case"input":if(Nm(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==i&&u.form===i.form){var g=u[Mi]||null;if(!g)throw Error(n(90));Nm(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===i.form&&OA(u)}break t;case"textarea":kA(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Tl(i,!!a.multiple,s,!1)}}}var Bm=!1;function zA(i,s,a){if(Bm)return i(s,a);Bm=!0;try{var u=i(s);return u}finally{if(Bm=!1,(Rl!==null||Ml!==null)&&(vp(),Rl&&(s=Rl,i=Ml,Ml=Rl=null,BA(s),i)))for(s=0;s<i.length;s++)BA(i[s])}}function Du(i,s){var a=i.stateNode;if(a===null)return null;var u=a[Mi]||null;if(u===null)return null;a=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=!1;if(Ts)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){zm=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{zm=!1}var La=null,Im=null,Nf=null;function IA(){if(Nf)return Nf;var i,s=Im,a=s.length,u,g="value"in La?La.value:La.textContent,v=g.length;for(i=0;i<a&&s[i]===g[i];i++);var _=a-i;for(u=1;u<=_&&s[a-u]===g[v-u];u++);return Nf=g.slice(i,1<u?1-u:void 0)}function kf(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Pf(){return!0}function jA(){return!1}function Li(i){function s(a,u,g,v,_){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Pf:jA,this.isPropagationStopped=jA,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),s}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=Li(Ur),Nu=m({},Ur,{view:0,detail:0}),UC=Li(Nu),jm,Um,ku,Hf=m({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ku&&(ku&&i.type==="mousemove"?(jm=i.screenX-ku.screenX,Um=i.screenY-ku.screenY):Um=jm=0,ku=i),jm)},movementY:function(i){return"movementY"in i?i.movementY:Um}}),UA=Li(Hf),VC=m({},Hf,{dataTransfer:0}),GC=Li(VC),qC=m({},Nu,{relatedTarget:0}),Vm=Li(qC),XC=m({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Li(XC),KC=m({},Ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$C=Li(KC),WC=m({},Ur,{data:0}),VA=Li(WC),QC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tR(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=JC[i])?!!s[i]:!1}function Gm(){return tR}var eR=m({},Nu,{key:function(i){if(i.key){var s=QC[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=kf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ZC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(i){return i.type==="keypress"?kf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iR=Li(eR),nR=m({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GA=Li(nR),sR=m({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),aR=Li(sR),rR=m({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),oR=Li(rR),lR=m({},Hf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cR=Li(lR),uR=m({},Ur,{newState:0,oldState:0}),hR=Li(uR),dR=[9,13,27,32],qm=Ts&&"CompositionEvent"in window,Pu=null;Ts&&"documentMode"in document&&(Pu=document.documentMode);var fR=Ts&&"TextEvent"in window&&!Pu,qA=Ts&&(!qm||Pu&&8<Pu&&11>=Pu),XA=" ",YA=!1;function KA(i,s){switch(i){case"keyup":return dR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $A(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ll=!1;function pR(i,s){switch(i){case"compositionend":return $A(s);case"keypress":return s.which!==32?null:(YA=!0,XA);case"textInput":return i=s.data,i===XA&&YA?null:i;default:return null}}function gR(i,s){if(Ll)return i==="compositionend"||!qm&&KA(i,s)?(i=IA(),Nf=Im=La=null,Ll=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qA&&s.locale!=="ko"?null:s.data;default:return null}}var mR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WA(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!mR[i.type]:s==="textarea"}function QA(i,s,a,u){Rl?Ml?Ml.push(u):Ml=[u]:Rl=u,s=Ep(s,"onChange"),0<s.length&&(a=new Ff("onChange","change",null,a,u),i.push({event:a,listeners:s}))}var Fu=null,Hu=null;function vR(i){DS(i,0)}function Bf(i){var s=Lu(i);if(OA(s))return i}function ZA(i,s){if(i==="change")return s}var JA=!1;if(Ts){var Xm;if(Ts){var Ym="oninput"in document;if(!Ym){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),Ym=typeof t1.oninput=="function"}Xm=Ym}else Xm=!1;JA=Xm&&(!document.documentMode||9<document.documentMode)}function e1(){Fu&&(Fu.detachEvent("onpropertychange",i1),Hu=Fu=null)}function i1(i){if(i.propertyName==="value"&&Bf(Hu)){var s=[];QA(s,Hu,i,Hm(i)),zA(vR,s)}}function yR(i,s,a){i==="focusin"?(e1(),Fu=s,Hu=a,Fu.attachEvent("onpropertychange",i1)):i==="focusout"&&e1()}function bR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bf(Hu)}function AR(i,s){if(i==="click")return Bf(s)}function _R(i,s){if(i==="input"||i==="change")return Bf(s)}function SR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vi=typeof Object.is=="function"?Object.is:SR;function Bu(i,s){if(Vi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Ci.call(s,g)||!Vi(i[g],s[g]))return!1}return!0}function n1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s1(i,s){var a=n1(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=s&&u>=s)return{node:a,offset:s-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=n1(a)}}function a1(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?a1(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function r1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Df(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Df(i.document)}return s}function Km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ER=Ts&&"documentMode"in document&&11>=document.documentMode,Dl=null,$m=null,zu=null,Wm=!1;function o1(i,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wm||Dl==null||Dl!==Df(u)||(u=Dl,"selectionStart"in u&&Km(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zu&&Bu(zu,u)||(zu=u,u=Ep($m,"onSelect"),0<u.length&&(s=new Ff("onSelect","select",null,s,a),i.push({event:s,listeners:u}),s.target=Dl)))}function Vr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Ol={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Qm={},l1={};Ts&&(l1=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Gr(i){if(Qm[i])return Qm[i];if(!Ol[i])return i;var s=Ol[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in l1)return Qm[i]=s[a];return i}var c1=Gr("animationend"),u1=Gr("animationiteration"),h1=Gr("animationstart"),wR=Gr("transitionrun"),xR=Gr("transitionstart"),TR=Gr("transitioncancel"),d1=Gr("transitionend"),f1=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function Ln(i,s){f1.set(i,s),jr(s,[i])}var p1=new WeakMap;function hn(i,s){if(typeof i=="object"&&i!==null){var a=p1.get(i);return a!==void 0?a:(s={value:i,source:s,stack:LA(s)},p1.set(i,s),s)}return{value:i,source:s,stack:LA(s)}}var dn=[],Nl=0,Jm=0;function zf(){for(var i=Nl,s=Jm=Nl=0;s<i;){var a=dn[s];dn[s++]=null;var u=dn[s];dn[s++]=null;var g=dn[s];dn[s++]=null;var v=dn[s];if(dn[s++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}v!==0&&g1(a,g,v)}}function If(i,s,a,u){dn[Nl++]=i,dn[Nl++]=s,dn[Nl++]=a,dn[Nl++]=u,Jm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function tv(i,s,a,u){return If(i,s,a,u),jf(i)}function kl(i,s){return If(i,null,null,s),jf(i)}function g1(i,s,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-Ui(a),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=a|536870912),v):null}function jf(i){if(50<uh)throw uh=0,r0=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Pl={};function CR(i,s,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(i,s,a,u){return new CR(i,s,a,u)}function ev(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,s){var a=i.alternate;return a===null?(a=Gi(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function m1(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uf(i,s,a,u,g,v){var _=0;if(u=i,typeof i=="function")ev(i)&&(_=1);else if(typeof i=="string")_=M2(i,a,ot.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=Gi(31,a,s,g),i.elementType=j,i.lanes=v,i;case S:return qr(a.children,g,v,s);case x:_=8,g|=24;break;case M:return i=Gi(12,a,s,g|2),i.elementType=M,i.lanes=v,i;case I:return i=Gi(13,a,s,g),i.elementType=I,i.lanes=v,i;case N:return i=Gi(19,a,s,g),i.elementType=N,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case O:_=10;break t;case k:_=9;break t;case P:_=11;break t;case V:_=14;break t;case F:_=16,u=null;break t}_=29,a=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Gi(_,a,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function qr(i,s,a,u){return i=Gi(7,i,u,s),i.lanes=a,i}function iv(i,s,a){return i=Gi(6,i,null,s),i.lanes=a,i}function nv(i,s,a){return s=Gi(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Fl=[],Hl=0,Vf=null,Gf=0,fn=[],pn=0,Xr=null,Rs=1,Ms="";function Yr(i,s){Fl[Hl++]=Gf,Fl[Hl++]=Vf,Vf=i,Gf=s}function v1(i,s,a){fn[pn++]=Rs,fn[pn++]=Ms,fn[pn++]=Xr,Xr=i;var u=Rs;i=Ms;var g=32-Ui(u)-1;u&=~(1<<g),a+=1;var v=32-Ui(s)+g;if(30<v){var _=g-g%5;v=(u&(1<<_)-1).toString(32),u>>=_,g-=_,Rs=1<<32-Ui(s)+g|a<<g|u,Ms=v+i}else Rs=1<<v|a<<g|u,Ms=i}function sv(i){i.return!==null&&(Yr(i,1),v1(i,1,0))}function av(i){for(;i===Vf;)Vf=Fl[--Hl],Fl[Hl]=null,Gf=Fl[--Hl],Fl[Hl]=null;for(;i===Xr;)Xr=fn[--pn],fn[pn]=null,Ms=fn[--pn],fn[pn]=null,Rs=fn[--pn],fn[pn]=null}var bi=null,ve=null,Xt=!1,Kr=null,Jn=!1,rv=Error(n(519));function $r(i){var s=Error(n(418,""));throw Uu(hn(s,i)),rv}function y1(i){var s=i.stateNode,a=i.type,u=i.memoizedProps;switch(s[ci]=i,s[Mi]=u,a){case"dialog":zt("cancel",s),zt("close",s);break;case"iframe":case"object":case"embed":zt("load",s);break;case"video":case"audio":for(a=0;a<dh.length;a++)zt(dh[a],s);break;case"source":zt("error",s);break;case"img":case"image":case"link":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"input":zt("invalid",s),NA(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Lf(s);break;case"select":zt("invalid",s);break;case"textarea":zt("invalid",s),PA(s,u.value,u.defaultValue,u.children),Lf(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||PS(s.textContent,a)?(u.popover!=null&&(zt("beforetoggle",s),zt("toggle",s)),u.onScroll!=null&&zt("scroll",s),u.onScrollEnd!=null&&zt("scrollend",s),u.onClick!=null&&(s.onclick=wp),s=!0):s=!1,s||$r(i)}function b1(i){for(bi=i.return;bi;)switch(bi.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:bi=bi.return}}function Iu(i){if(i!==bi)return!1;if(!Xt)return b1(i),Xt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||S0(i.type,i.memoizedProps)),a=!a),a&&ve&&$r(i),b1(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){ve=On(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}ve=null}}else s===27?(s=ve,Xa(i.type)?(i=T0,T0=null,ve=i):ve=s):ve=bi?On(i.stateNode.nextSibling):null;return!0}function ju(){ve=bi=null,Xt=!1}function A1(){var i=Kr;return i!==null&&(Ni===null?Ni=i:Ni.push.apply(Ni,i),Kr=null),i}function Uu(i){Kr===null?Kr=[i]:Kr.push(i)}var ov=$(null),Wr=null,Ls=null;function Da(i,s,a){Q(ov,s._currentValue),s._currentValue=a}function Ds(i){i._currentValue=ov.current,st(ov)}function lv(i,s,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===a)break;i=i.return}}function cv(i,s,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var _=g.child;v=v.firstContext;t:for(;v!==null;){var T=v;v=g;for(var D=0;D<s.length;D++)if(T.context===s[D]){v.lanes|=a,T=v.alternate,T!==null&&(T.lanes|=a),lv(v.return,a,i),u||(_=null);break t}v=T.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=a,v=_.alternate,v!==null&&(v.lanes|=a),lv(_,a,i),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Vu(i,s,a,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var T=g.type;Vi(g.pendingProps.value,_.value)||(i!==null?i.push(T):i=[T])}}else if(g===vt.current){if(_=g.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(yh):i=[yh])}g=g.return}i!==null&&cv(s,i,a,u),s.flags|=262144}function qf(i){for(i=i.firstContext;i!==null;){if(!Vi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qr(i){Wr=i,Ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ui(i){return _1(Wr,i)}function Xf(i,s){return Wr===null&&Qr(i),_1(i,s)}function _1(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ls===null){if(i===null)throw Error(n(308));Ls=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ls=Ls.next=s;return a}var RR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},MR=l.unstable_scheduleCallback,LR=l.unstable_NormalPriority,Ne={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uv(){return{controller:new RR,data:new Map,refCount:0}}function Gu(i){i.refCount--,i.refCount===0&&MR(LR,function(){i.controller.abort()})}var qu=null,hv=0,Bl=0,zl=null;function DR(i,s){if(qu===null){var a=qu=[];hv=0,Bl=f0(),zl={status:"pending",value:void 0,then:function(u){a.push(u)}}}return hv++,s.then(S1,S1),s}function S1(){if(--hv===0&&qu!==null){zl!==null&&(zl.status="fulfilled");var i=qu;qu=null,Bl=0,zl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function OR(i,s){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var E1=B.S;B.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&DR(i,s),E1!==null&&E1(i,s)};var Zr=$(null);function dv(){var i=Zr.current;return i!==null?i:re.pooledCache}function Yf(i,s){s===null?Q(Zr,Zr.current):Q(Zr,s.pool)}function w1(){var i=dv();return i===null?null:{parent:Ne._currentValue,pool:i}}var Xu=Error(n(460)),x1=Error(n(474)),Kf=Error(n(542)),fv={then:function(){}};function T1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $f(){}function C1(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then($f,$f),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,M1(i),i;default:if(typeof s.status=="string")s.then($f,$f);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,M1(i),i}throw Yu=s,Xu}}var Yu=null;function R1(){if(Yu===null)throw Error(n(459));var i=Yu;return Yu=null,i}function M1(i){if(i===Xu||i===Kf)throw Error(n(483))}var Oa=!1;function pv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Na(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ka(i,s,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=jf(i),g1(i,null,a),s}return If(i,u,s,a),jf(i)}function Ku(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,SA(i,a)}}function mv(i,s){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=_:v=v.next=_,a=a.next}while(a!==null);v===null?g=v=s:v=v.next=s}else g=v=s;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var vv=!1;function $u(){if(vv){var i=zl;if(i!==null)throw i}}function Wu(i,s,a,u){vv=!1;var g=i.updateQueue;Oa=!1;var v=g.firstBaseUpdate,_=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var D=T,X=D.next;D.next=null,_===null?v=X:_.next=X,_=D;var J=i.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=X:T.next=X,J.lastBaseUpdate=D))}if(v!==null){var it=g.baseState;_=0,J=X=D=null,T=v;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(Ut&K)===K:(u&K)===K){K!==0&&K===Bl&&(vv=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=i,St=T;K=s;var ie=a;switch(St.tag){case 1:if(wt=St.payload,typeof wt=="function"){it=wt.call(ie,it,K);break t}it=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=St.payload,K=typeof wt=="function"?wt.call(ie,it,K):wt,K==null)break t;it=m({},it,K);break t;case 2:Oa=!0}}K=T.callback,K!==null&&(i.flags|=64,W&&(i.flags|=8192),W=g.callbacks,W===null?g.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(X=J=W,D=it):J=J.next=W,_|=K;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;W=T,T=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);J===null&&(D=it),g.baseState=D,g.firstBaseUpdate=X,g.lastBaseUpdate=J,v===null&&(g.shared.lanes=0),Ua|=_,i.lanes=_,i.memoizedState=it}}function L1(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function D1(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)L1(a[i],s)}var Il=$(null),Wf=$(0);function O1(i,s){i=Bs,Q(Wf,i),Q(Il,s),Bs=i|s.baseLanes}function yv(){Q(Wf,Bs),Q(Il,Il.current)}function bv(){Bs=Wf.current,st(Il),st(Wf)}var Pa=0,kt=null,te=null,Te=null,Qf=!1,jl=!1,Jr=!1,Zf=0,Qu=0,Ul=null,NR=0;function _e(){throw Error(n(321))}function Av(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Vi(i[a],s[a]))return!1;return!0}function _v(i,s,a,u,g,v){return Pa=v,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=i===null||i.memoizedState===null?g_:m_,Jr=!1,v=a(u,g),Jr=!1,jl&&(v=k1(s,a,u,g)),N1(i),v}function N1(i){B.H=sp;var s=te!==null&&te.next!==null;if(Pa=0,Te=te=kt=null,Qf=!1,Qu=0,Ul=null,s)throw Error(n(300));i===null||Ve||(i=i.dependencies,i!==null&&qf(i)&&(Ve=!0))}function k1(i,s,a,u){kt=i;var g=0;do{if(jl&&(Ul=null),Qu=0,jl=!1,25<=g)throw Error(n(301));if(g+=1,Te=te=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=IR,v=s(a,u)}while(jl);return v}function kR(){var i=B.H,s=i.useState()[0];return s=typeof s.then=="function"?Zu(s):s,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(kt.flags|=1024),s}function Sv(){var i=Zf!==0;return Zf=0,i}function Ev(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function wv(i){if(Qf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Qf=!1}Pa=0,Te=te=kt=null,jl=!1,Qu=Zf=0,Ul=null}function Di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?kt.memoizedState=Te=i:Te=Te.next=i,Te}function Ce(){if(te===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var s=Te===null?kt.memoizedState:Te.next;if(s!==null)Te=s,te=i;else{if(i===null)throw kt.alternate===null?Error(n(467)):Error(n(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Te===null?kt.memoizedState=Te=i:Te=Te.next=i}return Te}function xv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(i){var s=Qu;return Qu+=1,Ul===null&&(Ul=[]),i=C1(Ul,i,s),s=kt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?g_:m_),i}function Jf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zu(i);if(i.$$typeof===O)return ui(i)}throw Error(n(438,String(i)))}function Tv(i){var s=null,a=kt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=kt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xv(),kt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),u=0;u<i;u++)a[u]=at;return s.index++,a}function Os(i,s){return typeof s=="function"?s(i):s}function tp(i){var s=Ce();return Cv(s,te,i)}function Cv(i,s,a){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var _=g.next;g.next=v.next,v.next=_}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var T=_=null,D=null,X=s,J=!1;do{var it=X.lane&-536870913;if(it!==X.lane?(Ut&it)===it:(Pa&it)===it){var K=X.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),it===Bl&&(J=!0);else if((Pa&K)===K){X=X.next,K===Bl&&(J=!0);continue}else it={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(T=D=it,_=v):D=D.next=it,kt.lanes|=K,Ua|=K;it=X.action,Jr&&a(v,it),v=X.hasEagerState?X.eagerState:a(v,it)}else K={lane:it,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(T=D=K,_=v):D=D.next=K,kt.lanes|=it,Ua|=it;X=X.next}while(X!==null&&X!==s);if(D===null?_=v:D.next=T,!Vi(v,i.memoizedState)&&(Ve=!0,J&&(a=zl,a!==null)))throw a;i.memoizedState=v,i.baseState=_,i.baseQueue=D,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Rv(i){var s=Ce(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,v=s.memoizedState;if(g!==null){a.pending=null;var _=g=g.next;do v=i(v,_.action),_=_.next;while(_!==g);Vi(v,s.memoizedState)||(Ve=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function P1(i,s,a){var u=kt,g=Ce(),v=Xt;if(v){if(a===void 0)throw Error(n(407));a=a()}else a=s();var _=!Vi((te||g).memoizedState,a);_&&(g.memoizedState=a,Ve=!0),g=g.queue;var T=B1.bind(null,u,g,i);if(Ju(2048,8,T,[i]),g.getSnapshot!==s||_||Te!==null&&Te.memoizedState.tag&1){if(u.flags|=2048,Vl(9,ep(),H1.bind(null,u,g,a,s),null),re===null)throw Error(n(349));v||(Pa&124)!==0||F1(u,s,a)}return a}function F1(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=kt.updateQueue,s===null?(s=xv(),kt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function H1(i,s,a,u){s.value=a,s.getSnapshot=u,z1(s)&&I1(i)}function B1(i,s,a){return a(function(){z1(s)&&I1(i)})}function z1(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Vi(i,a)}catch{return!0}}function I1(i){var s=kl(i,2);s!==null&&$i(s,i,2)}function Mv(i){var s=Di();if(typeof i=="function"){var a=i;if(i=a(),Jr){Ra(!0);try{a()}finally{Ra(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:i},s}function j1(i,s,a,u){return i.baseState=a,Cv(i,te,typeof u=="function"?u:Os)}function PR(i,s,a,u,g){if(np(i))throw Error(n(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};B.T!==null?a(!0):v.isTransition=!1,u(v),a=s.pending,a===null?(v.next=s.pending=v,U1(s,v)):(v.next=a.next,s.pending=a.next=v)}}function U1(i,s){var a=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=B.T,_={};B.T=_;try{var T=a(g,u),D=B.S;D!==null&&D(_,T),V1(i,s,T)}catch(X){Lv(i,s,X)}finally{B.T=v}}else try{v=a(g,u),V1(i,s,v)}catch(X){Lv(i,s,X)}}function V1(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){G1(i,s,u)},function(u){return Lv(i,s,u)}):G1(i,s,a)}function G1(i,s,a){s.status="fulfilled",s.value=a,q1(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,U1(i,a)))}function Lv(i,s,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,q1(s),s=s.next;while(s!==u)}i.action=null}function q1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function X1(i,s){return s}function Y1(i,s){if(Xt){var a=re.formState;if(a!==null){t:{var u=kt;if(Xt){if(ve){e:{for(var g=ve,v=Jn;g.nodeType!==8;){if(!v){g=null;break e}if(g=On(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){ve=On(g.nextSibling),u=g.data==="F!";break t}}$r(u)}u=!1}u&&(s=a[0])}}return a=Di(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X1,lastRenderedState:s},a.queue=u,a=d_.bind(null,kt,u),u.dispatch=a,u=Mv(!1),v=Pv.bind(null,kt,!1,u.queue),u=Di(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,a=PR.bind(null,kt,g,v,a),g.dispatch=a,u.memoizedState=i,[s,a,!1]}function K1(i){var s=Ce();return $1(s,te,i)}function $1(i,s,a){if(s=Cv(i,s,X1)[0],i=tp(Os)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Zu(s)}catch(_){throw _===Xu?Kf:_}else u=s;s=Ce();var g=s.queue,v=g.dispatch;return a!==s.memoizedState&&(kt.flags|=2048,Vl(9,ep(),FR.bind(null,g,a),null)),[u,v,i]}function FR(i,s){i.action=s}function W1(i){var s=Ce(),a=te;if(a!==null)return $1(s,a,i);Ce(),s=s.memoizedState,a=Ce();var u=a.queue.dispatch;return a.memoizedState=i,[s,u,!1]}function Vl(i,s,a,u){return i={tag:i,create:a,deps:u,inst:s,next:null},s=kt.updateQueue,s===null&&(s=xv(),kt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,s.lastEffect=i),i}function ep(){return{destroy:void 0,resource:void 0}}function Q1(){return Ce().memoizedState}function ip(i,s,a,u){var g=Di();u=u===void 0?null:u,kt.flags|=i,g.memoizedState=Vl(1|s,ep(),a,u)}function Ju(i,s,a,u){var g=Ce();u=u===void 0?null:u;var v=g.memoizedState.inst;te!==null&&u!==null&&Av(u,te.memoizedState.deps)?g.memoizedState=Vl(s,v,a,u):(kt.flags|=i,g.memoizedState=Vl(1|s,v,a,u))}function Z1(i,s){ip(8390656,8,i,s)}function J1(i,s){Ju(2048,8,i,s)}function t_(i,s){return Ju(4,2,i,s)}function e_(i,s){return Ju(4,4,i,s)}function i_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function n_(i,s,a){a=a!=null?a.concat([i]):null,Ju(4,4,i_.bind(null,s,i),a)}function Dv(){}function s_(i,s){var a=Ce();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Av(s,u[1])?u[0]:(a.memoizedState=[i,s],i)}function a_(i,s){var a=Ce();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Av(s,u[1]))return u[0];if(u=i(),Jr){Ra(!0);try{i()}finally{Ra(!1)}}return a.memoizedState=[u,s],u}function Ov(i,s,a){return a===void 0||(Pa&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=lS(),kt.lanes|=i,Ua|=i,a)}function r_(i,s,a,u){return Vi(a,s)?a:Il.current!==null?(i=Ov(i,a,u),Vi(i,s)||(Ve=!0),i):(Pa&42)===0?(Ve=!0,i.memoizedState=a):(i=lS(),kt.lanes|=i,Ua|=i,s)}function o_(i,s,a,u,g){var v=Y.p;Y.p=v!==0&&8>v?v:8;var _=B.T,T={};B.T=T,Pv(i,!1,s,a);try{var D=g(),X=B.S;if(X!==null&&X(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=OR(D,u);th(i,s,J,Ki(i))}else th(i,s,u,Ki(i))}catch(it){th(i,s,{then:function(){},status:"rejected",reason:it},Ki())}finally{Y.p=v,B.T=_}}function HR(){}function Nv(i,s,a,u){if(i.tag!==5)throw Error(n(476));var g=l_(i).queue;o_(i,g,s,Z,a===null?HR:function(){return c_(i),a(u)})}function l_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:Z},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function c_(i){var s=l_(i).next.queue;th(i,s,{},Ki())}function kv(){return ui(yh)}function u_(){return Ce().memoizedState}function h_(){return Ce().memoizedState}function BR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ki();i=Na(a);var u=ka(s,i,a);u!==null&&($i(u,s,a),Ku(u,s,a)),s={cache:uv()},i.payload=s;return}s=s.return}}function zR(i,s,a){var u=Ki();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},np(i)?f_(s,a):(a=tv(i,s,a,u),a!==null&&($i(a,i,u),p_(a,s,u)))}function d_(i,s,a){var u=Ki();th(i,s,a,u)}function th(i,s,a,u){var g={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(np(i))f_(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var _=s.lastRenderedState,T=v(_,a);if(g.hasEagerState=!0,g.eagerState=T,Vi(T,_))return If(i,s,g,0),re===null&&zf(),!1}catch{}finally{}if(a=tv(i,s,g,u),a!==null)return $i(a,i,u),p_(a,s,u),!0}return!1}function Pv(i,s,a,u){if(u={lane:2,revertLane:f0(),action:u,hasEagerState:!1,eagerState:null,next:null},np(i)){if(s)throw Error(n(479))}else s=tv(i,a,u,2),s!==null&&$i(s,i,2)}function np(i){var s=i.alternate;return i===kt||s!==null&&s===kt}function f_(i,s){jl=Qf=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function p_(i,s,a){if((a&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,SA(i,a)}}var sp={readContext:ui,use:Jf,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},g_={readContext:ui,use:Jf,useCallback:function(i,s){return Di().memoizedState=[i,s===void 0?null:s],i},useContext:ui,useEffect:Z1,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,ip(4194308,4,i_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ip(4194308,4,i,s)},useInsertionEffect:function(i,s){ip(4,2,i,s)},useMemo:function(i,s){var a=Di();s=s===void 0?null:s;var u=i();if(Jr){Ra(!0);try{i()}finally{Ra(!1)}}return a.memoizedState=[u,s],u},useReducer:function(i,s,a){var u=Di();if(a!==void 0){var g=a(s);if(Jr){Ra(!0);try{a(s)}finally{Ra(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=zR.bind(null,kt,i),[u.memoizedState,i]},useRef:function(i){var s=Di();return i={current:i},s.memoizedState=i},useState:function(i){i=Mv(i);var s=i.queue,a=d_.bind(null,kt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Dv,useDeferredValue:function(i,s){var a=Di();return Ov(a,i,s)},useTransition:function(){var i=Mv(!1);return i=o_.bind(null,kt,i.queue,!0,!1),Di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var u=kt,g=Di();if(Xt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),re===null)throw Error(n(349));(Ut&124)!==0||F1(u,s,a)}g.memoizedState=a;var v={value:a,getSnapshot:s};return g.queue=v,Z1(B1.bind(null,u,v,i),[i]),u.flags|=2048,Vl(9,ep(),H1.bind(null,u,v,a,s),null),a},useId:function(){var i=Di(),s=re.identifierPrefix;if(Xt){var a=Ms,u=Rs;a=(u&~(1<<32-Ui(u)-1)).toString(32)+a,s="«"+s+"R"+a,a=Zf++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=NR++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:kv,useFormState:Y1,useActionState:Y1,useOptimistic:function(i){var s=Di();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Pv.bind(null,kt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Tv,useCacheRefresh:function(){return Di().memoizedState=BR.bind(null,kt)}},m_={readContext:ui,use:Jf,useCallback:s_,useContext:ui,useEffect:J1,useImperativeHandle:n_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:a_,useReducer:tp,useRef:Q1,useState:function(){return tp(Os)},useDebugValue:Dv,useDeferredValue:function(i,s){var a=Ce();return r_(a,te.memoizedState,i,s)},useTransition:function(){var i=tp(Os)[0],s=Ce().memoizedState;return[typeof i=="boolean"?i:Zu(i),s]},useSyncExternalStore:P1,useId:u_,useHostTransitionStatus:kv,useFormState:K1,useActionState:K1,useOptimistic:function(i,s){var a=Ce();return j1(a,te,i,s)},useMemoCache:Tv,useCacheRefresh:h_},IR={readContext:ui,use:Jf,useCallback:s_,useContext:ui,useEffect:J1,useImperativeHandle:n_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:a_,useReducer:Rv,useRef:Q1,useState:function(){return Rv(Os)},useDebugValue:Dv,useDeferredValue:function(i,s){var a=Ce();return te===null?Ov(a,i,s):r_(a,te.memoizedState,i,s)},useTransition:function(){var i=Rv(Os)[0],s=Ce().memoizedState;return[typeof i=="boolean"?i:Zu(i),s]},useSyncExternalStore:P1,useId:u_,useHostTransitionStatus:kv,useFormState:W1,useActionState:W1,useOptimistic:function(i,s){var a=Ce();return te!==null?j1(a,te,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Tv,useCacheRefresh:h_},Gl=null,eh=0;function ap(i){var s=eh;return eh+=1,Gl===null&&(Gl=[]),C1(Gl,i,s)}function ih(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function rp(i,s){throw s.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function v_(i){var s=i._init;return s(i._payload)}function y_(i){function s(U,H){if(i){var G=U.deletions;G===null?(U.deletions=[H],U.flags|=16):G.push(H)}}function a(U,H){if(!i)return null;for(;H!==null;)s(U,H),H=H.sibling;return null}function u(U){for(var H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function g(U,H){return U=Cs(U,H),U.index=0,U.sibling=null,U}function v(U,H,G){return U.index=G,i?(G=U.alternate,G!==null?(G=G.index,G<H?(U.flags|=67108866,H):G):(U.flags|=67108866,H)):(U.flags|=1048576,H)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function T(U,H,G,tt){return H===null||H.tag!==6?(H=iv(G,U.mode,tt),H.return=U,H):(H=g(H,G),H.return=U,H)}function D(U,H,G,tt){var gt=G.type;return gt===S?J(U,H,G.props.children,tt,G.key):H!==null&&(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&v_(gt)===H.type)?(H=g(H,G.props),ih(H,G),H.return=U,H):(H=Uf(G.type,G.key,G.props,null,U.mode,tt),ih(H,G),H.return=U,H)}function X(U,H,G,tt){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=nv(G,U.mode,tt),H.return=U,H):(H=g(H,G.children||[]),H.return=U,H)}function J(U,H,G,tt,gt){return H===null||H.tag!==7?(H=qr(G,U.mode,tt,gt),H.return=U,H):(H=g(H,G),H.return=U,H)}function it(U,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=iv(""+H,U.mode,G),H.return=U,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return G=Uf(H.type,H.key,H.props,null,U.mode,G),ih(G,H),G.return=U,G;case A:return H=nv(H,U.mode,G),H.return=U,H;case F:var tt=H._init;return H=tt(H._payload),it(U,H,G)}if(lt(H)||nt(H))return H=qr(H,U.mode,G,null),H.return=U,H;if(typeof H.then=="function")return it(U,ap(H),G);if(H.$$typeof===O)return it(U,Xf(U,H),G);rp(U,H)}return null}function K(U,H,G,tt){var gt=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:T(U,H,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===gt?D(U,H,G,tt):null;case A:return G.key===gt?X(U,H,G,tt):null;case F:return gt=G._init,G=gt(G._payload),K(U,H,G,tt)}if(lt(G)||nt(G))return gt!==null?null:J(U,H,G,tt,null);if(typeof G.then=="function")return K(U,H,ap(G),tt);if(G.$$typeof===O)return K(U,H,Xf(U,G),tt);rp(U,G)}return null}function W(U,H,G,tt,gt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(G)||null,T(H,U,""+tt,gt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return U=U.get(tt.key===null?G:tt.key)||null,D(H,U,tt,gt);case A:return U=U.get(tt.key===null?G:tt.key)||null,X(H,U,tt,gt);case F:var Ft=tt._init;return tt=Ft(tt._payload),W(U,H,G,tt,gt)}if(lt(tt)||nt(tt))return U=U.get(G)||null,J(H,U,tt,gt,null);if(typeof tt.then=="function")return W(U,H,G,ap(tt),gt);if(tt.$$typeof===O)return W(U,H,G,Xf(H,tt),gt);rp(H,tt)}return null}function wt(U,H,G,tt){for(var gt=null,Ft=null,At=H,Et=H=0,qe=null;At!==null&&Et<G.length;Et++){At.index>Et?(qe=At,At=null):qe=At.sibling;var qt=K(U,At,G[Et],tt);if(qt===null){At===null&&(At=qe);break}i&&At&&qt.alternate===null&&s(U,At),H=v(qt,H,Et),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt,At=qe}if(Et===G.length)return a(U,At),Xt&&Yr(U,Et),gt;if(At===null){for(;Et<G.length;Et++)At=it(U,G[Et],tt),At!==null&&(H=v(At,H,Et),Ft===null?gt=At:Ft.sibling=At,Ft=At);return Xt&&Yr(U,Et),gt}for(At=u(At);Et<G.length;Et++)qe=W(At,U,Et,G[Et],tt),qe!==null&&(i&&qe.alternate!==null&&At.delete(qe.key===null?Et:qe.key),H=v(qe,H,Et),Ft===null?gt=qe:Ft.sibling=qe,Ft=qe);return i&&At.forEach(function(Qa){return s(U,Qa)}),Xt&&Yr(U,Et),gt}function St(U,H,G,tt){if(G==null)throw Error(n(151));for(var gt=null,Ft=null,At=H,Et=H=0,qe=null,qt=G.next();At!==null&&!qt.done;Et++,qt=G.next()){At.index>Et?(qe=At,At=null):qe=At.sibling;var Qa=K(U,At,qt.value,tt);if(Qa===null){At===null&&(At=qe);break}i&&At&&Qa.alternate===null&&s(U,At),H=v(Qa,H,Et),Ft===null?gt=Qa:Ft.sibling=Qa,Ft=Qa,At=qe}if(qt.done)return a(U,At),Xt&&Yr(U,Et),gt;if(At===null){for(;!qt.done;Et++,qt=G.next())qt=it(U,qt.value,tt),qt!==null&&(H=v(qt,H,Et),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return Xt&&Yr(U,Et),gt}for(At=u(At);!qt.done;Et++,qt=G.next())qt=W(At,U,Et,qt.value,tt),qt!==null&&(i&&qt.alternate!==null&&At.delete(qt.key===null?Et:qt.key),H=v(qt,H,Et),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return i&&At.forEach(function(j2){return s(U,j2)}),Xt&&Yr(U,Et),gt}function ie(U,H,G,tt){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var gt=G.key;H!==null;){if(H.key===gt){if(gt=G.type,gt===S){if(H.tag===7){a(U,H.sibling),tt=g(H,G.props.children),tt.return=U,U=tt;break t}}else if(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&v_(gt)===H.type){a(U,H.sibling),tt=g(H,G.props),ih(tt,G),tt.return=U,U=tt;break t}a(U,H);break}else s(U,H);H=H.sibling}G.type===S?(tt=qr(G.props.children,U.mode,tt,G.key),tt.return=U,U=tt):(tt=Uf(G.type,G.key,G.props,null,U.mode,tt),ih(tt,G),tt.return=U,U=tt)}return _(U);case A:t:{for(gt=G.key;H!==null;){if(H.key===gt)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){a(U,H.sibling),tt=g(H,G.children||[]),tt.return=U,U=tt;break t}else{a(U,H);break}else s(U,H);H=H.sibling}tt=nv(G,U.mode,tt),tt.return=U,U=tt}return _(U);case F:return gt=G._init,G=gt(G._payload),ie(U,H,G,tt)}if(lt(G))return wt(U,H,G,tt);if(nt(G)){if(gt=nt(G),typeof gt!="function")throw Error(n(150));return G=gt.call(G),St(U,H,G,tt)}if(typeof G.then=="function")return ie(U,H,ap(G),tt);if(G.$$typeof===O)return ie(U,H,Xf(U,G),tt);rp(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(a(U,H.sibling),tt=g(H,G),tt.return=U,U=tt):(a(U,H),tt=iv(G,U.mode,tt),tt.return=U,U=tt),_(U)):a(U,H)}return function(U,H,G,tt){try{eh=0;var gt=ie(U,H,G,tt);return Gl=null,gt}catch(At){if(At===Xu||At===Kf)throw At;var Ft=Gi(29,At,null,U.mode);return Ft.lanes=tt,Ft.return=U,Ft}finally{}}}var ql=y_(!0),b_=y_(!1),gn=$(null),ts=null;function Fa(i){var s=i.alternate;Q(ke,ke.current&1),Q(gn,i),ts===null&&(s===null||Il.current!==null||s.memoizedState!==null)&&(ts=i)}function A_(i){if(i.tag===22){if(Q(ke,ke.current),Q(gn,i),ts===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ts=i)}}else Ha()}function Ha(){Q(ke,ke.current),Q(gn,gn.current)}function Ns(i){st(gn),ts===i&&(ts=null),st(ke)}var ke=$(0);function op(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||x0(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fv(i,s,a,u){s=i.memoizedState,a=a(u,s),a=a==null?s:m({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Hv={enqueueSetState:function(i,s,a){i=i._reactInternals;var u=Ki(),g=Na(u);g.payload=s,a!=null&&(g.callback=a),s=ka(i,g,u),s!==null&&($i(s,i,u),Ku(s,i,u))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var u=Ki(),g=Na(u);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ka(i,g,u),s!==null&&($i(s,i,u),Ku(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Ki(),u=Na(a);u.tag=2,s!=null&&(u.callback=s),s=ka(i,u,a),s!==null&&($i(s,i,a),Ku(s,i,a))}};function __(i,s,a,u,g,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,_):s.prototype&&s.prototype.isPureReactComponent?!Bu(a,u)||!Bu(g,v):!0}function S_(i,s,a,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==i&&Hv.enqueueReplaceState(s,s.state,null)}function to(i,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(i=i.defaultProps){a===s&&(a=m({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}var lp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function E_(i){lp(i)}function w_(i){console.error(i)}function x_(i){lp(i)}function cp(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function T_(i,s,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Bv(i,s,a){return a=Na(a),a.tag=3,a.payload={element:null},a.callback=function(){cp(i,s)},a}function C_(i){return i=Na(i),i.tag=3,i}function R_(i,s,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){T_(s,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){T_(s,a,u),typeof g!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function jR(i,s,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Vu(s,a,g,!0),a=gn.current,a!==null){switch(a.tag){case 13:return ts===null?l0():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===fv?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),u0(i,u,g)),!1;case 22:return a.flags|=65536,u===fv?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),u0(i,u,g)),!1}throw Error(n(435,a.tag))}return u0(i,u,g),l0(),!1}if(Xt)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==rv&&(i=Error(n(422),{cause:u}),Uu(hn(i,a)))):(u!==rv&&(s=Error(n(423),{cause:u}),Uu(hn(s,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=hn(u,a),g=Bv(i.stateNode,u,g),mv(i,g),ye!==4&&(ye=2)),!1;var v=Error(n(520),{cause:u});if(v=hn(v,a),ch===null?ch=[v]:ch.push(v),ye!==4&&(ye=2),s===null)return!0;u=hn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Bv(a.stateNode,u,i),mv(a,i),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Va===null||!Va.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=C_(g),R_(g,i,a,u),mv(a,g),!1}a=a.return}while(a!==null);return!1}var M_=Error(n(461)),Ve=!1;function Ze(i,s,a,u){s.child=i===null?b_(s,null,a,u):ql(s,i.child,a,u)}function L_(i,s,a,u,g){a=a.render;var v=s.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return Qr(s),u=_v(i,s,a,_,v,g),T=Sv(),i!==null&&!Ve?(Ev(i,s,g),ks(i,s,g)):(Xt&&T&&sv(s),s.flags|=1,Ze(i,s,u,g),s.child)}function D_(i,s,a,u,g){if(i===null){var v=a.type;return typeof v=="function"&&!ev(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,O_(i,s,v,u,g)):(i=Uf(a.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Xv(i,g)){var _=v.memoizedProps;if(a=a.compare,a=a!==null?a:Bu,a(_,u)&&i.ref===s.ref)return ks(i,s,g)}return s.flags|=1,i=Cs(v,u),i.ref=s.ref,i.return=s,s.child=i}function O_(i,s,a,u,g){if(i!==null){var v=i.memoizedProps;if(Bu(v,u)&&i.ref===s.ref)if(Ve=!1,s.pendingProps=u=v,Xv(i,g))(i.flags&131072)!==0&&(Ve=!0);else return s.lanes=i.lanes,ks(i,s,g)}return zv(i,s,a,u,g)}function N_(i,s,a){var u=s.pendingProps,g=u.children,v=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|a:a,i!==null){for(g=s.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return k_(i,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yf(s,v!==null?v.cachePool:null),v!==null?O1(s,v):yv(),A_(s);else return s.lanes=s.childLanes=536870912,k_(i,s,v!==null?v.baseLanes|a:a,a)}else v!==null?(Yf(s,v.cachePool),O1(s,v),Ha(),s.memoizedState=null):(i!==null&&Yf(s,null),yv(),Ha());return Ze(i,s,g,a),s.child}function k_(i,s,a,u){var g=dv();return g=g===null?null:{parent:Ne._currentValue,pool:g},s.memoizedState={baseLanes:a,cachePool:g},i!==null&&Yf(s,null),yv(),A_(s),i!==null&&Vu(i,s,u,!0),null}function up(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function zv(i,s,a,u,g){return Qr(s),a=_v(i,s,a,u,void 0,g),u=Sv(),i!==null&&!Ve?(Ev(i,s,g),ks(i,s,g)):(Xt&&u&&sv(s),s.flags|=1,Ze(i,s,a,g),s.child)}function P_(i,s,a,u,g,v){return Qr(s),s.updateQueue=null,a=k1(s,u,a,g),N1(i),u=Sv(),i!==null&&!Ve?(Ev(i,s,v),ks(i,s,v)):(Xt&&u&&sv(s),s.flags|=1,Ze(i,s,a,v),s.child)}function F_(i,s,a,u,g){if(Qr(s),s.stateNode===null){var v=Pl,_=a.contextType;typeof _=="object"&&_!==null&&(v=ui(_)),v=new a(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Hv,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},pv(s),_=a.contextType,v.context=typeof _=="object"&&_!==null?ui(_):Pl,v.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Fv(s,a,_,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&Hv.enqueueReplaceState(v,v.state,null),Wu(s,u,v,g),$u(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var T=s.memoizedProps,D=to(a,T);v.props=D;var X=v.context,J=a.contextType;_=Pl,typeof J=="object"&&J!==null&&(_=ui(J));var it=a.getDerivedStateFromProps;J=typeof it=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||X!==_)&&S_(s,v,u,_),Oa=!1;var K=s.memoizedState;v.state=K,Wu(s,u,v,g),$u(),X=s.memoizedState,T||K!==X||Oa?(typeof it=="function"&&(Fv(s,a,it,u),X=s.memoizedState),(D=Oa||__(s,a,D,u,K,X,_))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),v.props=u,v.state=X,v.context=_,u=D):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,gv(i,s),_=s.memoizedProps,J=to(a,_),v.props=J,it=s.pendingProps,K=v.context,X=a.contextType,D=Pl,typeof X=="object"&&X!==null&&(D=ui(X)),T=a.getDerivedStateFromProps,(X=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==it||K!==D)&&S_(s,v,u,D),Oa=!1,K=s.memoizedState,v.state=K,Wu(s,u,v,g),$u();var W=s.memoizedState;_!==it||K!==W||Oa||i!==null&&i.dependencies!==null&&qf(i.dependencies)?(typeof T=="function"&&(Fv(s,a,T,u),W=s.memoizedState),(J=Oa||__(s,a,J,u,K,W,D)||i!==null&&i.dependencies!==null&&qf(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,W,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,W,D)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),v.props=u,v.state=W,v.context=D,u=J):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,up(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=ql(s,i.child,null,g),s.child=ql(s,null,a,g)):Ze(i,s,a,g),s.memoizedState=v.state,i=s.child):i=ks(i,s,g),i}function H_(i,s,a,u){return ju(),s.flags|=256,Ze(i,s,a,u),s.child}var Iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jv(i){return{baseLanes:i,cachePool:w1()}}function Uv(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=mn),i}function B_(i,s,a){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(ke.current&2)!==0),_&&(g=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xt){if(g?Fa(s):Ha(),Xt){var T=ve,D;if(D=T){t:{for(D=T,T=Jn;D.nodeType!==8;){if(!T){T=null;break t}if(D=On(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(s.memoizedState={dehydrated:T,treeContext:Xr!==null?{id:Rs,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},D=Gi(18,null,null,0),D.stateNode=T,D.return=s,s.child=D,bi=s,ve=null,D=!0):D=!1}D||$r(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return x0(T)?s.lanes=32:s.lanes=536870912,null;Ns(s)}return T=u.children,u=u.fallback,g?(Ha(),g=s.mode,T=hp({mode:"hidden",children:T},g),u=qr(u,g,a,null),T.return=s,u.return=s,T.sibling=u,s.child=T,g=s.child,g.memoizedState=jv(a),g.childLanes=Uv(i,_,a),s.memoizedState=Iv,u):(Fa(s),Vv(s,T))}if(D=i.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(v)s.flags&256?(Fa(s),s.flags&=-257,s=Gv(i,s,a)):s.memoizedState!==null?(Ha(),s.child=i.child,s.flags|=128,s=null):(Ha(),g=u.fallback,T=s.mode,u=hp({mode:"visible",children:u.children},T),g=qr(g,T,a,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,ql(s,i.child,null,a),u=s.child,u.memoizedState=jv(a),u.childLanes=Uv(i,_,a),s.memoizedState=Iv,s=g);else if(Fa(s),x0(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var X=_.dgst;_=X,u=Error(n(419)),u.stack="",u.digest=_,Uu({value:u,source:null,stack:null}),s=Gv(i,s,a)}else if(Ve||Vu(i,s,a,!1),_=(a&i.childLanes)!==0,Ve||_){if(_=re,_!==null&&(u=a&-a,u=(u&42)!==0?1:Tm(u),u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,kl(i,u),$i(_,i,u),M_;T.data==="$?"||l0(),s=Gv(i,s,a)}else T.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,ve=On(T.nextSibling),bi=s,Xt=!0,Kr=null,Jn=!1,i!==null&&(fn[pn++]=Rs,fn[pn++]=Ms,fn[pn++]=Xr,Rs=i.id,Ms=i.overflow,Xr=s),s=Vv(s,u.children),s.flags|=4096);return s}return g?(Ha(),g=u.fallback,T=s.mode,D=i.child,X=D.sibling,u=Cs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,X!==null?g=Cs(X,g):(g=qr(g,T,a,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,T=i.child.memoizedState,T===null?T=jv(a):(D=T.cachePool,D!==null?(X=Ne._currentValue,D=D.parent!==X?{parent:X,pool:X}:D):D=w1(),T={baseLanes:T.baseLanes|a,cachePool:D}),g.memoizedState=T,g.childLanes=Uv(i,_,a),s.memoizedState=Iv,u):(Fa(s),a=i.child,i=a.sibling,a=Cs(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function Vv(i,s){return s=hp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function hp(i,s){return i=Gi(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gv(i,s,a){return ql(s,i.child,null,a),i=Vv(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function z_(i,s,a){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),lv(i.return,s,a)}function qv(i,s,a,u,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=g)}function I_(i,s,a){var u=s.pendingProps,g=u.revealOrder,v=u.tail;if(Ze(i,s,u.children,a),u=ke.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z_(i,a,s);else if(i.tag===19)z_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Q(ke,u),g){case"forwards":for(a=s.child,g=null;a!==null;)i=a.alternate,i!==null&&op(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),qv(s,!1,g,a,v);break;case"backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&op(i)===null){s.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}qv(s,!0,a,null,v);break;case"together":qv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ks(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ua|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Vu(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,a=Cs(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Cs(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Xv(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&qf(i)))}function UR(i,s,a){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),Da(s,Ne,i.memoizedState.cache),ju();break;case 27:case 5:Qe(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:Da(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Fa(s),s.flags|=128,null):(a&s.child.childLanes)!==0?B_(i,s,a):(Fa(s),i=ks(i,s,a),i!==null?i.sibling:null);Fa(s);break;case 19:var g=(i.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Vu(i,s,a,!1),u=(a&s.childLanes)!==0),g){if(u)return I_(i,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Q(ke,ke.current),u)break;return null;case 22:case 23:return s.lanes=0,N_(i,s,a);case 24:Da(s,Ne,i.memoizedState.cache)}return ks(i,s,a)}function j_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ve=!0;else{if(!Xv(i,a)&&(s.flags&128)===0)return Ve=!1,UR(i,s,a);Ve=(i.flags&131072)!==0}else Ve=!1,Xt&&(s.flags&1048576)!==0&&v1(s,Gf,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,g=u._init;if(u=g(u._payload),s.type=u,typeof u=="function")ev(u)?(i=to(u,i),s.tag=1,s=F_(null,s,u,i,a)):(s.tag=0,s=zv(null,s,u,i,a));else{if(u!=null){if(g=u.$$typeof,g===P){s.tag=11,s=L_(null,s,u,i,a);break t}else if(g===V){s.tag=14,s=D_(null,s,u,i,a);break t}}throw s=dt(u)||u,Error(n(306,s,""))}}return s;case 0:return zv(i,s,s.type,s.pendingProps,a);case 1:return u=s.type,g=to(u,s.pendingProps),F_(i,s,u,g,a);case 3:t:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,gv(i,s),Wu(s,u,null,a);var _=s.memoizedState;if(u=_.cache,Da(s,Ne,u),u!==v.cache&&cv(s,[Ne],a,!0),$u(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=H_(i,s,u,a);break t}else if(u!==g){g=hn(Error(n(424)),s),Uu(g),s=H_(i,s,u,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ve=On(i.firstChild),bi=s,Xt=!0,Kr=null,Jn=!0,a=b_(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ju(),u===g){s=ks(i,s,a);break t}Ze(i,s,u,a)}s=s.child}return s;case 26:return up(i,s),i===null?(a=qS(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xt||(a=s.type,i=s.pendingProps,u=xp(ct.current).createElement(a),u[ci]=s,u[Mi]=i,ti(u,a,i),Ue(u),s.stateNode=u):s.memoizedState=qS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Qe(s),i===null&&Xt&&(u=s.stateNode=US(s.type,s.pendingProps,ct.current),bi=s,Jn=!0,g=ve,Xa(s.type)?(T0=g,ve=On(u.firstChild)):ve=g),Ze(i,s,s.pendingProps.children,a),up(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xt&&((g=u=ve)&&(u=m2(u,s.type,s.pendingProps,Jn),u!==null?(s.stateNode=u,bi=s,ve=On(u.firstChild),Jn=!1,g=!0):g=!1),g||$r(s)),Qe(s),g=s.type,v=s.pendingProps,_=i!==null?i.memoizedProps:null,u=v.children,S0(g,v)?u=null:_!==null&&S0(g,_)&&(s.flags|=32),s.memoizedState!==null&&(g=_v(i,s,kR,null,null,a),yh._currentValue=g),up(i,s),Ze(i,s,u,a),s.child;case 6:return i===null&&Xt&&((i=a=ve)&&(a=v2(a,s.pendingProps,Jn),a!==null?(s.stateNode=a,bi=s,ve=null,i=!0):i=!1),i||$r(s)),null;case 13:return B_(i,s,a);case 4:return mt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ql(s,null,u,a):Ze(i,s,u,a),s.child;case 11:return L_(i,s,s.type,s.pendingProps,a);case 7:return Ze(i,s,s.pendingProps,a),s.child;case 8:return Ze(i,s,s.pendingProps.children,a),s.child;case 12:return Ze(i,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,Da(s,s.type,u.value),Ze(i,s,u.children,a),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Qr(s),g=ui(g),u=u(g),s.flags|=1,Ze(i,s,u,a),s.child;case 14:return D_(i,s,s.type,s.pendingProps,a);case 15:return O_(i,s,s.type,s.pendingProps,a);case 19:return I_(i,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},i===null?(a=hp(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Cs(i.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return N_(i,s,a);case 24:return Qr(s),u=ui(Ne),i===null?(g=dv(),g===null&&(g=re,v=uv(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),s.memoizedState={parent:u,cache:g},pv(s),Da(s,Ne,g)):((i.lanes&a)!==0&&(gv(i,s),Wu(s,null,null,a),$u()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Da(s,Ne,u)):(u=v.cache,Da(s,Ne,u),u!==g.cache&&cv(s,[Ne],a,!0))),Ze(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ps(i){i.flags|=4}function U_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!WS(s)){if(s=gn.current,s!==null&&((Ut&4194048)===Ut?ts!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||s!==ts))throw Yu=fv,x1;i.flags|=8192}}function dp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?AA():536870912,i.lanes|=s,$l|=s)}function nh(i,s){if(!Xt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function de(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(s)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,s}function VR(i,s,a){var u=s.pendingProps;switch(av(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return a=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ds(Ne),Nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Iu(s)?Ps(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,A1())),de(s),null;case 26:return a=s.memoizedState,i===null?(Ps(s),a!==null?(de(s),U_(s,a)):(de(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Ps(s),de(s),U_(s,a)):(de(s),s.flags&=-16777217):(i.memoizedProps!==u&&Ps(s),de(s),s.flags&=-16777217),null;case 27:li(s),a=ct.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ps(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return de(s),null}i=ot.current,Iu(s)?y1(s):(i=US(g,u,a),s.stateNode=i,Ps(s))}return de(s),null;case 5:if(li(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ps(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return de(s),null}if(i=ot.current,Iu(s))y1(s);else{switch(g=xp(ct.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?g.createElement(a,{is:u.is}):g.createElement(a)}}i[ci]=s,i[Mi]=u;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;t:switch(ti(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ps(s)}}return de(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Ps(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=ct.current,Iu(s)){if(i=s.stateNode,a=s.memoizedProps,u=null,g=bi,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[ci]=s,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||PS(i.nodeValue,a)),i||$r(s)}else i=xp(i).createTextNode(u),i[ci]=s,s.stateNode=i}return de(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Iu(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ci]=s}else ju(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),g=!1}else g=A1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ns(s),s):(Ns(s),null)}if(Ns(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),dp(s,s.updateQueue),de(s),null;case 4:return Nt(),i===null&&v0(s.stateNode.containerInfo),de(s),null;case 10:return Ds(s.type),de(s),null;case 19:if(st(ke),g=s.memoizedState,g===null)return de(s),null;if(u=(s.flags&128)!==0,v=g.rendering,v===null)if(u)nh(g,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=op(i),v!==null){for(s.flags|=128,nh(g,!1),i=v.updateQueue,s.updateQueue=i,dp(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)m1(a,i),a=a.sibling;return Q(ke,ke.current&1|2),s.child}i=i.sibling}g.tail!==null&&Gt()>gp&&(s.flags|=128,u=!0,nh(g,!1),s.lanes=4194304)}else{if(!u)if(i=op(v),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,dp(s,i),nh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Xt)return de(s),null}else 2*Gt()-g.renderingStartTime>gp&&a!==536870912&&(s.flags|=128,u=!0,nh(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(i=g.last,i!==null?i.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Gt(),s.sibling=null,i=ke.current,Q(ke,u?i&1|2:i&1),s):(de(s),null);case 22:case 23:return Ns(s),bv(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),a=s.updateQueue,a!==null&&dp(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),i!==null&&st(Zr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(Ne),de(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function GR(i,s){switch(av(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ds(Ne),Nt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return li(s),null;case 13:if(Ns(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ju()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return st(ke),null;case 4:return Nt(),null;case 10:return Ds(s.type),null;case 22:case 23:return Ns(s),bv(),i!==null&&st(Zr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ds(Ne),null;case 25:return null;default:return null}}function V_(i,s){switch(av(s),s.tag){case 3:Ds(Ne),Nt();break;case 26:case 27:case 5:li(s);break;case 4:Nt();break;case 13:Ns(s);break;case 19:st(ke);break;case 10:Ds(s.type);break;case 22:case 23:Ns(s),bv(),i!==null&&st(Zr);break;case 24:Ds(Ne)}}function sh(i,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var v=a.create,_=a.inst;u=v(),_.destroy=u}a=a.next}while(a!==g)}}catch(T){ae(s,s.return,T)}}function Ba(i,s,a){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,g=s;var D=a,X=T;try{X()}catch(J){ae(g,D,J)}}}u=u.next}while(u!==v)}}catch(J){ae(s,s.return,J)}}function G_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{D1(s,a)}catch(u){ae(i,i.return,u)}}}function q_(i,s,a){a.props=to(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){ae(i,s,u)}}function ah(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){ae(i,s,g)}}function es(i,s){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){ae(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){ae(i,s,g)}else a.current=null}function X_(i){var s=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){ae(i,i.return,g)}}function Yv(i,s,a){try{var u=i.stateNode;h2(u,i.type,a,s),u[Mi]=s}catch(g){ae(i,i.return,g)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xa(i.type)||i.tag===4}function Kv(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xa(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $v(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wp));else if(u!==4&&(u===27&&Xa(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for($v(i,s,a),i=i.sibling;i!==null;)$v(i,s,a),i=i.sibling}function fp(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(u!==4&&(u===27&&Xa(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(fp(i,s,a),i=i.sibling;i!==null;)fp(i,s,a),i=i.sibling}function K_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ti(s,u,a),s[ci]=i,s[Mi]=a}catch(v){ae(i,i.return,v)}}var Fs=!1,Se=!1,Wv=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function qR(i,s){if(i=i.containerInfo,A0=Dp,i=r1(i),Km(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,X=0,J=0,it=i,K=null;e:for(;;){for(var W;it!==a||g!==0&&it.nodeType!==3||(T=_+g),it!==v||u!==0&&it.nodeType!==3||(D=_+u),it.nodeType===3&&(_+=it.nodeValue.length),(W=it.firstChild)!==null;)K=it,it=W;for(;;){if(it===i)break e;if(K===a&&++X===g&&(T=_),K===v&&++J===u&&(D=_),(W=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=W}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(_0={focusedElem:i,selectionRange:a},Dp=!1,Ge=s;Ge!==null;)if(s=Ge,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ge=i;else for(;Ge!==null;){switch(s=Ge,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=s,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var wt=to(a.type,g,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(wt,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(St){ae(a,a.return,St)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)w0(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":w0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Ge=i;break}Ge=s.return}}function W_(i,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:za(i,a),u&4&&sh(5,a);break;case 1:if(za(i,a),u&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){ae(a,a.return,_)}else{var g=to(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(a,a.return,_)}}u&64&&G_(a),u&512&&ah(a,a.return);break;case 3:if(za(i,a),u&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{D1(i,s)}catch(_){ae(a,a.return,_)}}break;case 27:s===null&&u&4&&K_(a);case 26:case 5:za(i,a),s===null&&u&4&&X_(a),u&512&&ah(a,a.return);break;case 12:za(i,a);break;case 13:za(i,a),u&4&&J_(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=t2.bind(null,a),y2(i,a))));break;case 22:if(u=a.memoizedState!==null||Fs,!u){s=s!==null&&s.memoizedState!==null||Se,g=Fs;var v=Se;Fs=u,(Se=s)&&!v?Ia(i,a,(a.subtreeFlags&8772)!==0):za(i,a),Fs=g,Se=v}break;case 30:break;default:za(i,a)}}function Q_(i){var s=i.alternate;s!==null&&(i.alternate=null,Q_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Mm(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,Oi=!1;function Hs(i,s,a){for(a=a.child;a!==null;)Z_(i,s,a),a=a.sibling}function Z_(i,s,a){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(zr,a)}catch{}switch(a.tag){case 26:Se||es(a,s),Hs(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||es(a,s);var u=ue,g=Oi;Xa(a.type)&&(ue=a.stateNode,Oi=!1),Hs(i,s,a),ph(a.stateNode),ue=u,Oi=g;break;case 5:Se||es(a,s);case 6:if(u=ue,g=Oi,ue=null,Hs(i,s,a),ue=u,Oi=g,ue!==null)if(Oi)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(v){ae(a,s,v)}else try{ue.removeChild(a.stateNode)}catch(v){ae(a,s,v)}break;case 18:ue!==null&&(Oi?(i=ue,IS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Sh(i)):IS(ue,a.stateNode));break;case 4:u=ue,g=Oi,ue=a.stateNode.containerInfo,Oi=!0,Hs(i,s,a),ue=u,Oi=g;break;case 0:case 11:case 14:case 15:Se||Ba(2,a,s),Se||Ba(4,a,s),Hs(i,s,a);break;case 1:Se||(es(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&q_(a,s,u)),Hs(i,s,a);break;case 21:Hs(i,s,a);break;case 22:Se=(u=Se)||a.memoizedState!==null,Hs(i,s,a),Se=u;break;default:Hs(i,s,a)}}function J_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sh(i)}catch(a){ae(s,s.return,a)}}function XR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new $_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new $_),s;default:throw Error(n(435,i.tag))}}function Qv(i,s){var a=XR(i);s.forEach(function(u){var g=e2.bind(null,i,u);a.has(u)||(a.add(u),u.then(g,g))})}function qi(i,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=i,_=s,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Xa(T.type)){ue=T.stateNode,Oi=!1;break t}break;case 5:ue=T.stateNode,Oi=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,Oi=!0;break t}T=T.return}if(ue===null)throw Error(n(160));Z_(v,_,g),ue=null,Oi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)tS(s,i),s=s.sibling}var Dn=null;function tS(i,s){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qi(s,i),Xi(i),u&4&&(Ba(3,i,i.return),sh(3,i),Ba(5,i,i.return));break;case 1:qi(s,i),Xi(i),u&512&&(Se||a===null||es(a,a.return)),u&64&&Fs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=Dn;if(qi(s,i),Xi(i),u&512&&(Se||a===null||es(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Mu]||v[ci]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),ti(v,u,a),v[ci]=i,Ue(v),u=v;break t;case"link":var _=KS("link","href",g).get(u+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(v=_[T],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}v=g.createElement(u),ti(v,u,a),g.head.appendChild(v);break;case"meta":if(_=KS("meta","content",g).get(u+(a.content||""))){for(T=0;T<_.length;T++)if(v=_[T],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}v=g.createElement(u),ti(v,u,a),g.head.appendChild(v);break;default:throw Error(n(468,u))}v[ci]=i,Ue(v),u=v}i.stateNode=u}else $S(g,i.type,i.stateNode);else i.stateNode=YS(g,u,i.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?$S(g,i.type,i.stateNode):YS(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Yv(i,i.memoizedProps,a.memoizedProps)}break;case 27:qi(s,i),Xi(i),u&512&&(Se||a===null||es(a,a.return)),a!==null&&u&4&&Yv(i,i.memoizedProps,a.memoizedProps);break;case 5:if(qi(s,i),Xi(i),u&512&&(Se||a===null||es(a,a.return)),i.flags&32){g=i.stateNode;try{Cl(g,"")}catch(W){ae(i,i.return,W)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,Yv(i,g,a!==null?a.memoizedProps:g)),u&1024&&(Wv=!0);break;case 6:if(qi(s,i),Xi(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(W){ae(i,i.return,W)}}break;case 3:if(Rp=null,g=Dn,Dn=Tp(s.containerInfo),qi(s,i),Dn=g,Xi(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Sh(s.containerInfo)}catch(W){ae(i,i.return,W)}Wv&&(Wv=!1,eS(i));break;case 4:u=Dn,Dn=Tp(i.stateNode.containerInfo),qi(s,i),Xi(i),Dn=u;break;case 12:qi(s,i),Xi(i);break;case 13:qi(s,i),Xi(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(n0=Gt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qv(i,u)));break;case 22:g=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,X=Fs,J=Se;if(Fs=X||g,Se=J||D,qi(s,i),Se=J,Fs=X,Xi(i),u&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(a===null||D||Fs||Se||eo(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(v=D.stateNode,g)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var it=D.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){ae(D,D.return,W)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(W){ae(D,D.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Qv(i,a))));break;case 19:qi(s,i),Xi(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qv(i,u)));break;case 30:break;case 21:break;default:qi(s,i),Xi(i)}}function Xi(i){var s=i.flags;if(s&2){try{for(var a,u=i.return;u!==null;){if(Y_(u)){a=u;break}u=u.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var g=a.stateNode,v=Kv(i);fp(i,v,g);break;case 5:var _=a.stateNode;a.flags&32&&(Cl(_,""),a.flags&=-33);var T=Kv(i);fp(i,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,X=Kv(i);$v(i,X,D);break;default:throw Error(n(161))}}catch(J){ae(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function eS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;eS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function za(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)W_(i,s.alternate,s),s=s.sibling}function eo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ba(4,s,s.return),eo(s);break;case 1:es(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&q_(s,s.return,a),eo(s);break;case 27:ph(s.stateNode);case 26:case 5:es(s,s.return),eo(s);break;case 22:s.memoizedState===null&&eo(s);break;case 30:eo(s);break;default:eo(s)}i=i.sibling}}function Ia(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,_=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(g,v,a),sh(4,v);break;case 1:if(Ia(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){ae(u,u.return,X)}if(u=v,g=u.updateQueue,g!==null){var T=u.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)L1(D[g],T)}catch(X){ae(u,u.return,X)}}a&&_&64&&G_(v),ah(v,v.return);break;case 27:K_(v);case 26:case 5:Ia(g,v,a),a&&u===null&&_&4&&X_(v),ah(v,v.return);break;case 12:Ia(g,v,a);break;case 13:Ia(g,v,a),a&&_&4&&J_(g,v);break;case 22:v.memoizedState===null&&Ia(g,v,a),ah(v,v.return);break;case 30:break;default:Ia(g,v,a)}s=s.sibling}}function Zv(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Gu(a))}function Jv(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Gu(i))}function is(i,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iS(i,s,a,u),s=s.sibling}function iS(i,s,a,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:is(i,s,a,u),g&2048&&sh(9,s);break;case 1:is(i,s,a,u);break;case 3:is(i,s,a,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Gu(i)));break;case 12:if(g&2048){is(i,s,a,u),i=s.stateNode;try{var v=s.memoizedProps,_=v.id,T=v.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ae(s,s.return,D)}}else is(i,s,a,u);break;case 13:is(i,s,a,u);break;case 23:break;case 22:v=s.stateNode,_=s.alternate,s.memoizedState!==null?v._visibility&2?is(i,s,a,u):rh(i,s):v._visibility&2?is(i,s,a,u):(v._visibility|=2,Xl(i,s,a,u,(s.subtreeFlags&10256)!==0)),g&2048&&Zv(_,s);break;case 24:is(i,s,a,u),g&2048&&Jv(s.alternate,s);break;default:is(i,s,a,u)}}function Xl(i,s,a,u,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,_=s,T=a,D=u,X=_.flags;switch(_.tag){case 0:case 11:case 15:Xl(v,_,T,D,g),sh(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Xl(v,_,T,D,g):rh(v,_):(J._visibility|=2,Xl(v,_,T,D,g)),g&&X&2048&&Zv(_.alternate,_);break;case 24:Xl(v,_,T,D,g),g&&X&2048&&Jv(_.alternate,_);break;default:Xl(v,_,T,D,g)}s=s.sibling}}function rh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,u=s,g=u.flags;switch(u.tag){case 22:rh(a,u),g&2048&&Zv(u.alternate,u);break;case 24:rh(a,u),g&2048&&Jv(u.alternate,u);break;default:rh(a,u)}s=s.sibling}}var oh=8192;function Yl(i){if(i.subtreeFlags&oh)for(i=i.child;i!==null;)nS(i),i=i.sibling}function nS(i){switch(i.tag){case 26:Yl(i),i.flags&oh&&i.memoizedState!==null&&D2(Dn,i.memoizedState,i.memoizedProps);break;case 5:Yl(i);break;case 3:case 4:var s=Dn;Dn=Tp(i.stateNode.containerInfo),Yl(i),Dn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=oh,oh=16777216,Yl(i),oh=s):Yl(i));break;default:Yl(i)}}function sS(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ge=u,rS(u,i)}sS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aS(i),i=i.sibling}function aS(i){switch(i.tag){case 0:case 11:case 15:lh(i),i.flags&2048&&Ba(9,i,i.return);break;case 3:lh(i);break;case 12:lh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,pp(i)):lh(i);break;default:lh(i)}}function pp(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ge=u,rS(u,i)}sS(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ba(8,s,s.return),pp(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pp(s));break;default:pp(s)}i=i.sibling}}function rS(i,s){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Ba(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ge=u;else t:for(a=i;Ge!==null;){u=Ge;var g=u.sibling,v=u.return;if(Q_(u),u===a){Ge=null;break t}if(g!==null){g.return=v,Ge=g;break t}Ge=v}}}var YR={getCacheForType:function(i){var s=ui(Ne),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},KR=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Bt=null,Ut=0,Wt=0,Yi=null,ja=!1,Kl=!1,t0=!1,Bs=0,ye=0,Ua=0,io=0,e0=0,mn=0,$l=0,ch=null,Ni=null,i0=!1,n0=0,gp=1/0,mp=null,Va=null,Je=0,Ga=null,Wl=null,Ql=0,s0=0,a0=null,oS=null,uh=0,r0=null;function Ki(){if(($t&2)!==0&&Ut!==0)return Ut&-Ut;if(B.T!==null){var i=Bl;return i!==0?i:f0()}return EA()}function lS(){mn===0&&(mn=(Ut&536870912)===0||Xt?bA():536870912);var i=gn.current;return i!==null&&(i.flags|=32),mn}function $i(i,s,a){(i===re&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(Zl(i,0),qa(i,Ut,mn,!1)),Ru(i,a),(($t&2)===0||i!==re)&&(i===re&&(($t&2)===0&&(io|=a),ye===4&&qa(i,Ut,mn,!1)),ns(i))}function cS(i,s,a){if(($t&6)!==0)throw Error(n(327));var u=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Cu(i,s),g=u?QR(i,s):c0(i,s,!0),v=u;do{if(g===0){Kl&&!u&&qa(i,s,0,!1);break}else{if(a=i.current.alternate,v&&!$R(a)){g=c0(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var T=i;g=ch;var D=T.current.memoizedState.isDehydrated;if(D&&(Zl(T,_).flags|=256),_=c0(T,_,!1),_!==2){if(t0&&!D){T.errorRecoveryDisabledLanes|=v,io|=v,g=4;break t}v=Ni,Ni=g,v!==null&&(Ni===null?Ni=v:Ni.push.apply(Ni,v))}g=_}if(v=!1,g!==2)continue}}if(g===1){Zl(i,0),qa(i,s,0,!0);break}t:{switch(u=i,v=g,v){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:qa(u,s,mn,!ja);break t;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(g=n0+300-Gt(),10<g)){if(qa(u,s,mn,!ja),Cf(u,0,!0)!==0)break t;u.timeoutHandle=BS(uS.bind(null,u,a,Ni,mp,i0,s,mn,io,$l,ja,v,2,-0,0),g);break t}uS(u,a,Ni,mp,i0,s,mn,io,$l,ja,v,0,-0,0)}}break}while(!0);ns(i)}function uS(i,s,a,u,g,v,_,T,D,X,J,it,K,W){if(i.timeoutHandle=-1,it=s.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(vh={stylesheets:null,count:0,unsuspend:L2},nS(s),it=O2(),it!==null)){i.cancelPendingCommit=it(vS.bind(null,i,s,v,a,u,g,_,T,D,J,1,K,W)),qa(i,v,_,!X);return}vS(i,s,v,a,u,g,_,T,D)}function $R(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!Vi(v(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qa(i,s,a,u){s&=~e0,s&=~io,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-Ui(g),_=1<<v;u[v]=-1,g&=~_}a!==0&&_A(i,a,s)}function vp(){return($t&6)===0?(hh(0),!1):!0}function o0(){if(Bt!==null){if(Wt===0)var i=Bt.return;else i=Bt,Ls=Wr=null,wv(i),Gl=null,eh=0,i=Bt;for(;i!==null;)V_(i.alternate,i),i=i.return;Bt=null}}function Zl(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,f2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),o0(),re=i,Bt=a=Cs(i.current,null),Ut=s,Wt=0,Yi=null,ja=!1,Kl=Cu(i,s),t0=!1,$l=mn=e0=io=Ua=ye=0,Ni=ch=null,i0=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-Ui(u),v=1<<g;s|=i[g],u&=~v}return Bs=s,zf(),a}function hS(i,s){kt=null,B.H=sp,s===Xu||s===Kf?(s=R1(),Wt=3):s===x1?(s=R1(),Wt=4):Wt=s===M_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yi=s,Bt===null&&(ye=1,cp(i,hn(s,i.current)))}function dS(){var i=B.H;return B.H=sp,i===null?sp:i}function fS(){var i=B.A;return B.A=YR,i}function l0(){ye=4,ja||(Ut&4194048)!==Ut&&gn.current!==null||(Kl=!0),(Ua&134217727)===0&&(io&134217727)===0||re===null||qa(re,Ut,mn,!1)}function c0(i,s,a){var u=$t;$t|=2;var g=dS(),v=fS();(re!==i||Ut!==s)&&(mp=null,Zl(i,s)),s=!1;var _=ye;t:do try{if(Wt!==0&&Bt!==null){var T=Bt,D=Yi;switch(Wt){case 8:o0(),_=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var X=Wt;if(Wt=0,Yi=null,Jl(i,T,D,X),a&&Kl){_=0;break t}break;default:X=Wt,Wt=0,Yi=null,Jl(i,T,D,X)}}WR(),_=ye;break}catch(J){hS(i,J)}while(!0);return s&&i.shellSuspendCounter++,Ls=Wr=null,$t=u,B.H=g,B.A=v,Bt===null&&(re=null,Ut=0,zf()),_}function WR(){for(;Bt!==null;)pS(Bt)}function QR(i,s){var a=$t;$t|=2;var u=dS(),g=fS();re!==i||Ut!==s?(mp=null,gp=Gt()+500,Zl(i,s)):Kl=Cu(i,s);t:do try{if(Wt!==0&&Bt!==null){s=Bt;var v=Yi;e:switch(Wt){case 1:Wt=0,Yi=null,Jl(i,s,v,1);break;case 2:case 9:if(T1(v)){Wt=0,Yi=null,gS(s);break}s=function(){Wt!==2&&Wt!==9||re!==i||(Wt=7),ns(i)},v.then(s,s);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:T1(v)?(Wt=0,Yi=null,gS(s)):(Wt=0,Yi=null,Jl(i,s,v,7));break;case 5:var _=null;switch(Bt.tag){case 26:_=Bt.memoizedState;case 5:case 27:var T=Bt;if(!_||WS(_)){Wt=0,Yi=null;var D=T.sibling;if(D!==null)Bt=D;else{var X=T.return;X!==null?(Bt=X,yp(X)):Bt=null}break e}}Wt=0,Yi=null,Jl(i,s,v,5);break;case 6:Wt=0,Yi=null,Jl(i,s,v,6);break;case 8:o0(),ye=6;break t;default:throw Error(n(462))}}ZR();break}catch(J){hS(i,J)}while(!0);return Ls=Wr=null,B.H=u,B.A=g,$t=a,Bt!==null?0:(re=null,Ut=0,zf(),ye)}function ZR(){for(;Bt!==null&&!Rt();)pS(Bt)}function pS(i){var s=j_(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,s===null?yp(i):Bt=s}function gS(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=P_(a,s,s.pendingProps,s.type,void 0,Ut);break;case 11:s=P_(a,s,s.pendingProps,s.type.render,s.ref,Ut);break;case 5:wv(s);default:V_(a,s),s=Bt=m1(s,Bs),s=j_(a,s,Bs)}i.memoizedProps=i.pendingProps,s===null?yp(i):Bt=s}function Jl(i,s,a,u){Ls=Wr=null,wv(s),Gl=null,eh=0;var g=s.return;try{if(jR(i,g,s,a,Ut)){ye=1,cp(i,hn(a,i.current)),Bt=null;return}}catch(v){if(g!==null)throw Bt=g,v;ye=1,cp(i,hn(a,i.current)),Bt=null;return}s.flags&32768?(Xt||u===1?i=!0:Kl||(Ut&536870912)!==0?i=!1:(ja=i=!0,(u===2||u===9||u===3||u===6)&&(u=gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),mS(s,i)):yp(s)}function yp(i){var s=i;do{if((s.flags&32768)!==0){mS(s,ja);return}i=s.return;var a=VR(s.alternate,s,Bs);if(a!==null){Bt=a;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=i}while(s!==null);ye===0&&(ye=5)}function mS(i,s){do{var a=GR(i.alternate,i);if(a!==null){a.flags&=32767,Bt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Bt=i;return}Bt=i=a}while(i!==null);ye=6,Bt=null}function vS(i,s,a,u,g,v,_,T,D){i.cancelPendingCommit=null;do bp();while(Je!==0);if(($t&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(v=s.lanes|s.childLanes,v|=Jm,LC(i,a,v,_,T,D),i===re&&(Bt=re=null,Ut=0),Wl=s,Ga=i,Ql=a,s0=v,a0=g,oS=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,i2(Vt,function(){return SS(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=Y.p,Y.p=2,_=$t,$t|=4;try{qR(i,s,a)}finally{$t=_,Y.p=g,B.T=u}}Je=1,yS(),bS(),AS()}}function yS(){if(Je===1){Je=0;var i=Ga,s=Wl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var u=Y.p;Y.p=2;var g=$t;$t|=4;try{tS(s,i);var v=_0,_=r1(i.containerInfo),T=v.focusedElem,D=v.selectionRange;if(_!==T&&T&&T.ownerDocument&&a1(T.ownerDocument.documentElement,T)){if(D!==null&&Km(T)){var X=D.start,J=D.end;if(J===void 0&&(J=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(J,T.value.length);else{var it=T.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var W=K.getSelection(),wt=T.textContent.length,St=Math.min(D.start,wt),ie=D.end===void 0?St:Math.min(D.end,wt);!W.extend&&St>ie&&(_=ie,ie=St,St=_);var U=s1(T,St),H=s1(T,ie);if(U&&H&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var G=it.createRange();G.setStart(U.node,U.offset),W.removeAllRanges(),St>ie?(W.addRange(G),W.extend(H.node,H.offset)):(G.setEnd(H.node,H.offset),W.addRange(G))}}}}for(it=[],W=T;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var tt=it[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Dp=!!A0,_0=A0=null}finally{$t=g,Y.p=u,B.T=a}}i.current=s,Je=2}}function bS(){if(Je===2){Je=0;var i=Ga,s=Wl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var u=Y.p;Y.p=2;var g=$t;$t|=4;try{W_(i,s.alternate,s)}finally{$t=g,Y.p=u,B.T=a}}Je=3}}function AS(){if(Je===4||Je===3){Je=0,Oe();var i=Ga,s=Wl,a=Ql,u=oS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Je=5:(Je=0,Wl=Ga=null,_S(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Va=null),Cm(a),s=s.stateNode,ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(zr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,g=Y.p,Y.p=2,B.T=null;try{for(var v=i.onRecoverableError,_=0;_<u.length;_++){var T=u[_];v(T.value,{componentStack:T.stack})}}finally{B.T=s,Y.p=g}}(Ql&3)!==0&&bp(),ns(i),g=i.pendingLanes,(a&4194090)!==0&&(g&42)!==0?i===r0?uh++:(uh=0,r0=i):uh=0,hh(0)}}function _S(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Gu(s)))}function bp(i){return yS(),bS(),AS(),SS()}function SS(){if(Je!==5)return!1;var i=Ga,s=s0;s0=0;var a=Cm(Ql),u=B.T,g=Y.p;try{Y.p=32>a?32:a,B.T=null,a=a0,a0=null;var v=Ga,_=Ql;if(Je=0,Wl=Ga=null,Ql=0,($t&6)!==0)throw Error(n(331));var T=$t;if($t|=4,aS(v.current),iS(v,v.current,_,a),$t=T,hh(0,!1),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(zr,v)}catch{}return!0}finally{Y.p=g,B.T=u,_S(i,s)}}function ES(i,s,a){s=hn(a,s),s=Bv(i.stateNode,s,2),i=ka(i,s,2),i!==null&&(Ru(i,2),ns(i))}function ae(i,s,a){if(i.tag===3)ES(i,i,a);else for(;s!==null;){if(s.tag===3){ES(s,i,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Va===null||!Va.has(u))){i=hn(a,i),a=C_(2),u=ka(s,a,2),u!==null&&(R_(a,u,s,i),Ru(u,2),ns(u));break}}s=s.return}}function u0(i,s,a){var u=i.pingCache;if(u===null){u=i.pingCache=new KR;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(a)||(t0=!0,g.add(a),i=JR.bind(null,i,s,a),s.then(i,i))}function JR(i,s,a){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,re===i&&(Ut&a)===a&&(ye===4||ye===3&&(Ut&62914560)===Ut&&300>Gt()-n0?($t&2)===0&&Zl(i,0):e0|=a,$l===Ut&&($l=0)),ns(i)}function wS(i,s){s===0&&(s=AA()),i=kl(i,s),i!==null&&(Ru(i,s),ns(i))}function t2(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),wS(i,a)}function e2(i,s){var a=0;switch(i.tag){case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),wS(i,a)}function i2(i,s){return Ri(i,s)}var Ap=null,tc=null,h0=!1,_p=!1,d0=!1,no=0;function ns(i){i!==tc&&i.next===null&&(tc===null?Ap=tc=i:tc=tc.next=i),_p=!0,h0||(h0=!0,s2())}function hh(i,s){if(!d0&&_p){d0=!0;do for(var a=!1,u=Ap;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var _=u.suspendedLanes,T=u.pingedLanes;v=(1<<31-Ui(42|i)+1)-1,v&=g&~(_&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,RS(u,v))}else v=Ut,v=Cf(u,u===re?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Cu(u,v)||(a=!0,RS(u,v));u=u.next}while(a);d0=!1}}function n2(){xS()}function xS(){_p=h0=!1;var i=0;no!==0&&(d2()&&(i=no),no=0);for(var s=Gt(),a=null,u=Ap;u!==null;){var g=u.next,v=TS(u,s);v===0?(u.next=null,a===null?Ap=g:a.next=g,g===null&&(tc=a)):(a=u,(i!==0||(v&3)!==0)&&(_p=!0)),u=g}hh(i)}function TS(i,s){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-Ui(v),T=1<<_,D=g[_];D===-1?((T&a)===0||(T&u)!==0)&&(g[_]=MC(T,s)):D<=s&&(i.expiredLanes|=T),v&=~T}if(s=re,a=Ut,a=Cf(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===s&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&De(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Cu(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(u!==null&&De(u),Cm(a)){case 2:case 8:a=Br;break;case 32:a=Vt;break;case 268435456:a=Zn;break;default:a=Vt}return u=CS.bind(null,i),a=Ri(a,u),i.callbackPriority=s,i.callbackNode=a,s}return u!==null&&u!==null&&De(u),i.callbackPriority=2,i.callbackNode=null,2}function CS(i,s){if(Je!==0&&Je!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(bp()&&i.callbackNode!==a)return null;var u=Ut;return u=Cf(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(cS(i,u,s),TS(i,Gt()),i.callbackNode!=null&&i.callbackNode===a?CS.bind(null,i):null)}function RS(i,s){if(bp())return null;cS(i,s,!0)}function s2(){p2(function(){($t&6)!==0?Ri(Hr,n2):xS()})}function f0(){return no===0&&(no=bA()),no}function MS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Of(""+i)}function LS(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function a2(i,s,a,u,g){if(s==="submit"&&a&&a.stateNode===g){var v=MS((g[Mi]||null).action),_=u.submitter;_&&(s=(s=_[Mi]||null)?MS(s.formAction):_.getAttribute("formAction"),s!==null&&(v=s,_=null));var T=new Ff("action","action",null,u,g);i.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(no!==0){var D=_?LS(g,_):new FormData(g);Nv(a,{pending:!0,data:D,method:g.method,action:v},null,D)}}else typeof v=="function"&&(T.preventDefault(),D=_?LS(g,_):new FormData(g),Nv(a,{pending:!0,data:D,method:g.method,action:v},v,D))},currentTarget:g}]})}}for(var p0=0;p0<Zm.length;p0++){var g0=Zm[p0],r2=g0.toLowerCase(),o2=g0[0].toUpperCase()+g0.slice(1);Ln(r2,"on"+o2)}Ln(c1,"onAnimationEnd"),Ln(u1,"onAnimationIteration"),Ln(h1,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(wR,"onTransitionRun"),Ln(xR,"onTransitionStart"),Ln(TR,"onTransitionCancel"),Ln(d1,"onTransitionEnd"),wl("onMouseEnter",["mouseout","mouseover"]),wl("onMouseLeave",["mouseout","mouseover"]),wl("onPointerEnter",["pointerout","pointerover"]),wl("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function DS(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;t:{var v=void 0;if(s)for(var _=u.length-1;0<=_;_--){var T=u[_],D=T.instance,X=T.currentTarget;if(T=T.listener,D!==v&&g.isPropagationStopped())break t;v=T,g.currentTarget=X;try{v(g)}catch(J){lp(J)}g.currentTarget=null,v=D}else for(_=0;_<u.length;_++){if(T=u[_],D=T.instance,X=T.currentTarget,T=T.listener,D!==v&&g.isPropagationStopped())break t;v=T,g.currentTarget=X;try{v(g)}catch(J){lp(J)}g.currentTarget=null,v=D}}}}function zt(i,s){var a=s[Rm];a===void 0&&(a=s[Rm]=new Set);var u=i+"__bubble";a.has(u)||(OS(s,i,2,!1),a.add(u))}function m0(i,s,a){var u=0;s&&(u|=4),OS(a,i,u,s)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function v0(i){if(!i[Sp]){i[Sp]=!0,xA.forEach(function(a){a!=="selectionchange"&&(l2.has(a)||m0(a,!1,i),m0(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Sp]||(s[Sp]=!0,m0("selectionchange",!1,s))}}function OS(i,s,a,u){switch(iE(s)){case 2:var g=P2;break;case 8:g=F2;break;default:g=D0}a=g.bind(null,s,a,i),g=void 0,!zm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,a,{capture:!0,passive:g}):i.addEventListener(s,a,!0):g!==void 0?i.addEventListener(s,a,{passive:g}):i.addEventListener(s,a,!1)}function y0(i,s,a,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===g)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;T!==null;){if(_=_l(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=v=_;continue t}T=T.parentNode}}u=u.return}zA(function(){var X=v,J=Hm(a),it=[];t:{var K=f1.get(i);if(K!==void 0){var W=Ff,wt=i;switch(i){case"keypress":if(kf(a)===0)break t;case"keydown":case"keyup":W=iR;break;case"focusin":wt="focus",W=Vm;break;case"focusout":wt="blur",W=Vm;break;case"beforeblur":case"afterblur":W=Vm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=UA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=aR;break;case c1:case u1:case h1:W=YC;break;case d1:W=oR;break;case"scroll":case"scrollend":W=UC;break;case"wheel":W=cR;break;case"copy":case"cut":case"paste":W=$C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=GA;break;case"toggle":case"beforetoggle":W=hR}var St=(s&4)!==0,ie=!St&&(i==="scroll"||i==="scrollend"),U=St?K!==null?K+"Capture":null:K;St=[];for(var H=X,G;H!==null;){var tt=H;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||U===null||(tt=Du(H,U),tt!=null&&St.push(fh(H,tt,G))),ie)break;H=H.return}0<St.length&&(K=new W(K,wt,null,a,J),it.push({event:K,listeners:St}))}}if((s&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",K&&a!==Fm&&(wt=a.relatedTarget||a.fromElement)&&(_l(wt)||wt[Al]))break t;if((W||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,W?(wt=a.relatedTarget||a.toElement,W=X,wt=wt?_l(wt):null,wt!==null&&(ie=o(wt),St=wt.tag,wt!==ie||St!==5&&St!==27&&St!==6)&&(wt=null)):(W=null,wt=X),W!==wt)){if(St=UA,tt="onMouseLeave",U="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(St=GA,tt="onPointerLeave",U="onPointerEnter",H="pointer"),ie=W==null?K:Lu(W),G=wt==null?K:Lu(wt),K=new St(tt,H+"leave",W,a,J),K.target=ie,K.relatedTarget=G,tt=null,_l(J)===X&&(St=new St(U,H+"enter",wt,a,J),St.target=G,St.relatedTarget=ie,tt=St),ie=tt,W&&wt)e:{for(St=W,U=wt,H=0,G=St;G;G=ec(G))H++;for(G=0,tt=U;tt;tt=ec(tt))G++;for(;0<H-G;)St=ec(St),H--;for(;0<G-H;)U=ec(U),G--;for(;H--;){if(St===U||U!==null&&St===U.alternate)break e;St=ec(St),U=ec(U)}St=null}else St=null;W!==null&&NS(it,K,W,St,!1),wt!==null&&ie!==null&&NS(it,ie,wt,St,!0)}}t:{if(K=X?Lu(X):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var gt=ZA;else if(WA(K))if(JA)gt=_R;else{gt=bR;var Ft=yR}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?X&&Pm(X.elementType)&&(gt=ZA):gt=AR;if(gt&&(gt=gt(i,X))){QA(it,gt,a,J);break t}Ft&&Ft(i,K,X),i==="focusout"&&X&&K.type==="number"&&X.memoizedProps.value!=null&&km(K,"number",K.value)}switch(Ft=X?Lu(X):window,i){case"focusin":(WA(Ft)||Ft.contentEditable==="true")&&(Dl=Ft,$m=X,zu=null);break;case"focusout":zu=$m=Dl=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,o1(it,a,J);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":o1(it,a,J)}var At;if(qm)t:{switch(i){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ll?KA(i,a)&&(Et="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(qA&&a.locale!=="ko"&&(Ll||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ll&&(At=IA()):(La=J,Im="value"in La?La.value:La.textContent,Ll=!0)),Ft=Ep(X,Et),0<Ft.length&&(Et=new VA(Et,i,null,a,J),it.push({event:Et,listeners:Ft}),At?Et.data=At:(At=$A(a),At!==null&&(Et.data=At)))),(At=fR?pR(i,a):gR(i,a))&&(Et=Ep(X,"onBeforeInput"),0<Et.length&&(Ft=new VA("onBeforeInput","beforeinput",null,a,J),it.push({event:Ft,listeners:Et}),Ft.data=At)),a2(it,i,X,a,J)}DS(it,s)})}function fh(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Ep(i,s){for(var a=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Du(i,a),g!=null&&u.unshift(fh(i,g,v)),g=Du(i,s),g!=null&&u.push(fh(i,g,v))),i.tag===3)return u;i=i.return}return[]}function ec(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function NS(i,s,a,u,g){for(var v=s._reactName,_=[];a!==null&&a!==u;){var T=a,D=T.alternate,X=T.stateNode;if(T=T.tag,D!==null&&D===u)break;T!==5&&T!==26&&T!==27||X===null||(D=X,g?(X=Du(a,v),X!=null&&_.unshift(fh(a,X,D))):g||(X=Du(a,v),X!=null&&_.push(fh(a,X,D)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function kS(i){return(typeof i=="string"?i:""+i).replace(c2,`
`).replace(u2,"")}function PS(i,s){return s=kS(s),kS(i)===s}function wp(){}function ee(i,s,a,u,g,v){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Cl(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Cl(i,""+u);break;case"className":Mf(i,"class",u);break;case"tabIndex":Mf(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mf(i,a,u);break;case"style":HA(i,u,v);break;case"data":if(s!=="object"){Mf(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Of(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&ee(i,s,"name",g.name,g,null),ee(i,s,"formEncType",g.formEncType,g,null),ee(i,s,"formMethod",g.formMethod,g,null),ee(i,s,"formTarget",g.formTarget,g,null)):(ee(i,s,"encType",g.encType,g,null),ee(i,s,"method",g.method,g,null),ee(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Of(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=wp);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Of(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":zt("beforetoggle",i),zt("toggle",i),Rf(i,"popover",u);break;case"xlinkActuate":xs(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xs(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xs(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xs(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xs(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xs(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xs(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rf(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IC.get(a)||a,Rf(i,a,u))}}function b0(i,s,a,u,g,v){switch(a){case"style":HA(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"children":typeof u=="string"?Cl(i,u):(typeof u=="number"||typeof u=="bigint")&&Cl(i,""+u);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!TA.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),v=i[Mi]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,u,g);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Rf(i,a,u)}}}function ti(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",i),zt("load",i);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var _=a[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ee(i,s,v,_,a,null)}}g&&ee(i,s,"srcSet",a.srcSet,a,null),u&&ee(i,s,"src",a.src,a,null);return;case"input":zt("invalid",i);var T=v=_=g=null,D=null,X=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":g=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":X=J;break;case"value":v=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,s));break;default:ee(i,s,u,J,a,null)}}NA(i,v,T,D,X,_,g,!1),Lf(i);return;case"select":zt("invalid",i),u=_=v=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":v=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:ee(i,s,g,T,a,null)}s=v,a=_,i.multiple=!!u,s!=null?Tl(i,!!u,s,!1):a!=null&&Tl(i,!!u,a,!0);return;case"textarea":zt("invalid",i),v=g=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":g=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:ee(i,s,_,T,a,null)}PA(i,u,g,v),Lf(i);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(i,s,D,u,a,null)}return;case"dialog":zt("beforetoggle",i),zt("toggle",i),zt("cancel",i),zt("close",i);break;case"iframe":case"object":zt("load",i);break;case"video":case"audio":for(u=0;u<dh.length;u++)zt(dh[u],i);break;case"image":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"embed":case"source":case"link":zt("error",i),zt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(u=a[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ee(i,s,X,u,a,null)}return;default:if(Pm(s)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&b0(i,s,J,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&ee(i,s,T,u,a,null))}function h2(i,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,_=null,T=null,D=null,X=null,J=null;for(W in a){var it=a[W];if(a.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=it;default:u.hasOwnProperty(W)||ee(i,s,W,null,u,it)}}for(var K in u){var W=u[K];if(it=a[K],u.hasOwnProperty(K)&&(W!=null||it!=null))switch(K){case"type":v=W;break;case"name":g=W;break;case"checked":X=W;break;case"defaultChecked":J=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:W!==it&&ee(i,s,K,W,u,it)}}Nm(i,_,T,D,X,J,v,g);return;case"select":W=_=T=K=null;for(v in a)if(D=a[v],a.hasOwnProperty(v)&&D!=null)switch(v){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(v)||ee(i,s,v,null,u,D)}for(g in u)if(v=u[g],D=a[g],u.hasOwnProperty(g)&&(v!=null||D!=null))switch(g){case"value":K=v;break;case"defaultValue":T=v;break;case"multiple":_=v;default:v!==D&&ee(i,s,g,v,u,D)}s=T,a=_,u=W,K!=null?Tl(i,!!a,K,!1):!!u!=!!a&&(s!=null?Tl(i,!!a,s,!0):Tl(i,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(T in a)if(g=a[T],a.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(i,s,T,null,u,g)}for(_ in u)if(g=u[_],v=a[_],u.hasOwnProperty(_)&&(g!=null||v!=null))switch(_){case"value":K=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==v&&ee(i,s,_,g,u,v)}kA(i,K,W);return;case"option":for(var wt in a)if(K=a[wt],a.hasOwnProperty(wt)&&K!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:ee(i,s,wt,null,u,K)}for(D in u)if(K=u[D],W=a[D],u.hasOwnProperty(D)&&K!==W&&(K!=null||W!=null))switch(D){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ee(i,s,D,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)K=a[St],a.hasOwnProperty(St)&&K!=null&&!u.hasOwnProperty(St)&&ee(i,s,St,null,u,K);for(X in u)if(K=u[X],W=a[X],u.hasOwnProperty(X)&&K!==W&&(K!=null||W!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:ee(i,s,X,K,u,W)}return;default:if(Pm(s)){for(var ie in a)K=a[ie],a.hasOwnProperty(ie)&&K!==void 0&&!u.hasOwnProperty(ie)&&b0(i,s,ie,void 0,u,K);for(J in u)K=u[J],W=a[J],!u.hasOwnProperty(J)||K===W||K===void 0&&W===void 0||b0(i,s,J,K,u,W);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!u.hasOwnProperty(U)&&ee(i,s,U,null,u,K);for(it in u)K=u[it],W=a[it],!u.hasOwnProperty(it)||K===W||K==null&&W==null||ee(i,s,it,K,u,W)}var A0=null,_0=null;function xp(i){return i.nodeType===9?i:i.ownerDocument}function FS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function S0(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var E0=null;function d2(){var i=window.event;return i&&i.type==="popstate"?i===E0?!1:(E0=i,!0):(E0=null,!1)}var BS=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(i){return zS.resolve(null).then(i).catch(g2)}:BS;function g2(i){setTimeout(function(){throw i})}function Xa(i){return i==="head"}function IS(i,s){var a=s,u=0,g=0;do{var v=a.nextSibling;if(i.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<u&&8>u){a=u;var _=i.ownerDocument;if(a&1&&ph(_.documentElement),a&2&&ph(_.body),a&4)for(a=_.head,ph(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Mu]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(g===0){i.removeChild(v),Sh(s);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:u=a.charCodeAt(0)-48;else u=0;a=v}while(a);Sh(s)}function w0(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":w0(a),Mm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function m2(i,s,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Mu])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function v2(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=On(i.nextSibling),i===null))return null;return i}function x0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function y2(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function On(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var T0=null;function jS(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function US(i,s,a){switch(s=xp(a),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function ph(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Mm(i)}var vn=new Map,VS=new Set;function Tp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zs=Y.d;Y.d={f:b2,r:A2,D:_2,C:S2,L:E2,m:w2,X:T2,S:x2,M:C2};function b2(){var i=zs.f(),s=vp();return i||s}function A2(i){var s=Sl(i);s!==null&&s.tag===5&&s.type==="form"?c_(s):zs.r(i)}var ic=typeof document>"u"?null:document;function GS(i,s,a){var u=ic;if(u&&typeof s=="string"&&s){var g=un(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),VS.has(g)||(VS.add(g),i={rel:i,crossOrigin:a,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),ti(s,"link",i),Ue(s),u.head.appendChild(s)))}}function _2(i){zs.D(i),GS("dns-prefetch",i,null)}function S2(i,s){zs.C(i,s),GS("preconnect",i,s)}function E2(i,s,a){zs.L(i,s,a);var u=ic;if(u&&i&&s){var g='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+un(a.imageSizes)+'"]')):g+='[href="'+un(i)+'"]';var v=g;switch(s){case"style":v=nc(i);break;case"script":v=sc(i)}vn.has(v)||(i=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),vn.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(gh(v))||s==="script"&&u.querySelector(mh(v))||(s=u.createElement("link"),ti(s,"link",i),Ue(s),u.head.appendChild(s)))}}function w2(i,s){zs.m(i,s);var a=ic;if(a&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+un(u)+'"][href="'+un(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=sc(i)}if(!vn.has(v)&&(i=m({rel:"modulepreload",href:i},s),vn.set(v,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mh(v)))return}u=a.createElement("link"),ti(u,"link",i),Ue(u),a.head.appendChild(u)}}}function x2(i,s,a){zs.S(i,s,a);var u=ic;if(u&&i){var g=El(u).hoistableStyles,v=nc(i);s=s||"default";var _=g.get(v);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(gh(v)))T.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},a),(a=vn.get(v))&&C0(i,a);var D=_=u.createElement("link");Ue(D),ti(D,"link",i),D._p=new Promise(function(X,J){D.onload=X,D.onerror=J}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cp(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:T},g.set(v,_)}}}function T2(i,s){zs.X(i,s);var a=ic;if(a&&i){var u=El(a).hoistableScripts,g=sc(i),v=u.get(g);v||(v=a.querySelector(mh(g)),v||(i=m({src:i,async:!0},s),(s=vn.get(g))&&R0(i,s),v=a.createElement("script"),Ue(v),ti(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function C2(i,s){zs.M(i,s);var a=ic;if(a&&i){var u=El(a).hoistableScripts,g=sc(i),v=u.get(g);v||(v=a.querySelector(mh(g)),v||(i=m({src:i,async:!0,type:"module"},s),(s=vn.get(g))&&R0(i,s),v=a.createElement("script"),Ue(v),ti(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function qS(i,s,a,u){var g=(g=ct.current)?Tp(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=nc(a.href),a=El(g).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=nc(a.href);var v=El(g).hoistableStyles,_=v.get(i);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=g.querySelector(gh(i)))&&!v._p&&(_.instance=v,_.state.loading=5),vn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(i,a),v||R2(g,i,a,_.state))),s&&u===null)throw Error(n(528,""));return _}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sc(a),a=El(g).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function nc(i){return'href="'+un(i)+'"'}function gh(i){return'link[rel="stylesheet"]['+i+"]"}function XS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function R2(i,s,a,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ti(s,"link",a),Ue(s),i.head.appendChild(s))}function sc(i){return'[src="'+un(i)+'"]'}function mh(i){return"script[async]"+i}function YS(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+un(a.href)+'"]');if(u)return s.instance=u,Ue(u),u;var g=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ue(u),ti(u,"style",g),Cp(u,a.precedence,i),s.instance=u;case"stylesheet":g=nc(a.href);var v=i.querySelector(gh(g));if(v)return s.state.loading|=4,s.instance=v,Ue(v),v;u=XS(a),(g=vn.get(g))&&C0(u,g),v=(i.ownerDocument||i).createElement("link"),Ue(v);var _=v;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ti(v,"link",u),s.state.loading|=4,Cp(v,a.precedence,i),s.instance=v;case"script":return v=sc(a.src),(g=i.querySelector(mh(v)))?(s.instance=g,Ue(g),g):(u=a,(g=vn.get(v))&&(u=m({},a),R0(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ue(g),ti(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Cp(u,a.precedence,i));return s.instance}function Cp(i,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===s)v=T;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function C0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function R0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Rp=null;function KS(i,s,a){if(Rp===null){var u=new Map,g=Rp=new Map;g.set(a,u)}else g=Rp,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[Mu]||v[ci]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(s)||"";_=i+_;var T=u.get(_);T?T.push(v):u.set(_,[v])}}return u}function $S(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function M2(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function WS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var vh=null;function L2(){}function D2(i,s,a){if(vh===null)throw Error(n(475));var u=vh;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=nc(a.href),v=i.querySelector(gh(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Mp.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=v,Ue(v);return}v=i.ownerDocument||i,a=XS(a),(g=vn.get(g))&&C0(a,g),v=v.createElement("link"),Ue(v);var _=v;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ti(v,"link",a),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Mp.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function O2(){if(vh===null)throw Error(n(475));var i=vh;return i.stylesheets&&i.count===0&&M0(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&M0(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Mp(){if(this.count--,this.count===0){if(this.stylesheets)M0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lp=null;function M0(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lp=new Map,s.forEach(N2,i),Lp=null,Mp.call(i))}function N2(i,s){if(!(s.state.loading&4)){var a=Lp.get(i);if(a)var u=a.get(null);else{a=new Map,Lp.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var _=g[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}g=s.instance,_=g.getAttribute("data-precedence"),v=a.get(_)||u,v===u&&a.set(null,g),a.set(_,g),this.count++,u=Mp.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var yh={$$typeof:O,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function k2(i,s,a,u,g,v,_,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.hiddenUpdates=xm(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function QS(i,s,a,u,g,v,_,T,D,X,J,it){return i=new k2(i,s,a,_,T,D,X,it),s=1,v===!0&&(s|=24),v=Gi(3,null,null,s),i.current=v,v.stateNode=i,s=uv(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:s},pv(v),i}function ZS(i){return i?(i=Pl,i):Pl}function JS(i,s,a,u,g,v){g=ZS(g),u.context===null?u.context=g:u.pendingContext=g,u=Na(s),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=ka(i,u,s),a!==null&&($i(a,i,s),Ku(a,i,s))}function tE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function L0(i,s){tE(i,s),(i=i.alternate)&&tE(i,s)}function eE(i){if(i.tag===13){var s=kl(i,67108864);s!==null&&$i(s,i,67108864),L0(i,67108864)}}var Dp=!0;function P2(i,s,a,u){var g=B.T;B.T=null;var v=Y.p;try{Y.p=2,D0(i,s,a,u)}finally{Y.p=v,B.T=g}}function F2(i,s,a,u){var g=B.T;B.T=null;var v=Y.p;try{Y.p=8,D0(i,s,a,u)}finally{Y.p=v,B.T=g}}function D0(i,s,a,u){if(Dp){var g=O0(u);if(g===null)y0(i,s,u,Op,a),nE(i,u);else if(B2(g,i,s,a,u))u.stopPropagation();else if(nE(i,u),s&4&&-1<H2.indexOf(i)){for(;g!==null;){var v=Sl(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Ir(v.pendingLanes);if(_!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Ui(_);T.entanglements[1]|=D,_&=~D}ns(v),($t&6)===0&&(gp=Gt()+500,hh(0))}}break;case 13:T=kl(v,2),T!==null&&$i(T,v,2),vp(),L0(v,2)}if(v=O0(u),v===null&&y0(i,s,u,Op,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else y0(i,s,u,null,a)}}function O0(i){return i=Hm(i),N0(i)}var Op=null;function N0(i){if(Op=null,i=_l(i),i!==null){var s=o(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Op=i,null}function iE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ca()){case Hr:return 2;case Br:return 8;case Vt:case le:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var k0=!1,Ya=null,Ka=null,$a=null,bh=new Map,Ah=new Map,Wa=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(i,s){switch(i){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":bh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(s.pointerId)}}function _h(i,s,a,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=Sl(s),s!==null&&eE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function B2(i,s,a,u,g){switch(s){case"focusin":return Ya=_h(Ya,i,s,a,u,g),!0;case"dragenter":return Ka=_h(Ka,i,s,a,u,g),!0;case"mouseover":return $a=_h($a,i,s,a,u,g),!0;case"pointerover":var v=g.pointerId;return bh.set(v,_h(bh.get(v)||null,i,s,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Ah.set(v,_h(Ah.get(v)||null,i,s,a,u,g)),!0}return!1}function sE(i){var s=_l(i.target);if(s!==null){var a=o(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,DC(i.priority,function(){if(a.tag===13){var u=Ki();u=Tm(u);var g=kl(a,u);g!==null&&$i(g,a,u),L0(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Np(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=O0(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Fm=u,a.target.dispatchEvent(u),Fm=null}else return s=Sl(a),s!==null&&eE(s),i.blockedOn=a,!1;s.shift()}return!0}function aE(i,s,a){Np(i)&&a.delete(s)}function z2(){k0=!1,Ya!==null&&Np(Ya)&&(Ya=null),Ka!==null&&Np(Ka)&&(Ka=null),$a!==null&&Np($a)&&($a=null),bh.forEach(aE),Ah.forEach(aE)}function kp(i,s){i.blockedOn===s&&(i.blockedOn=null,k0||(k0=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,z2)))}var Pp=null;function rE(i){Pp!==i&&(Pp=i,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Pp===i&&(Pp=null);for(var s=0;s<i.length;s+=3){var a=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(N0(u||a)===null)continue;break}var v=Sl(a);v!==null&&(i.splice(s,3),s-=3,Nv(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function Sh(i){function s(D){return kp(D,i)}Ya!==null&&kp(Ya,i),Ka!==null&&kp(Ka,i),$a!==null&&kp($a,i),bh.forEach(s),Ah.forEach(s);for(var a=0;a<Wa.length;a++){var u=Wa[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Wa.length&&(a=Wa[0],a.blockedOn===null);)sE(a),a.blockedOn===null&&Wa.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],_=g[Mi]||null;if(typeof v=="function")_||rE(a);else if(_){var T=null;if(v&&v.hasAttribute("formAction")){if(g=v,_=v[Mi]||null)T=_.formAction;else if(N0(g)!==null)continue}else T=_.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),rE(a)}}}function P0(i){this._internalRoot=i}Fp.prototype.render=P0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var a=s.current,u=Ki();JS(a,u,i,s,null,null)},Fp.prototype.unmount=P0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;JS(i.current,2,null,i,null,null),vp(),s[Al]=null}};function Fp(i){this._internalRoot=i}Fp.prototype.unstable_scheduleHydration=function(i){if(i){var s=EA();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Wa.length&&s!==0&&s<Wa[a].priority;a++);Wa.splice(a,0,i),a===0&&sE(i)}};var oE=e.version;if(oE!=="19.1.0")throw Error(n(527,oE,"19.1.0"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var I2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{zr=Hp.inject(I2),ji=Hp}catch{}}return wh.createRoot=function(i,s){if(!r(i))throw Error(n(299));var a=!1,u="",g=E_,v=w_,_=x_,T=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=QS(i,1,!1,null,null,a,u,g,v,_,T,null),i[Al]=s.current,v0(i),new P0(s)},wh.hydrateRoot=function(i,s,a){if(!r(i))throw Error(n(299));var u=!1,g="",v=E_,_=w_,T=x_,D=null,X=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(X=a.formState)),s=QS(i,1,!0,s,a??null,u,g,v,_,T,D,X),s.context=ZS(null),a=s.current,u=Ki(),u=Tm(u),g=Na(u),g.callback=null,ka(a,g,u),a=u,s.current.lanes=a,Ru(s,a),ns(s),i[Al]=s.current,v0(i),new Fp(s)},wh.version="19.1.0",wh}var yE;function Q2(){if(yE)return z0.exports;yE=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),z0.exports=W2(),z0.exports}var Z2=Q2();const J2=yf(Z2);var tM="Invariant failed";function ya(l,e){if(!l)throw new Error(tM)}const _c=new WeakMap,Kp=new WeakMap,Cg={current:[]};let V0=!1,Kh=0;const Mh=new Set,Bp=new Map;function yw(l){const e=Array.from(l).sort((t,n)=>t instanceof Sc&&t.options.deps.includes(n)?1:n instanceof Sc&&n.options.deps.includes(t)?-1:0);for(const t of e){if(Cg.current.includes(t))continue;Cg.current.push(t),t.recompute();const n=Kp.get(t);if(n)for(const r of n){const o=_c.get(r);o&&yw(o)}}}function eM(l){l.listeners.forEach(e=>e({prevVal:l.prevState,currentVal:l.state}))}function iM(l){l.listeners.forEach(e=>e({prevVal:l.prevState,currentVal:l.state}))}function bw(l){if(Kh>0&&!Bp.has(l)&&Bp.set(l,l.prevState),Mh.add(l),!(Kh>0)&&!V0)try{for(V0=!0;Mh.size>0;){const e=Array.from(Mh);Mh.clear();for(const t of e){const n=Bp.get(t)??t.prevState;t.prevState=n,eM(t)}for(const t of e){const n=_c.get(t);n&&(Cg.current.push(t),yw(n))}for(const t of e){const n=_c.get(t);if(n)for(const r of n)iM(r)}}}finally{V0=!1,Cg.current=[],Bp.clear()}}function G0(l){Kh++;try{l()}finally{if(Kh--,Kh===0){const e=Array.from(Mh)[0];e&&bw(e)}}}class vy{constructor(e,t){this.listeners=new Set,this.subscribe=n=>{var r,o;this.listeners.add(n);const c=(o=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:o.call(r,n,this);return()=>{this.listeners.delete(n),c==null||c()}},this.setState=n=>{var r,o,c;this.prevState=this.state,this.state=(r=this.options)!=null&&r.updateFn?this.options.updateFn(this.prevState)(n):n(this.prevState),(c=(o=this.options)==null?void 0:o.onUpdate)==null||c.call(o),bw(this)},this.prevState=e,this.state=e,this.options=t}}class Sc{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],n=[];for(const r of this.options.deps)t.push(r.prevState),n.push(r.state);return this.lastSeenDepValues=n,{prevDepVals:t,currDepVals:n,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,n;this.prevState=this.state;const{prevDepVals:r,currDepVals:o,prevVal:c}=this.getDepVals();this.state=this.options.fn({prevDepVals:r,currDepVals:o,prevVal:c}),(n=(t=this.options).onUpdate)==null||n.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof Sc&&o.checkIfRecalculationNeededDeeply();let t=!1;const n=this.lastSeenDepValues,{currDepVals:r}=this.getDepVals();for(let o=0;o<r.length;o++)if(r[o]!==n[o]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var n,r;this.listeners.add(t);const o=(r=(n=this.options).onSubscribe)==null?void 0:r.call(n,t,this);return()=>{this.listeners.delete(t),o==null||o()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof Sc)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof vy){let n=_c.get(t);n||(n=new Set,_c.set(t,n)),n.add(this);let r=Kp.get(this);r||(r=new Set,Kp.set(this,r)),r.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof Sc)this.unregisterFromGraph(t.options.deps);else if(t instanceof vy){const n=_c.get(t);n&&n.delete(this);const r=Kp.get(this);r&&r.delete(t)}}}const Lr="__TSR_index",bE="popstate",AE="beforeunload";function Aw(l){let e=l.getLocation();const t=new Set,n=c=>{e=l.getLocation(),t.forEach(h=>h({location:e,action:c}))},r=c=>{l.notifyOnIndexChange??!0?n(c):e=l.getLocation()},o=async({task:c,navigateOpts:h,...f})=>{var p,m;if((h==null?void 0:h.ignoreBlocker)??!1){c();return}const b=((p=l.getBlockers)==null?void 0:p.call(l))??[],A=f.type==="PUSH"||f.type==="REPLACE";if(typeof document<"u"&&b.length&&A)for(const S of b){const x=Zh(f.path,f.state);if(await S.blockerFn({currentLocation:e,nextLocation:x,action:f.type})){(m=l.onBlocked)==null||m.call(l);return}}c()};return{get location(){return e},get length(){return l.getLength()},subscribers:t,subscribe:c=>(t.add(c),()=>{t.delete(c)}),push:(c,h,f)=>{const p=e.state[Lr];h=yy(p+1,h),o({task:()=>{l.pushState(c,h),n({type:"PUSH"})},navigateOpts:f,type:"PUSH",path:c,state:h})},replace:(c,h,f)=>{const p=e.state[Lr];h=yy(p,h),o({task:()=>{l.replaceState(c,h),n({type:"REPLACE"})},navigateOpts:f,type:"REPLACE",path:c,state:h})},go:(c,h)=>{o({task:()=>{l.go(c),r({type:"GO",index:c})},navigateOpts:h,type:"GO"})},back:c=>{o({task:()=>{l.back((c==null?void 0:c.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{o({task:()=>{l.forward((c==null?void 0:c.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>e.state[Lr]!==0,createHref:c=>l.createHref(c),block:c=>{var h;if(!l.setBlockers)return()=>{};const f=((h=l.getBlockers)==null?void 0:h.call(l))??[];return l.setBlockers([...f,c]),()=>{var p,m;const y=((p=l.getBlockers)==null?void 0:p.call(l))??[];(m=l.setBlockers)==null||m.call(l,y.filter(b=>b!==c))}},flush:()=>{var c;return(c=l.flush)==null?void 0:c.call(l)},destroy:()=>{var c;return(c=l.destroy)==null?void 0:c.call(l)},notify:n}}function yy(l,e){return e||(e={}),{...e,key:Vb(),[Lr]:l}}function nM(l){var e;const t=typeof document<"u"?window:void 0,n=t.history.pushState,r=t.history.replaceState;let o=[];const c=()=>o,h=j=>o=j,f=j=>j,p=()=>Zh(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);(e=t.history.state)!=null&&e.key||t.history.replaceState({[Lr]:0,key:Vb()},"");let m=p(),y,b=!1,A=!1,S=!1,x=!1;const M=()=>m;let R,k;const O=()=>{R&&(F._ignoreSubscribers=!0,(R.isPush?t.history.pushState:t.history.replaceState)(R.state,"",R.href),F._ignoreSubscribers=!1,R=void 0,k=void 0,y=void 0)},P=(j,at,et)=>{const nt=f(at);k||(y=m),m=Zh(at,et),R={href:nt,state:et,isPush:(R==null?void 0:R.isPush)||j==="push"},k||(k=Promise.resolve().then(()=>O()))},I=j=>{m=p(),F.notify({type:j})},N=async()=>{if(A){A=!1;return}const j=p(),at=j.state[Lr]-m.state[Lr],et=at===1,nt=at===-1,rt=!et&&!nt||b;b=!1;const dt=rt?"GO":nt?"BACK":"FORWARD",lt=rt?{type:"GO",index:at}:{type:nt?"BACK":"FORWARD"};if(S)S=!1;else{const B=c();if(typeof document<"u"&&B.length){for(const Y of B)if(await Y.blockerFn({currentLocation:m,nextLocation:j,action:dt})){A=!0,t.history.go(1),F.notify(lt);return}}}m=p(),F.notify(lt)},V=j=>{if(x){x=!1;return}let at=!1;const et=c();if(typeof document<"u"&&et.length)for(const nt of et){const rt=nt.enableBeforeUnload??!0;if(rt===!0){at=!0;break}if(typeof rt=="function"&&rt()===!0){at=!0;break}}if(at)return j.preventDefault(),j.returnValue=""},F=Aw({getLocation:M,getLength:()=>t.history.length,pushState:(j,at)=>P("push",j,at),replaceState:(j,at)=>P("replace",j,at),back:j=>(j&&(S=!0),x=!0,t.history.back()),forward:j=>{j&&(S=!0),x=!0,t.history.forward()},go:j=>{b=!0,t.history.go(j)},createHref:j=>f(j),flush:O,destroy:()=>{t.history.pushState=n,t.history.replaceState=r,t.removeEventListener(AE,V,{capture:!0}),t.removeEventListener(bE,N)},onBlocked:()=>{y&&m!==y&&(m=y)},getBlockers:c,setBlockers:h,notifyOnIndexChange:!1});return t.addEventListener(AE,V,{capture:!0}),t.addEventListener(bE,N),t.history.pushState=function(...j){const at=n.apply(t.history,j);return F._ignoreSubscribers||I("PUSH"),at},t.history.replaceState=function(...j){const at=r.apply(t.history,j);return F._ignoreSubscribers||I("REPLACE"),at},F}function sM(l={initialEntries:["/"]}){const e=l.initialEntries;let t=l.initialIndex?Math.min(Math.max(l.initialIndex,0),e.length-1):e.length-1;const n=e.map((o,c)=>yy(c,void 0));return Aw({getLocation:()=>Zh(e[t],n[t]),getLength:()=>e.length,pushState:(o,c)=>{t<e.length-1&&(e.splice(t+1),n.splice(t+1)),n.push(c),e.push(o),t=Math.max(e.length-1,0)},replaceState:(o,c)=>{n[t]=c,e[t]=o},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,e.length-1)},go:o=>{t=Math.min(Math.max(t+o,0),e.length-1)},createHref:o=>o})}function Zh(l,e){const t=l.indexOf("#"),n=l.indexOf("?");return{href:l,pathname:l.substring(0,t>0?n>0?Math.min(t,n):t:n>0?n:l.length),hash:t>-1?l.substring(t):"",search:n>-1?l.slice(n,t===-1?void 0:t):"",state:e||{[Lr]:0,key:Vb()}}}function Vb(){return(Math.random()+1).toString(36).substring(7)}function mc(l){return l[l.length-1]}function aM(l){return typeof l=="function"}function fo(l,e){return aM(l)?l(e):l}function by(l,e){return e.reduce((t,n)=>(t[n]=l[n],t),{})}function bn(l,e){if(l===e)return l;const t=e,n=SE(l)&&SE(t);if(n||Rg(l)&&Rg(t)){const r=n?l:Object.keys(l),o=r.length,c=n?t:Object.keys(t),h=c.length,f=n?[]:{};let p=0;for(let m=0;m<h;m++){const y=n?m:c[m];(!n&&r.includes(y)||n)&&l[y]===void 0&&t[y]===void 0?(f[y]=void 0,p++):(f[y]=bn(l[y],t[y]),f[y]===l[y]&&l[y]!==void 0&&p++)}return o===h&&p===o?l:f}return t}function Rg(l){if(!_E(l))return!1;const e=l.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!_E(t)||!t.hasOwnProperty("isPrototypeOf"))}function _E(l){return Object.prototype.toString.call(l)==="[object Object]"}function SE(l){return Array.isArray(l)&&l.length===Object.keys(l).length}function EE(l,e){let t=Object.keys(l);return e&&(t=t.filter(n=>l[n]!==void 0)),t}function Ec(l,e,t){if(l===e)return!0;if(typeof l!=typeof e)return!1;if(Rg(l)&&Rg(e)){const n=(t==null?void 0:t.ignoreUndefined)??!0,r=EE(l,n),o=EE(e,n);return!(t!=null&&t.partial)&&r.length!==o.length?!1:o.every(c=>Ec(l[c],e[c],t))}return Array.isArray(l)&&Array.isArray(e)?l.length!==e.length?!1:!l.some((n,r)=>!Ec(n,e[r],t)):!1}function oc(l){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.status="pending",n.resolve=r=>{n.status="resolved",n.value=r,e(r),l==null||l(r)},n.reject=r=>{n.status="rejected",t(r)},n}function rM(l){return/%[0-9A-Fa-f]{2}/.test(l)}function ba(l){return rm(l.filter(e=>e!==void 0).join("/"))}function rm(l){return l.replace(/\/{2,}/g,"/")}function Gb(l){return l==="/"?l:l.replace(/^\/{1,}/,"")}function po(l){return l==="/"?l:l.replace(/\/{1,}$/,"")}function oM(l){return po(Gb(l))}function Mg(l,e){return l!=null&&l.endsWith("/")&&l!=="/"&&l!==`${e}/`?l.slice(0,-1):l}function lM(l,e,t){return Mg(l,t)===Mg(e,t)}function cM({basepath:l,base:e,to:t,trailingSlash:n="never",caseSensitive:r}){var o,c;e=Lg(l,e,r),t=Lg(l,t,r);let h=wu(e);const f=wu(t);h.length>1&&((o=mc(h))==null?void 0:o.value)==="/"&&h.pop(),f.forEach((m,y)=>{m.value==="/"?y?y===f.length-1&&h.push(m):h=[m]:m.value===".."?h.pop():m.value==="."||h.push(m)}),h.length>1&&(((c=mc(h))==null?void 0:c.value)==="/"?n==="never"&&h.pop():n==="always"&&h.push({type:"pathname",value:"/"}));const p=ba([l,...h.map(m=>m.value)]);return rm(p)}function wu(l){if(!l)return[];l=rm(l);const e=[];if(l.slice(0,1)==="/"&&(l=l.substring(1),e.push({type:"pathname",value:"/"})),!l)return e;const t=l.split("/").filter(Boolean);return e.push(...t.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:n.includes("%25")?n.split("%25").map(r=>decodeURI(r)).join("%25"):decodeURI(n)})),l.slice(-1)==="/"&&(l=l.substring(1),e.push({type:"pathname",value:"/"})),e}function zp({path:l,params:e,leaveWildcards:t,leaveParams:n,decodeCharMap:r}){const o=wu(l);function c(m){const y=e[m],b=typeof y=="string";return["*","_splat"].includes(m)?b?encodeURI(y):y:b?uM(y,r):y}let h=!1;const f={},p=ba(o.map(m=>{if(m.type==="wildcard"){f._splat=e._splat;const y=c("_splat");return t?`${m.value}${y??""}`:y}if(m.type==="param"){const y=m.value.substring(1);if(!h&&!(y in e)&&(h=!0),f[y]=e[y],n){const b=c(m.value);return`${m.value}${b??""}`}return c(y)??"undefined"}return m.value}));return{usedParams:f,interpolatedPath:p,isMissingParams:h}}function uM(l,e){let t=encodeURIComponent(l);if(e)for(const[n,r]of e)t=t.replaceAll(n,r);return t}function Ip(l,e,t){const n=hM(l,e,t);if(!(t.to&&!n))return n??{}}function Lg(l,e,t=!1){const n=t?l:l.toLowerCase(),r=t?e:e.toLowerCase();switch(!0){case n==="/":return e;case r===n:return"";case e.length<l.length:return e;case r[n.length]!=="/":return e;case r.startsWith(n):return e.slice(l.length);default:return e}}function hM(l,e,t){if(l!=="/"&&!e.startsWith(l))return;e=Lg(l,e,t.caseSensitive);const n=Lg(l,`${t.to??"$"}`,t.caseSensitive),r=wu(e),o=wu(n);e.startsWith("/")||r.unshift({type:"pathname",value:"/"}),n.startsWith("/")||o.unshift({type:"pathname",value:"/"});const c={};return(()=>{for(let f=0;f<Math.max(r.length,o.length);f++){const p=r[f],m=o[f],y=f>=r.length-1,b=f>=o.length-1;if(m){if(m.type==="wildcard"){const A=decodeURI(ba(r.slice(f).map(S=>S.value)));return c["*"]=A,c._splat=A,!0}if(m.type==="pathname"){if(m.value==="/"&&!(p!=null&&p.value))return!0;if(p){if(t.caseSensitive){if(m.value!==p.value)return!1}else if(m.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(m.type==="param"){if(p.value==="/")return!1;p.value.charAt(0)!=="$"&&(c[m.value.substring(1)]=decodeURIComponent(p.value))}}if(!y&&b)return c["**"]=ba(r.slice(f+1).map(A=>A.value)),!!t.fuzzy&&(m==null?void 0:m.value)!=="/"}return!0})()?c:void 0}function xn(l){return!!(l!=null&&l.isNotFound)}const Dg="tsr-scroll-restoration-v1_3";let _w=!1;try{_w=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const dM=(l,e)=>{let t;return(...n)=>{t||(t=setTimeout(()=>{l(...n),t=null},e))}},vc=_w?{state:JSON.parse(window.sessionStorage.getItem(Dg)||"null")||{},set:e=>(vc.state=fo(e,vc.state)||vc.state,window.sessionStorage.setItem(Dg,JSON.stringify(vc.state)))}:void 0,Ay=l=>l.state.key||l.href;function fM(l){const e=[];let t;for(;t=l.parentNode;)e.unshift(`${l.tagName}:nth-child(${[].indexOf.call(t.children,l)+1})`),l=t;return`${e.join(" > ")}`.toLowerCase()}let Og=!1;function Sw(l,e,t,n,r){var o;let c;try{c=JSON.parse(sessionStorage.getItem(l)||"{}")}catch(p){console.error(p);return}const h=e||((o=window.history.state)==null?void 0:o.key),f=c[h];Og=!0,(()=>{if(n&&f){for(const m in f){const y=f[m];if(m==="window")window.scrollTo({top:y.scrollY,left:y.scrollX,behavior:t});else if(m){const b=document.querySelector(m);b&&(b.scrollLeft=y.scrollX,b.scrollTop=y.scrollY)}}return}const p=window.location.hash.split("#")[1];if(p){const m=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(m){const y=document.getElementById(p);y&&y.scrollIntoView(m)}return}["window",...(r==null?void 0:r.filter(m=>m!=="window"))??[]].forEach(m=>{const y=m==="window"?window:document.querySelector(m);y&&y.scrollTo({top:0,left:0,behavior:t})})})(),Og=!1}function pM(l,e){if((l.options.scrollRestoration??!1)&&(l.isScrollRestoring=!0),typeof document>"u"||l.isScrollRestorationSetup)return;l.isScrollRestorationSetup=!0,Og=!1;const n=l.options.getScrollRestorationKey||Ay;window.history.scrollRestoration="manual";const r=o=>{if(Og||!l.isScrollRestoring)return;let c="";if(o.target===document||o.target===window)c="window";else{const f=o.target.getAttribute("data-scroll-restoration-id");f?c=`[data-scroll-restoration-id="${f}"]`:c=fM(o.target)}const h=n(l.state.location);vc.set(f=>{const p=f[h]=f[h]||{},m=p[c]=p[c]||{};if(c==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(c){const y=document.querySelector(c);y&&(m.scrollX=y.scrollLeft||0,m.scrollY=y.scrollTop||0)}return f})};typeof document<"u"&&document.addEventListener("scroll",dM(r,100),!0),l.subscribe("onRendered",o=>{const c=n(o.toLocation);if(!l.resetNextScroll){l.resetNextScroll=!0;return}Sw(Dg,c,l.options.scrollRestorationBehavior||void 0,l.isScrollRestoring||void 0,l.options.scrollToTopSelectors||void 0),l.isScrollRestoring&&vc.set(h=>(h[c]=h[c]||{},h))})}function gM(l){if(typeof document<"u"&&document.querySelector){const e=l.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&l.state.location.hash!==""){const t=document.getElementById(l.state.location.hash);t&&t.scrollIntoView(e)}}}function mM(l,e){const t=Object.entries(l).flatMap(([r,o])=>Array.isArray(o)?o.map(c=>[r,String(c)]):[[r,String(o)]]);return""+new URLSearchParams(t).toString()}function q0(l){if(!l)return"";const e=rM(l)?decodeURIComponent(l):decodeURIComponent(encodeURIComponent(l));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function vM(l,e){const t=l;return[...new URLSearchParams(t).entries()].reduce((o,[c,h])=>{const f=o[c];return f==null?o[c]=q0(h):o[c]=Array.isArray(f)?[...f,q0(h)]:[f,q0(h)],o},{})}const yM=AM(JSON.parse),bM=_M(JSON.stringify,JSON.parse);function AM(l){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const t=vM(e);for(const n in t){const r=t[n];if(typeof r=="string")try{t[n]=l(r)}catch{}}return t}}function _M(l,e){function t(n){if(typeof n=="object"&&n!==null)try{return l(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),l(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(o=>{const c=n[o];typeof c>"u"||c===void 0?delete n[o]:n[o]=t(c)});const r=mM(n).toString();return r?`?${r}`:""}}const Kn="__root__";function so(l){return!!(l!=null&&l.isRedirect)}function X0(l){return!!(l!=null&&l.isRedirect)&&l.href}function hl(l){const e=l.resolvedLocation,t=l.location,n=(e==null?void 0:e.pathname)!==t.pathname,r=(e==null?void 0:e.href)!==t.href,o=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:n,hrefChanged:r,hashChanged:o}}class SM{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var n;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||t.basepath&&t.basepath!==r.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${oM(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?sM({initialEntries:[this.basepath||"/"]}):nM()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new vy(wM(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),pM(this)),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const n=c=>{c.forEach((h,f)=>{h.init({originalIndex:f,defaultSsr:this.options.defaultSsr});const p=this.routesById[h.id];if(ya(!p,`Duplicate routes found with id: ${String(h.id)}`),this.routesById[h.id]=h,!h.isRoot&&h.path){const y=po(h.fullPath);(!this.routesByPath[y]||h.fullPath.endsWith("/"))&&(this.routesByPath[y]=h)}const m=h.children;m!=null&&m.length&&n(m)})};n([this.routeTree]);const r=[];Object.values(this.routesById).forEach((c,h)=>{var f;if(c.isRoot||!c.path)return;const p=Gb(c.fullPath),m=wu(p);for(;m.length>1&&((f=m[0])==null?void 0:f.value)==="/";)m.shift();const y=m.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);r.push({child:c,trimmed:p,parsed:m,index:h,scores:y})}),this.flatRoutes=r.sort((c,h)=>{const f=Math.min(c.scores.length,h.scores.length);for(let p=0;p<f;p++)if(c.scores[p]!==h.scores[p])return h.scores[p]-c.scores[p];if(c.scores.length!==h.scores.length)return h.scores.length-c.scores.length;for(let p=0;p<f;p++)if(c.parsed[p].value!==h.parsed[p].value)return c.parsed[p].value>h.parsed[p].value?1:-1;return c.index-h.index}).map((c,h)=>(c.child.rank=h,c.child))},this.subscribe=(t,n)=>{const r={eventType:t,fn:n};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=t=>{this.subscribers.forEach(n=>{n.eventType===t.type&&n.fn(t)})},this.parseLocation=(t,n)=>{const r=({pathname:f,search:p,hash:m,state:y})=>{const b=this.options.parseSearch(p),A=this.options.stringifySearch(b);return{pathname:f,searchStr:A,search:bn(t==null?void 0:t.search,b),hash:m.split("#").reverse()[0]??"",href:`${f}${A}${m}`,state:bn(t==null?void 0:t.state,y)}},o=r(n??this.history.location),{__tempLocation:c,__tempKey:h}=o.state;if(c&&(!h||h===this.tempLocationKey)){const f=r(c);return f.state.key=o.state.key,delete f.state.__tempLocation,{...f,maskedLocation:o}}return o},this.resolvePathWithBase=(t,n)=>cM({basepath:this.basepath,base:t,to:rm(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,n,r)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:n},r):this.matchRoutesInternal(t,n),this.getMatchedRoutes=(t,n)=>{let r={};const o=po(t.pathname),c=m=>Ip(this.basepath,o,{to:m.fullPath,caseSensitive:m.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let h=(n==null?void 0:n.to)!==void 0?this.routesByPath[n.to]:void 0;h?r=c(h):h=this.flatRoutes.find(m=>{const y=c(m);return y?(r=y,!0):!1});let f=h||this.routesById[Kn];const p=[f];for(;f.parentRoute;)f=f.parentRoute,p.unshift(f);return{matchedRoutes:p,routeParams:r,foundRoute:h}},this.cancelMatch=t=>{const n=this.getMatch(t);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=t=>{const n=(o={},c)=>{var h,f,p,m,y,b,A;const S=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,x=o.from!=null?S.find(nt=>Ip(this.basepath,po(nt.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,M=(x==null?void 0:x.pathname)||this.latestLocation.pathname;ya(o.from==null||x!=null,"Could not find match for from: "+o.from);const R=(h=this.state.pendingMatches)!=null&&h.length?(f=mc(this.state.pendingMatches))==null?void 0:f.search:((p=mc(S))==null?void 0:p.search)||this.latestLocation.search,k=c==null?void 0:c.matchedRoutes.filter(nt=>S.find(rt=>rt.routeId===nt.id));let O;if(o.to){const nt=(x==null?void 0:x.fullPath)||((m=mc(S))==null?void 0:m.fullPath)||this.latestLocation.pathname;O=this.resolvePathWithBase(nt,`${o.to}`)}else{const nt=this.routesById[(y=k==null?void 0:k.find(rt=>{const dt=zp({path:rt.fullPath,params:(c==null?void 0:c.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return ba([this.basepath,dt])===M}))==null?void 0:y.id];O=this.resolvePathWithBase(M,(nt==null?void 0:nt.to)??M)}const P={...(b=mc(S))==null?void 0:b.params};let I=(o.params??!0)===!0?P:{...P,...fo(o.params,P)};Object.keys(I).length>0&&(c==null||c.matchedRoutes.map(nt=>{var rt;return((rt=nt.options.params)==null?void 0:rt.stringify)??nt.options.stringifyParams}).filter(Boolean).forEach(nt=>{I={...I,...nt(I)}})),O=zp({path:O,params:I??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let N=R;if(t._includeValidateSearch&&((A=this.options.search)!=null&&A.strict)){let nt={};c==null||c.matchedRoutes.forEach(rt=>{try{rt.options.validateSearch&&(nt={...nt,...Y0(rt.options.validateSearch,{...nt,...N})??{}})}catch{}}),N=nt}N=(nt=>{const rt=(c==null?void 0:c.matchedRoutes.reduce((B,Y)=>{var Z;const bt=[];if("search"in Y.options)(Z=Y.options.search)!=null&&Z.middlewares&&bt.push(...Y.options.search.middlewares);else if(Y.options.preSearchFilters||Y.options.postSearchFilters){const L=({search:$,next:st})=>{let Q=$;"preSearchFilters"in Y.options&&Y.options.preSearchFilters&&(Q=Y.options.preSearchFilters.reduce((ft,ct)=>ct(ft),$));const ot=st(Q);return"postSearchFilters"in Y.options&&Y.options.postSearchFilters?Y.options.postSearchFilters.reduce((ft,ct)=>ct(ft),ot):ot};bt.push(L)}if(t._includeValidateSearch&&Y.options.validateSearch){const L=({search:$,next:st})=>{const Q=st($);try{return{...Q,...Y0(Y.options.validateSearch,Q)??{}}}catch{return Q}};bt.push(L)}return B.concat(bt)},[]))??[],dt=({search:B})=>o.search?o.search===!0?B:fo(o.search,B):{};rt.push(dt);const lt=(B,Y)=>{if(B>=rt.length)return Y;const Z=rt[B];return Z({search:Y,next:L=>lt(B+1,L)})};return lt(0,nt)})(N),N=bn(R,N);const F=this.options.stringifySearch(N),j=o.hash===!0?this.latestLocation.hash:o.hash?fo(o.hash,this.latestLocation.hash):void 0,at=j?`#${j}`:"";let et=o.state===!0?this.latestLocation.state:o.state?fo(o.state,this.latestLocation.state):{};return et=bn(this.latestLocation.state,et),{pathname:O,search:N,searchStr:F,state:et,hash:j??"",href:`${O}${F}${at}`,unmaskOnReload:o.unmaskOnReload}},r=(o={},c)=>{var h;const f=n(o);let p=c?n(c):void 0;if(!p){let b={};const A=(h=this.options.routeMasks)==null?void 0:h.find(S=>{const x=Ip(this.basepath,f.pathname,{to:S.from,caseSensitive:!1,fuzzy:!1});return x?(b=x,!0):!1});if(A){const{from:S,...x}=A;c={...by(t,["from"]),...x,params:b},p=n(c)}}const m=this.getMatchedRoutes(f,o),y=n(o,m);if(p){const b=this.getMatchedRoutes(p,c),A=n(c,b);y.maskedLocation=A}return y};return t.mask?r(t,{...by(t,["from"]),...t.mask}):r(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:n,...r})=>{const o=()=>{const f=["key","__TSR_index","__hashScrollIntoViewOptions"];f.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const p=Ec(r.state,this.latestLocation.state);return f.forEach(m=>{delete r.state[m]}),p},c=this.latestLocation.href===r.href,h=this.commitLocationPromise;if(this.commitLocationPromise=oc(()=>{h==null||h.resolve()}),c&&o())this.load();else{let{maskedLocation:f,hashScrollIntoView:p,...m}=r;f&&(m={...f,state:{...f.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[r.replace?"replace":"push"](m.href,m.state,{ignoreBlocker:n})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:n,hashScrollIntoView:r,viewTransition:o,ignoreBlocker:c,href:h,...f}={})=>{if(h){const m=this.history.location.state.__TSR_index,y=Zh(h,{__TSR_index:t?m:m+1});f.to=y.pathname,f.search=this.options.parseSearch(y.search),f.hash=y.hash.slice(1)}const p=this.buildLocation({...f,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:o,replace:t,resetScroll:n,hashScrollIntoView:r,ignoreBlocker:c})},this.navigate=({to:t,reloadDocument:n,href:r,...o})=>{if(n){if(!r){const c=this.buildLocation({to:t,...o});r=this.history.createHref(c.href)}o.replace?window.location.replace(r):window.location.href=r;return}return this.buildAndCommitLocation({...o,href:r,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,r,o;for(o=new Promise(c=>{this.startTransition(async()=>{var h;try{const f=this.latestLocation,p=this.state.resolvedLocation;this.cancelMatches();let m;G0(()=>{m=this.matchRoutes(f),this.__store.setState(y=>({...y,status:"pending",isLoading:!0,location:f,pendingMatches:m,cachedMatches:y.cachedMatches.filter(b=>!m.find(A=>A.id===b.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...hl({resolvedLocation:p,location:f})}),this.emit({type:"onBeforeLoad",...hl({resolvedLocation:p,location:f})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:m,location:f,onReady:async()=>{this.startViewTransition(async()=>{let y,b,A;G0(()=>{this.__store.setState(S=>{const x=S.matches,M=S.pendingMatches||S.matches;return y=x.filter(R=>!M.find(k=>k.id===R.id)),b=M.filter(R=>!x.find(k=>k.id===R.id)),A=x.filter(R=>M.find(k=>k.id===R.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:M,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(R=>R.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[b,"onEnter"],[A,"onStay"]].forEach(([S,x])=>{S.forEach(M=>{var R,k;(k=(R=this.looseRoutesById[M.routeId].options)[x])==null||k.call(R,M)})})})}})}catch(f){X0(f)?(n=f,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):xn(f)&&(r=f),this.__store.setState(p=>({...p,statusCode:n?n.statusCode:r?404:p.matches.some(m=>m.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===o&&((h=this.commitLocationPromise)==null||h.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(c=>({...c,statusCode:404}))},this.startViewTransition=t=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof n=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,c=this.state.resolvedLocation,h=typeof n.types=="function"?n.types(hl({resolvedLocation:c,location:o})):n.types;r={update:t,types:h}}else r=t;document.startViewTransition(r)}else t()},this.updateMatch=(t,n)=>{var r;let o;const c=(r=this.state.pendingMatches)==null?void 0:r.find(m=>m.id===t),h=this.state.matches.find(m=>m.id===t),f=this.state.cachedMatches.find(m=>m.id===t),p=c?"pendingMatches":h?"matches":f?"cachedMatches":"";return p&&this.__store.setState(m=>{var y;return{...m,[p]:(y=m[p])==null?void 0:y.map(b=>b.id===t?o=n(b):b)}}),o},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===t),this.loadMatches=async({location:t,matches:n,preload:r,onReady:o,updateMatch:c=this.updateMatch,sync:h})=>{let f,p=!1;const m=async()=>{p||(p=!0,await(o==null?void 0:o()))},y=A=>!!(r&&!this.state.matches.find(S=>S.id===A)),b=(A,S)=>{var x,M,R,k;if(X0(S)&&!S.reloadDocument)throw S;if(so(S)||xn(S)){if(c(A.id,O=>({...O,status:so(S)?"redirected":xn(S)?"notFound":"error",isFetching:!1,error:S,beforeLoadPromise:void 0,loaderPromise:void 0})),S.routeId||(S.routeId=A.routeId),(x=A.beforeLoadPromise)==null||x.resolve(),(M=A.loaderPromise)==null||M.resolve(),(R=A.loadPromise)==null||R.resolve(),so(S))throw p=!0,S=this.resolveRedirect({...S,_fromLocation:t}),S;if(xn(S))throw this._handleNotFound(n,S,{updateMatch:c}),(k=this.serverSsr)==null||k.onMatchSettled({router:this,match:this.getMatch(A.id)}),S}};try{await new Promise((A,S)=>{(async()=>{var x,M,R,k;try{const O=(N,V,F)=>{var j,at;const{id:et,routeId:nt}=n[N],rt=this.looseRoutesById[nt];if(V instanceof Promise)throw V;V.routerCode=F,f=f??N,b(this.getMatch(et),V);try{(at=(j=rt.options).onError)==null||at.call(j,V)}catch(dt){V=dt,b(this.getMatch(et),V)}c(et,dt=>{var lt,B;return(lt=dt.beforeLoadPromise)==null||lt.resolve(),(B=dt.loadPromise)==null||B.resolve(),{...dt,error:V,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[N,{id:V,routeId:F}]of n.entries()){const j=this.getMatch(V),at=(x=n[N-1])==null?void 0:x.id,et=this.looseRoutesById[F],nt=et.options.pendingMs??this.options.defaultPendingMs,rt=!!(o&&!this.isServer&&!y(V)&&(et.options.loader||et.options.beforeLoad||wE(et))&&typeof nt=="number"&&nt!==1/0&&(et.options.pendingComponent??((M=this.options)==null?void 0:M.defaultPendingComponent)));let dt=!0;if((j.beforeLoadPromise||j.loaderPromise)&&(rt&&setTimeout(()=>{try{m()}catch{}},nt),await j.beforeLoadPromise,dt=this.getMatch(V).status!=="success"),dt){try{c(V,vt=>{const mt=vt.loadPromise;return{...vt,loadPromise:oc(()=>{mt==null||mt.resolve()}),beforeLoadPromise:oc()}});const lt=new AbortController;let B;rt&&(B=setTimeout(()=>{try{m()}catch{}},nt));const{paramsError:Y,searchError:Z}=this.getMatch(V);Y&&O(N,Y,"PARSE_PARAMS"),Z&&O(N,Z,"VALIDATE_SEARCH");const bt=()=>at?this.getMatch(at).context:this.options.context??{};c(V,vt=>({...vt,isFetching:"beforeLoad",fetchCount:vt.fetchCount+1,abortController:lt,pendingTimeout:B,context:{...bt(),...vt.__routeContext}}));const{search:L,params:$,context:st,cause:Q}=this.getMatch(V),ot=y(V),ft={search:L,abortController:lt,params:$,preload:ot,context:st,location:t,navigate:vt=>this.navigate({...vt,_fromLocation:t}),buildLocation:this.buildLocation,cause:ot?"preload":Q,matches:n},ct=await((k=(R=et.options).beforeLoad)==null?void 0:k.call(R,ft))??{};(so(ct)||xn(ct))&&O(N,ct,"BEFORE_LOAD"),c(V,vt=>({...vt,__beforeLoadContext:ct,context:{...bt(),...vt.__routeContext,...ct},abortController:lt}))}catch(lt){O(N,lt,"BEFORE_LOAD")}c(V,lt=>{var B;return(B=lt.beforeLoadPromise)==null||B.resolve(),{...lt,beforeLoadPromise:void 0,isFetching:!1}})}}const P=n.slice(0,f),I=[];P.forEach(({id:N,routeId:V},F)=>{I.push((async()=>{const{loaderPromise:j}=this.getMatch(N);let at=!1,et=!1;if(j){await j;const nt=this.getMatch(N);nt.error&&b(nt,nt.error)}else{const nt=I[F-1],rt=this.looseRoutesById[V],dt=()=>{const{params:Q,loaderDeps:ot,abortController:ft,context:ct,cause:vt}=this.getMatch(N),mt=y(N);return{params:Q,deps:ot,preload:!!mt,parentMatchPromise:nt,abortController:ft,context:ct,location:t,navigate:Nt=>this.navigate({...Nt,_fromLocation:t}),cause:mt?"preload":vt,route:rt}},lt=Date.now()-this.getMatch(N).updatedAt,B=y(N),Y=B?rt.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:rt.options.staleTime??this.options.defaultStaleTime??0,Z=rt.options.shouldReload,bt=typeof Z=="function"?Z(dt()):Z;c(N,Q=>({...Q,loaderPromise:oc(),preload:!!B&&!this.state.matches.find(ot=>ot.id===N)}));const L=async()=>{var Q,ot,ft,ct,vt,mt,Nt,Qe,li,Ci,Ri;try{const De=async()=>{const Rt=this.getMatch(N);Rt.minPendingPromise&&await Rt.minPendingPromise};try{this.loadRouteChunk(rt),c(N,Zn=>({...Zn,isFetching:"loader"}));const Rt=await((ot=(Q=rt.options).loader)==null?void 0:ot.call(Q,dt()));b(this.getMatch(N),Rt),await rt._lazyPromise,await De();const Oe={matches:n,match:this.getMatch(N),params:this.getMatch(N).params,loaderData:Rt},Gt=(ct=(ft=rt.options).head)==null?void 0:ct.call(ft,Oe),Ca=Gt==null?void 0:Gt.meta,Hr=Gt==null?void 0:Gt.links,Br=Gt==null?void 0:Gt.scripts,Vt=(mt=(vt=rt.options).scripts)==null?void 0:mt.call(vt,Oe),le=(Qe=(Nt=rt.options).headers)==null?void 0:Qe.call(Nt,{loaderData:Rt});await rt._componentsPromise,c(N,Zn=>({...Zn,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Rt,meta:Ca,links:Hr,headScripts:Br,headers:le,scripts:Vt}))}catch(Rt){let Oe=Rt;await De(),b(this.getMatch(N),Rt);try{(Ci=(li=rt.options).onError)==null||Ci.call(li,Rt)}catch(Gt){Oe=Gt,b(this.getMatch(N),Gt)}c(N,Gt=>({...Gt,error:Oe,status:"error",isFetching:!1}))}(Ri=this.serverSsr)==null||Ri.onMatchSettled({router:this,match:this.getMatch(N)})}catch(De){c(N,Rt=>({...Rt,loaderPromise:void 0})),b(this.getMatch(N),De)}},{status:$,invalid:st}=this.getMatch(N);at=$==="success"&&(st||(bt??lt>Y)),B&&rt.options.preload===!1||(at&&!h?(et=!0,(async()=>{try{await L();const{loaderPromise:Q,loadPromise:ot}=this.getMatch(N);Q==null||Q.resolve(),ot==null||ot.resolve(),c(N,ft=>({...ft,loaderPromise:void 0}))}catch(Q){X0(Q)&&await this.navigate(Q)}})()):($!=="success"||at&&h)&&await L())}if(!et){const{loaderPromise:nt,loadPromise:rt}=this.getMatch(N);nt==null||nt.resolve(),rt==null||rt.resolve()}return c(N,nt=>({...nt,isFetching:et?nt.isFetching:!1,loaderPromise:et?nt.loaderPromise:void 0,invalid:!1})),this.getMatch(N)})())}),await Promise.all(I),A()}catch(O){S(O)}})()}),await m()}catch(A){if(so(A)||xn(A))throw xn(A)&&!r&&await m(),A}return n},this.invalidate=t=>{const n=r=>{var o;return((o=t==null?void 0:t.filter)==null?void 0:o.call(t,r))??!0?{...r,invalid:!0,...r.status==="error"?{status:"pending",error:void 0}:{}}:r};return this.__store.setState(r=>{var o;return{...r,matches:r.matches.map(n),cachedMatches:r.cachedMatches.map(n),pendingMatches:(o=r.pendingMatches)==null?void 0:o.map(n)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const n=t;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=t=>{const n=t==null?void 0:t.filter;n!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(o=>!n(o))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=n=>{const r=this.looseRoutesById[n.routeId];if(!r.options.loader)return!0;const o=(n.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<o)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(n=>{const{id:r,...o}=n.options;Object.assign(t.options,o)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Ew.map(async n=>{const r=t.options[n];r!=null&&r.preload&&await r.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const n=this.buildLocation(t);let r=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:t});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(h=>h.id)),c=new Set([...o,...this.state.cachedMatches.map(h=>h.id)]);G0(()=>{r.forEach(h=>{c.has(h.id)||this.__store.setState(f=>({...f,cachedMatches:[...f.cachedMatches,h]}))})});try{return r=await this.loadMatches({matches:r,location:n,preload:!0,updateMatch:(h,f)=>{o.has(h)?r=r.map(p=>p.id===h?f(p):p):this.updateMatch(h,f)}}),r}catch(h){if(so(h))return h.reloadDocument?void 0:await this.preloadRoute({...h,_fromLocation:n});xn(h)||console.error(h);return}},this.matchRoute=(t,n)=>{const r={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},o=this.buildLocation(r);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const h=((n==null?void 0:n.pending)===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,f=Ip(this.basepath,h.pathname,{...n,to:o.pathname});return!f||t.params&&!Ec(f,t.params,{partial:!0})?!1:f&&((n==null?void 0:n.includeSearch)??!0)?Ec(h.search,o.search,{partial:!0})?f:!1:f},this._handleNotFound=(t,n,{updateMatch:r=this.updateMatch}={})=>{var o;const c=this.routesById[n.routeId??""]??this.routeTree,h={};for(const p of t)h[p.routeId]=p;!c.options.notFoundComponent&&((o=this.options)!=null&&o.defaultNotFoundComponent)&&(c.options.notFoundComponent=this.options.defaultNotFoundComponent),ya(c.options.notFoundComponent);const f=h[c.id];ya(f,"Could not find match for route: "+c.id),r(f.id,p=>({...p,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&c.parentRoute&&(n.routeId=c.parentRoute.id,this._handleNotFound(t,n,{updateMatch:r}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??bM,parseSearch:e.parseSearch??yM}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){const{foundRoute:n,matchedRoutes:r,routeParams:o}=this.getMatchedRoutes(e,t==null?void 0:t.dest);let c=!1;(n?n.path!=="/"&&o["**"]:po(e.pathname))&&(this.options.notFoundRoute?r.push(this.options.notFoundRoute):c=!0);const h=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let y=r.length-1;y>=0;y--){const b=r[y];if(b.children)return b.id}return Kn}})(),f=r.map(y=>{var b;let A;const S=((b=y.options.params)==null?void 0:b.parse)??y.options.parseParams;if(S)try{const x=S(o);Object.assign(o,x)}catch(x){if(A=new EM(x.message,{cause:x}),t!=null&&t.throwOnError)throw A;return A}}),p=[],m=y=>(y==null?void 0:y.id)?y.context??this.options.context??{}:this.options.context??{};return r.forEach((y,b)=>{var A,S;const x=p[b-1],[M,R,k]=(()=>{const rt=(x==null?void 0:x.search)??e.search,dt=(x==null?void 0:x._strictSearch)??{};try{const lt=Y0(y.options.validateSearch,{...rt})??{};return[{...rt,...lt},{...dt,...lt},void 0]}catch(lt){let B=lt;if(lt instanceof Ng||(B=new Ng(lt.message,{cause:lt})),t!=null&&t.throwOnError)throw B;return[rt,{},B]}})(),O=((S=(A=y.options).loaderDeps)==null?void 0:S.call(A,{search:M}))??"",P=O?JSON.stringify(O):"",{usedParams:I,interpolatedPath:N}=zp({path:y.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),V=zp({path:y.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+P,F=this.getMatch(V),j=this.state.matches.find(rt=>rt.routeId===y.id),at=j?"stay":"enter";let et;if(F)et={...F,cause:at,params:j?bn(j.params,o):o,_strictParams:I,search:bn(j?j.search:F.search,M),_strictSearch:R};else{const rt=y.options.loader||y.options.beforeLoad||y.lazyFn||wE(y)?"pending":"success";et={id:V,index:b,routeId:y.id,params:j?bn(j.params,o):o,_strictParams:I,pathname:ba([this.basepath,N]),updatedAt:Date.now(),search:j?bn(j.search,M):M,_strictSearch:R,searchError:void 0,status:rt,isFetching:!1,error:void 0,paramsError:f[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:at,loaderDeps:j?bn(j.loaderDeps,O):O,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},loadPromise:oc(),fullPath:y.fullPath}}t!=null&&t.preload||(et.globalNotFound=h===y.id),et.searchError=k;const nt=m(x);et.context={...nt,...et.__routeContext,...et.__beforeLoadContext},p.push(et)}),p.forEach((y,b)=>{var A,S,x,M,R,k,O,P;const I=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&(t==null?void 0:t._buildLocation)!==!0){const V=p[b-1],F=m(V),j={deps:y.loaderDeps,params:y.params,context:F,location:e,navigate:at=>this.navigate({...at,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:p};y.__routeContext=((S=(A=I.options).context)==null?void 0:S.call(A,j))??{},y.context={...F,...y.__routeContext,...y.__beforeLoadContext}}if(y.status==="success"){y.headers=(M=(x=I.options).headers)==null?void 0:M.call(x,{loaderData:y.loaderData});const V={matches:p,match:y,params:y.params,loaderData:y.loaderData},F=(k=(R=I.options).head)==null?void 0:k.call(R,V);y.links=F==null?void 0:F.links,y.headScripts=F==null?void 0:F.scripts,y.meta=F==null?void 0:F.meta,y.scripts=(P=(O=I.options).scripts)==null?void 0:P.call(O,V)}}),p}}class Ng extends Error{}class EM extends Error{}function wM(l){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:l,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Y0(l,e){if(l==null)return{};if("~standard"in l){const t=l["~standard"].validate(e);if(t instanceof Promise)throw new Ng("Async validation not supported");if(t.issues)throw new Ng(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in l?l.parse(e):typeof l=="function"?l(e):{}}const Ew=["component","errorComponent","pendingComponent","notFoundComponent"];function wE(l){var e;for(const t of Ew)if((e=l.options[t])!=null&&e.preload)return!0;return!1}const xM="Error preloading route! ☝️";class ww{constructor(e){if(this.init=t=>{var n,r;this.originalIndex=t.originalIndex;const o=this.options,c=!(o!=null&&o.path)&&!(o!=null&&o.id);if(this.parentRoute=(r=(n=this.options).getParentRoute)==null?void 0:r.call(n),c)this._path=Kn;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let h=c?Kn:o==null?void 0:o.path;h&&h!=="/"&&(h=Gb(h));const f=(o==null?void 0:o.id)||h;let p=c?Kn:ba([this.parentRoute.id===Kn?"":this.parentRoute.id,f]);h===Kn&&(h="/"),p!==Kn&&(p=ba(["/",p]));const m=p===Kn?"/":ba([this.parentRoute.fullPath,h]);this._path=h,this._id=p,this._fullPath=m,this._to=m,this._ssr=(o==null?void 0:o.ssr)??t.defaultSsr??!0},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class TM extends ww{constructor(e){super(e)}}function qb(l){const e=l.errorComponent??om;return q.jsx(CM,{getResetKey:l.getResetKey,onCatch:l.onCatch,children:({error:t,reset:n})=>t?z.createElement(e,{error:t,reset:n}):l.children})}class CM extends z.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function om({error:l}){const[e,t]=z.useState(!1);return q.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[q.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),q.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(n=>!n),children:e?"Hide Error":"Show Error"})]}),q.jsx("div",{style:{height:".25rem"}}),e?q.jsx("div",{children:q.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:l.message?q.jsx("code",{children:l.message}):null})}):null]})}function RM({children:l,fallback:e=null}){return MM()?q.jsx(we.Fragment,{children:l}):q.jsx(we.Fragment,{children:e})}function MM(){return we.useSyncExternalStore(LM,()=>!0,()=>!1)}function LM(){return()=>{}}var K0={exports:{}},$0={},W0={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function DM(){if(xE)return Q0;xE=1;var l=bf();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,n=l.useState,r=l.useEffect,o=l.useLayoutEffect,c=l.useDebugValue;function h(y,b){var A=b(),S=n({inst:{value:A,getSnapshot:b}}),x=S[0].inst,M=S[1];return o(function(){x.value=A,x.getSnapshot=b,f(x)&&M({inst:x})},[y,A,b]),r(function(){return f(x)&&M({inst:x}),y(function(){f(x)&&M({inst:x})})},[y]),c(A),A}function f(y){var b=y.getSnapshot;y=y.value;try{var A=b();return!t(y,A)}catch{return!0}}function p(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Q0.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:m,Q0}var TE;function OM(){return TE||(TE=1,W0.exports=DM()),W0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function NM(){if(CE)return $0;CE=1;var l=bf(),e=OM();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=l.useRef,c=l.useEffect,h=l.useMemo,f=l.useDebugValue;return $0.useSyncExternalStoreWithSelector=function(p,m,y,b,A){var S=o(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=h(function(){function R(N){if(!k){if(k=!0,O=N,N=b(N),A!==void 0&&x.hasValue){var V=x.value;if(A(V,N))return P=V}return P=N}if(V=P,n(O,N))return V;var F=b(N);return A!==void 0&&A(V,F)?(O=N,V):(O=N,P=F)}var k=!1,O,P,I=y===void 0?null:y;return[function(){return R(m())},I===null?void 0:function(){return R(I())}]},[m,y,b,A]);var M=r(p,S[0],S[1]);return c(function(){x.hasValue=!0,x.value=M},[M]),f(M),M},$0}var RE;function kM(){return RE||(RE=1,K0.exports=NM()),K0.exports}var PM=kM();function FM(l,e=t=>t){return PM.useSyncExternalStoreWithSelector(l.subscribe,()=>l.state,()=>l.state,e,HM)}function HM(l,e){if(Object.is(l,e))return!0;if(typeof l!="object"||l===null||typeof e!="object"||e===null)return!1;if(l instanceof Map&&e instanceof Map){if(l.size!==e.size)return!1;for(const[n,r]of l)if(!e.has(n)||!Object.is(r,e.get(n)))return!1;return!0}if(l instanceof Set&&e instanceof Set){if(l.size!==e.size)return!1;for(const n of l)if(!e.has(n))return!1;return!0}const t=Object.keys(l);if(t.length!==Object.keys(e).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!Object.is(l[t[n]],e[t[n]]))return!1;return!0}const Z0=z.createContext(null);function xw(){return typeof document>"u"?Z0:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Z0,Z0)}function ws(l){const e=z.useContext(xw());return l==null||l.warn,e}function ai(l){const e=ws({warn:(l==null?void 0:l.router)===void 0}),t=(l==null?void 0:l.router)||e,n=z.useRef(void 0);return FM(t.__store,r=>{if(l!=null&&l.select){if(l.structuralSharing??t.options.defaultStructuralSharing){const o=bn(n.current,l.select(r));return n.current=o,o}return l.select(r)}return r})}const lm=z.createContext(void 0),BM=z.createContext(void 0);function Dr(l){const e=z.useContext(l.from?BM:lm);return ai({select:n=>{const r=n.matches.find(o=>l.from?l.from===o.routeId:o.id===e);if(ya(!((l.shouldThrow??!0)&&!r),`Could not find ${l.from?`an active match from "${l.from}"`:"a nearest match!"}`),r!==void 0)return l.select?l.select(r):r},structuralSharing:l.structuralSharing})}function Tw(l){return Dr({from:l.from,strict:l.strict,structuralSharing:l.structuralSharing,select:e=>l.select?l.select(e.loaderData):e.loaderData})}function Cw(l){const{select:e,...t}=l;return Dr({...t,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Rw(l){return Dr({from:l.from,strict:l.strict,shouldThrow:l.shouldThrow,structuralSharing:l.structuralSharing,select:e=>l.select?l.select(e.params):e.params})}function Mw(l){return Dr({from:l.from,strict:l.strict,shouldThrow:l.shouldThrow,structuralSharing:l.structuralSharing,select:e=>l.select?l.select(e.search):e.search})}function Lw(l){const{navigate:e}=ws();return z.useCallback(t=>e({from:l==null?void 0:l.from,...t}),[l==null?void 0:l.from,e])}var Dw=vw();const yc=yf(Dw),Lh=typeof window<"u"?z.useLayoutEffect:z.useEffect;function J0(l){const e=z.useRef({value:l,prev:null}),t=e.current.value;return l!==t&&(e.current={value:l,prev:t}),e.current.prev}function zM(l,e,t={},n={}){const r=z.useRef(typeof IntersectionObserver=="function"),o=z.useRef(null);return z.useEffect(()=>{if(!(!l.current||!r.current||n.disabled))return o.current=new IntersectionObserver(([c])=>{e(c)},t),o.current.observe(l.current),()=>{var c;(c=o.current)==null||c.disconnect()}},[e,t,n.disabled,l]),o.current}function IM(l){const e=z.useRef(null);return z.useImperativeHandle(l,()=>e.current,[]),e}function jM(){const l=ws(),e=z.useRef({router:l,mounted:!1}),t=ai({select:({isLoading:y})=>y}),[n,r]=z.useState(!1),o=ai({select:y=>y.matches.some(b=>b.status==="pending"),structuralSharing:!0}),c=J0(t),h=t||n||o,f=J0(h),p=t||o,m=J0(p);return l.isServer||(l.startTransition=y=>{r(!0),z.startTransition(()=>{y(),r(!1)})}),z.useEffect(()=>{const y=l.history.subscribe(l.load),b=l.buildLocation({to:l.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return po(l.latestLocation.href)!==po(b.href)&&l.commitLocation({...b,replace:!0}),()=>{y()}},[l,l.history]),Lh(()=>{if(typeof window<"u"&&l.clientSsr||e.current.router===l&&e.current.mounted)return;e.current={router:l,mounted:!0},(async()=>{try{await l.load()}catch(b){console.error(b)}})()},[l]),Lh(()=>{c&&!t&&l.emit({type:"onLoad",...hl(l.state)})},[c,l,t]),Lh(()=>{m&&!p&&l.emit({type:"onBeforeRouteMount",...hl(l.state)})},[p,m,l]),Lh(()=>{f&&!h&&(l.emit({type:"onResolved",...hl(l.state)}),l.__store.setState(y=>({...y,status:"idle",resolvedLocation:y.location})),gM(l))},[h,f,l]),null}function UM(l){const e=ai({select:t=>`not-found-${t.location.pathname}-${t.status}`});return q.jsx(qb,{getResetKey:()=>e,onCatch:(t,n)=>{var r;if(xn(t))(r=l.onCatch)==null||r.call(l,t,n);else throw t},errorComponent:({error:t})=>{var n;if(xn(t))return(n=l.fallback)==null?void 0:n.call(l,t);throw t},children:l.children})}function VM(){return q.jsx("p",{children:"Not Found"})}function $p(l){return q.jsx(q.Fragment,{children:l.children})}function Ow(l,e,t){return e.options.notFoundComponent?q.jsx(e.options.notFoundComponent,{data:t}):l.options.defaultNotFoundComponent?q.jsx(l.options.defaultNotFoundComponent,{data:t}):q.jsx(VM,{})}var ty,ME;function GM(){if(ME)return ty;ME=1;const l={},e=l.hasOwnProperty,t=(F,j)=>{for(const at in F)e.call(F,at)&&j(at,F[at])},n=(F,j)=>(j&&t(j,(at,et)=>{F[at]=et}),F),r=(F,j)=>{const at=F.length;let et=-1;for(;++et<at;)j(F[et])},o=F=>"\\u"+("0000"+F).slice(-4),c=(F,j)=>{let at=F.toString(16);return j?at:at.toUpperCase()},h=l.toString,f=Array.isArray,p=F=>typeof Buffer=="function"&&Buffer.isBuffer(F),m=F=>h.call(F)=="[object Object]",y=F=>typeof F=="string"||h.call(F)=="[object String]",b=F=>typeof F=="number"||h.call(F)=="[object Number]",A=F=>typeof F=="bigint",S=F=>typeof F=="function",x=F=>h.call(F)=="[object Map]",M=F=>h.call(F)=="[object Set]",R={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},k=/[\\\b\f\n\r\t]/,O=/[0-9]/,P=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,I=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,N=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,V=(F,j)=>{const at=()=>{Y=B,++j.indentLevel,B=j.indent.repeat(j.indentLevel)},et={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},nt=j&&j.json;nt&&(et.quotes="double",et.wrap=!0),j=n(et,j),j.quotes!="single"&&j.quotes!="double"&&j.quotes!="backtick"&&(j.quotes="single");const rt=j.quotes=="double"?'"':j.quotes=="backtick"?"`":"'",dt=j.compact,lt=j.lowercaseHex;let B=j.indent.repeat(j.indentLevel),Y="";const Z=j.__inline1__,bt=j.__inline2__,L=dt?"":`
`;let $,st=!0;const Q=j.numbers=="binary",ot=j.numbers=="octal",ft=j.numbers=="decimal",ct=j.numbers=="hexadecimal";if(nt&&F&&S(F.toJSON)&&(F=F.toJSON()),!y(F)){if(x(F))return F.size==0?"new Map()":(dt||(j.__inline1__=!0,j.__inline2__=!1),"new Map("+V(Array.from(F),j)+")");if(M(F))return F.size==0?"new Set()":"new Set("+V(Array.from(F),j)+")";if(p(F))return F.length==0?"Buffer.from([])":"Buffer.from("+V(Array.from(F),j)+")";if(f(F))return $=[],j.wrap=!0,Z&&(j.__inline1__=!1,j.__inline2__=!0),bt||at(),r(F,mt=>{st=!1,bt&&(j.__inline2__=!1),$.push((dt||bt?"":B)+V(mt,j))}),st?"[]":bt?"["+$.join(", ")+"]":"["+L+$.join(","+L)+L+(dt?"":Y)+"]";if(b(F)||A(F)){if(nt)return JSON.stringify(Number(F));let mt;if(ft)mt=String(F);else if(ct){let Nt=F.toString(16);lt||(Nt=Nt.toUpperCase()),mt="0x"+Nt}else Q?mt="0b"+F.toString(2):ot&&(mt="0o"+F.toString(8));return A(F)?mt+"n":mt}else return A(F)?nt?JSON.stringify(Number(F)):F+"n":m(F)?($=[],j.wrap=!0,at(),t(F,(mt,Nt)=>{st=!1,$.push((dt?"":B)+V(mt,j)+":"+(dt?"":" ")+V(Nt,j))}),st?"{}":"{"+L+$.join(","+L)+L+(dt?"":Y)+"}"):nt?JSON.stringify(F)||"null":String(F)}const vt=j.escapeEverything?I:N;return $=F.replace(vt,(mt,Nt,Qe,li,Ci,Ri)=>{if(Nt){if(j.minimal)return Nt;const Rt=Nt.charCodeAt(0),Oe=Nt.charCodeAt(1);if(j.es6){const Gt=(Rt-55296)*1024+Oe-56320+65536;return"\\u{"+c(Gt,lt)+"}"}return o(c(Rt,lt))+o(c(Oe,lt))}if(Qe)return o(c(Qe.charCodeAt(0),lt));if(mt=="\0"&&!nt&&!O.test(Ri.charAt(Ci+1)))return"\\0";if(li)return li==rt||j.escapeEverything?"\\"+li:li;if(k.test(mt))return R[mt];if(j.minimal&&!P.test(mt))return mt;const De=c(mt.charCodeAt(0),lt);return nt||De.length>2?o(De):"\\x"+("00"+De).slice(-2)}),rt=="`"&&($=$.replace(/\$\{/g,"\\${")),j.isScriptContext&&($=$.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,nt?"\\u003C!--":"\\x3C!--")),j.wrap&&($=rt+$+rt),$};return V.version="3.0.2",ty=V,ty}GM();function qM({children:l,log:e}){return typeof document<"u"?null:q.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[l,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function XM(){const l=ws(),t=(l.options.getScrollRestorationKey||Ay)(l.latestLocation),n=t!==Ay(l.latestLocation)?t:null;return!l.isScrollRestoring||!l.isServer?null:q.jsx(qM,{children:`(${Sw.toString()})(${JSON.stringify(Dg)},${JSON.stringify(n)}, undefined, true)`,log:!1})}const Nw=z.memo(function({matchId:e}){var t,n;const r=ws(),o=ai({select:R=>{var k;return(k=R.matches.find(O=>O.id===e))==null?void 0:k.routeId}});ya(o);const c=r.routesById[o],h=c.options.pendingComponent??r.options.defaultPendingComponent,f=h?q.jsx(h,{}):null,p=c.options.errorComponent??r.options.defaultErrorComponent,m=c.options.onCatch??r.options.defaultOnCatch,y=c.isRoot?c.options.notFoundComponent??((t=r.options.notFoundRoute)==null?void 0:t.options.component):c.options.notFoundComponent,b=(!c.isRoot||c.options.wrapInSuspense)&&(c.options.wrapInSuspense??h??((n=c.options.errorComponent)==null?void 0:n.preload))?z.Suspense:$p,A=p?qb:$p,S=y?UM:$p,x=ai({select:R=>R.loadedAt}),M=ai({select:R=>{var k;const O=R.matches.findIndex(P=>P.id===e);return(k=R.matches[O-1])==null?void 0:k.routeId}});return q.jsxs(q.Fragment,{children:[q.jsx(lm.Provider,{value:e,children:q.jsx(b,{fallback:f,children:q.jsx(A,{getResetKey:()=>x,errorComponent:p||om,onCatch:(R,k)=>{if(xn(R))throw R;m==null||m(R,k)},children:q.jsx(S,{fallback:R=>{if(!y||R.routeId&&R.routeId!==o||!R.routeId&&!c.isRoot)throw R;return z.createElement(y,R)},children:q.jsx(KM,{matchId:e})})})})}),M===Kn&&r.options.scrollRestoration?q.jsxs(q.Fragment,{children:[q.jsx(YM,{}),q.jsx(XM,{})]}):null]})});function YM(){const l=ws(),e=z.useRef(void 0);return q.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==l.latestLocation.href)&&(l.emit({type:"onRendered",...hl(l.state)}),e.current=l.latestLocation)}},l.latestLocation.state.key)}const KM=z.memo(function({matchId:e}){var t,n,r;const o=ws(),{match:c,key:h,routeId:f}=ai({select:b=>{const A=b.matches.findIndex(O=>O.id===e),S=b.matches[A],x=S.routeId,M=o.routesById[x].options.remountDeps??o.options.defaultRemountDeps,R=M==null?void 0:M({routeId:x,loaderDeps:S.loaderDeps,params:S._strictParams,search:S._strictSearch});return{key:R?JSON.stringify(R):void 0,routeId:x,match:by(S,["id","status","error"])}},structuralSharing:!0}),p=o.routesById[f],m=z.useMemo(()=>{const b=p.options.component??o.options.defaultComponent;return b?q.jsx(b,{},h):q.jsx(Xb,{})},[h,p.options.component,o.options.defaultComponent]),y=(p.options.errorComponent??o.options.defaultErrorComponent)||om;if(c.status==="notFound")return ya(xn(c.error)),Ow(o,p,c.error);if(c.status==="redirected")throw ya(so(c.error)),(t=o.getMatch(c.id))==null?void 0:t.loadPromise;if(c.status==="error"){if(o.isServer)return q.jsx(y,{error:c.error,reset:void 0,info:{componentStack:""}});throw c.error}if(c.status==="pending"){const b=p.options.pendingMinMs??o.options.defaultPendingMinMs;if(b&&!((n=o.getMatch(c.id))!=null&&n.minPendingPromise)&&!o.isServer){const A=oc();Promise.resolve().then(()=>{o.updateMatch(c.id,S=>({...S,minPendingPromise:A}))}),setTimeout(()=>{A.resolve(),o.updateMatch(c.id,S=>({...S,minPendingPromise:void 0}))},b)}throw(r=o.getMatch(c.id))==null?void 0:r.loadPromise}return m}),Xb=z.memo(function(){const e=ws(),t=z.useContext(lm),n=ai({select:p=>{var m;return(m=p.matches.find(y=>y.id===t))==null?void 0:m.routeId}}),r=e.routesById[n],o=ai({select:p=>{const y=p.matches.find(b=>b.id===t);return ya(y),y.globalNotFound}}),c=ai({select:p=>{var m;const y=p.matches,b=y.findIndex(A=>A.id===t);return(m=y[b+1])==null?void 0:m.id}});if(o)return Ow(e,r,void 0);if(!c)return null;const h=q.jsx(Nw,{matchId:c}),f=e.options.defaultPendingComponent?q.jsx(e.options.defaultPendingComponent,{}):null;return t===Kn?q.jsx(z.Suspense,{fallback:f,children:h}):h});function $M(){const l=ws(),e=l.options.defaultPendingComponent?q.jsx(l.options.defaultPendingComponent,{}):null,t=l.isServer||typeof document<"u"&&l.clientSsr?$p:z.Suspense,n=q.jsxs(t,{fallback:e,children:[q.jsx(jM,{}),q.jsx(WM,{})]});return l.options.InnerWrap?q.jsx(l.options.InnerWrap,{children:n}):n}function WM(){const l=ai({select:t=>{var n;return(n=t.matches[0])==null?void 0:n.id}}),e=ai({select:t=>t.loadedAt});return q.jsx(lm.Provider,{value:l,children:q.jsx(qb,{getResetKey:()=>e,errorComponent:om,onCatch:t=>{t.message||t.toString()},children:l?q.jsx(Nw,{matchId:l}):null})})}function QM(l){return ai({select:e=>{const t=e.matches;return l!=null&&l.select?l.select(t):t},structuralSharing:l==null?void 0:l.structuralSharing})}function ZM(l,e){const t=ws(),[n,r]=z.useState(!1),o=z.useRef(!1),c=IM(e),{activeProps:h=()=>({className:"active"}),inactiveProps:f=()=>({}),activeOptions:p,to:m,preload:y,preloadDelay:b,hashScrollIntoView:A,replace:S,startTransition:x,resetScroll:M,viewTransition:R,children:k,target:O,disabled:P,style:I,className:N,onClick:V,onFocus:F,onMouseEnter:j,onMouseLeave:at,onTouchStart:et,ignoreBlocker:nt,...rt}=l,{params:dt,search:lt,hash:B,state:Y,mask:Z,reloadDocument:bt,...L}=rt,$=z.useMemo(()=>{try{return new URL(`${m}`),"external"}catch{}return"internal"},[m]),st=ai({select:Vt=>Vt.location.search,structuralSharing:!0}),Q=QM({select:Vt=>{var le;return l.from??((le=Vt[Vt.length-1])==null?void 0:le.fullPath)}}),ot=z.useMemo(()=>({...l,from:Q}),[l,Q]),ft=z.useMemo(()=>t.buildLocation(ot),[t,ot,st]),ct=z.useMemo(()=>ot.reloadDocument?!1:y??t.options.defaultPreload,[t.options.defaultPreload,y,ot.reloadDocument]),vt=b??t.options.defaultPreloadDelay??0,mt=ai({select:Vt=>{if(p!=null&&p.exact){if(!lM(Vt.location.pathname,ft.pathname,t.basepath))return!1}else{const le=Mg(Vt.location.pathname,t.basepath).split("/");if(!Mg(ft.pathname,t.basepath).split("/").every((wm,zr)=>wm===le[zr]))return!1}return((p==null?void 0:p.includeSearch)??!0)&&!Ec(Vt.location.search,ft.search,{partial:!(p!=null&&p.exact),ignoreUndefined:!(p!=null&&p.explicitUndefined)})?!1:p!=null&&p.includeHash?Vt.location.hash===ft.hash:!0}}),Nt=z.useCallback(()=>{t.preloadRoute(ot).catch(Vt=>{console.warn(Vt),console.warn(xM)})},[ot,t]),Qe=z.useCallback(Vt=>{Vt!=null&&Vt.isIntersecting&&Nt()},[Nt]);if(zM(c,Qe,{rootMargin:"100px"},{disabled:!!P||ct!=="viewport"}),Lh(()=>{o.current||!P&&ct==="render"&&(Nt(),o.current=!0)},[P,Nt,ct]),$==="external")return{...L,ref:c,type:$,href:m,...k&&{children:k},...O&&{target:O},...P&&{disabled:P},...I&&{style:I},...N&&{className:N},...V&&{onClick:V},...F&&{onFocus:F},...j&&{onMouseEnter:j},...at&&{onMouseLeave:at},...et&&{onTouchStart:et}};const li=Vt=>{if(!P&&!JM(Vt)&&!Vt.defaultPrevented&&(!O||O==="_self")&&Vt.button===0){Vt.preventDefault(),Dw.flushSync(()=>{r(!0)});const le=t.subscribe("onResolved",()=>{le(),r(!1)});return t.navigate({...ot,replace:S,resetScroll:M,hashScrollIntoView:A,startTransition:x,viewTransition:R,ignoreBlocker:nt})}},Ci=Vt=>{P||ct&&Nt()},Ri=Ci,De=Vt=>{if(P)return;const le=Vt.target||{};if(ct){if(le.preloadTimeout)return;le.preloadTimeout=setTimeout(()=>{le.preloadTimeout=null,Nt()},vt)}},Rt=Vt=>{if(P)return;const le=Vt.target||{};le.preloadTimeout&&(clearTimeout(le.preloadTimeout),le.preloadTimeout=null)},Oe=Vt=>le=>{var Zn;(Zn=le.persist)==null||Zn.call(le),Vt.filter(Boolean).forEach(wf=>{le.defaultPrevented||wf(le)})},Gt=mt?fo(h,{})??{}:{},Ca=mt?{}:fo(f,{}),Hr=[N,Gt.className,Ca.className].filter(Boolean).join(" "),Br={...I,...Gt.style,...Ca.style};return{...L,...Gt,...Ca,href:P?void 0:ft.maskedLocation?t.history.createHref(ft.maskedLocation.href):t.history.createHref(ft.href),ref:c,onClick:Oe([V,li]),onFocus:Oe([F,Ci]),onMouseEnter:Oe([j,De]),onMouseLeave:Oe([at,Rt]),onTouchStart:Oe([et,Ri]),disabled:!!P,target:O,...Object.keys(Br).length&&{style:Br},...Hr&&{className:Hr},...P&&{role:"link","aria-disabled":!0},...mt&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}const bc=z.forwardRef((l,e)=>{const{_asChild:t,...n}=l,{type:r,ref:o,...c}=ZM(n,e),h=typeof n.children=="function"?n.children({isActive:c["data-status"]==="active"}):n.children;return typeof t>"u"&&delete c.disabled,z.createElement(t||"a",{...c,ref:o},h)});function JM(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}let tL=class extends ww{constructor(e){super(e),this.useMatch=t=>Dr({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Dr({...t,from:this.id,select:n=>t!=null&&t.select?t.select(n.context):n.context}),this.useSearch=t=>Mw({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Rw({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Cw({...t,from:this.id}),this.useLoaderData=t=>Tw({...t,from:this.id}),this.useNavigate=()=>Lw({from:this.fullPath}),this.Link=we.forwardRef((t,n)=>q.jsx(bc,{ref:n,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function eL(l){return new tL(l)}class iL extends TM{constructor(e){super(e),this.useMatch=t=>Dr({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Dr({...t,from:this.id,select:n=>t!=null&&t.select?t.select(n.context):n.context}),this.useSearch=t=>Mw({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>Rw({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>Cw({...t,from:this.id}),this.useLoaderData=t=>Tw({...t,from:this.id}),this.useNavigate=()=>Lw({from:this.fullPath}),this.Link=we.forwardRef((t,n)=>q.jsx(bc,{ref:n,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function nL(l){return new iL(l)}function cm(l){return new sL(l,{silent:!0}).createRoute}class sL{constructor(e,t){this.path=e,this.createRoute=n=>{this.silent;const r=eL(n);return r.isRoot=!1,r},this.silent=t==null?void 0:t.silent}}function aL(l){return typeof(l==null?void 0:l.message)!="string"?!1:l.message.startsWith("Failed to fetch dynamically imported module")||l.message.startsWith("error loading dynamically imported module")||l.message.startsWith("Importing a module script failed")}function um(l,e,t){let n,r,o,c;const h=()=>typeof document>"u"&&(t==null?void 0:t())===!1?(r=()=>null,Promise.resolve()):(n||(n=l().then(p=>{n=void 0,r=p[e]}).catch(p=>{if(o=p,aL(o)&&o instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const m=`tanstack_router_reload:${o.message}`;sessionStorage.getItem(m)||(sessionStorage.setItem(m,"1"),c=!0)}})),n),f=function(m){if(c)throw window.location.reload(),new Promise(()=>{});if(o)throw o;if(!r)throw h();return(t==null?void 0:t())===!1?q.jsx(RM,{fallback:q.jsx(Xb,{}),children:z.createElement(r,m)}):z.createElement(r,m)};return f.preload=h,f}const rL=l=>new oL(l);class oL extends SM{constructor(e){super(e)}}function lL({router:l,children:e,...t}){l.update({...l.options,...t,context:{...l.options.context,...t.context}});const n=xw(),r=q.jsx(n.Provider,{value:l,children:e});return l.options.Wrap?q.jsx(l.options.Wrap,{children:r}):r}function cL({router:l,...e}){return q.jsx(lL,{router:l,...e,children:q.jsx($M,{})})}function uL(l){return ai({select:e=>e.location})}const hL="modulepreload",dL=function(l){return"/"+l},LE={},Mr=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(t.map(p=>{if(p=dL(p),p in LE)return;LE[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":hL,m||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((A,S)=>{b.addEventListener("load",A),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},fL=function(){return null};function pL(){const[l,e]=z.useState(!0);return z.useEffect(()=>{const t=setTimeout(()=>{e(!1)},1200);return()=>clearTimeout(t)},[]),l}function gL({load:l}){return q.jsx("div",{id:l?"preloader":"preloader-none"})}var ey={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var DE;function mL(){return DE||(DE=1,function(l){(function(){var e={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(o=r(o,n(h)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var h in o)e.call(o,h)&&o[h]&&(c=r(c,h));return c}function r(o,c){return c?o?o+" "+c:o+c:o}l.exports?(t.default=t,l.exports=t):window.classNames=t})()}(ey)),ey.exports}var vL=mL();const Ae=yf(vL),kg=z.createContext(null),Yb=(l,e=null)=>l!=null?String(l):e||null;function _y(){return _y=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(l[n]=t[n])}return l},_y.apply(null,arguments)}function kw(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)!==-1)continue;t[n]=l[n]}return t}function OE(l){return"default"+l.charAt(0).toUpperCase()+l.substr(1)}function yL(l){var e=bL(l,"string");return typeof e=="symbol"?e:String(e)}function bL(l,e){if(typeof l!="object"||l===null)return l;var t=l[Symbol.toPrimitive];if(t!==void 0){var n=t.call(l,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function AL(l,e,t){var n=z.useRef(l!==void 0),r=z.useState(e),o=r[0],c=r[1],h=l!==void 0,f=n.current;return n.current=h,!h&&f&&o!==e&&c(e),[h?l:o,z.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),b=1;b<m;b++)y[b-1]=arguments[b];t&&t.apply(void 0,[p].concat(y)),c(p)},[t])]}function Pw(l,e){return Object.keys(e).reduce(function(t,n){var r,o=t,c=o[OE(n)],h=o[n],f=kw(o,[OE(n),n].map(yL)),p=e[n],m=AL(h,c,l[p]),y=m[0],b=m[1];return _y({},f,(r={},r[n]=y,r[p]=b,r))},l)}function Sy(l,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Sy(l,e)}function _L(l,e){l.prototype=Object.create(e.prototype),l.prototype.constructor=l,Sy(l,e)}const SL=["xxl","xl","lg","md","sm","xs"],EL="xs",hm=z.createContext({prefixes:{},breakpoints:SL,minBreakpoint:EL}),{Consumer:xk,Provider:Tk}=hm;function oi(l,e){const{prefixes:t}=z.useContext(hm);return l||t[e]||e}function Fw(){const{breakpoints:l}=z.useContext(hm);return l}function Hw(){const{minBreakpoint:l}=z.useContext(hm);return l}const Bw=z.forwardRef(({bsPrefix:l,className:e,as:t,...n},r)=>{l=oi(l,"navbar-brand");const o=t||(n.href?"a":"span");return q.jsx(o,{...n,ref:r,className:Ae(e,l)})});Bw.displayName="NavbarBrand";function Kb(l){return l&&l.ownerDocument||document}function wL(l){var e=Kb(l);return e&&e.defaultView||window}function xL(l,e){return wL(l).getComputedStyle(l,e)}var TL=/([A-Z])/g;function CL(l){return l.replace(TL,"-$1").toLowerCase()}var RL=/^ms-/;function jp(l){return CL(l).replace(RL,"-ms-")}var ML=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function LL(l){return!!(l&&ML.test(l))}function Aa(l,e){var t="",n="";if(typeof e=="string")return l.style.getPropertyValue(jp(e))||xL(l).getPropertyValue(jp(e));Object.keys(e).forEach(function(r){var o=e[r];!o&&o!==0?l.style.removeProperty(jp(r)):LL(r)?n+=r+"("+o+") ":t+=jp(r)+": "+o+";"}),n&&(t+="transform: "+n+";"),l.style.cssText+=";"+t}var iy={exports:{}},ny,NE;function DL(){if(NE)return ny;NE=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ny=l,ny}var sy,kE;function OL(){if(kE)return sy;kE=1;var l=DL();function e(){}function t(){}return t.resetWarningCache=e,sy=function(){function n(c,h,f,p,m,y){if(y!==l){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function r(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},sy}var PE;function NL(){return PE||(PE=1,iy.exports=OL()()),iy.exports}var kL=NL();const ay=yf(kL),FE={disabled:!1},zw=we.createContext(null);var PL=function(e){return e.scrollTop},Dh="unmounted",tr="exited",$n="entering",ga="entered",Jh="exiting",Ta=function(l){_L(e,l);function e(n,r){var o;o=l.call(this,n,r)||this;var c=r,h=c&&!c.isMounting?n.enter:n.appear,f;return o.appearStatus=null,n.in?h?(f=tr,o.appearStatus=$n):f=ga:n.unmountOnExit||n.mountOnEnter?f=Dh:f=tr,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var c=r.in;return c&&o.status===Dh?{status:tr}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var o=null;if(r!==this.props){var c=this.state.status;this.props.in?c!==$n&&c!==ga&&(o=$n):(c===$n||c===ga)&&(o=Jh)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,o,c,h;return o=c=h=r,r!=null&&typeof r!="number"&&(o=r.exit,c=r.enter,h=r.appear!==void 0?r.appear:c),{exit:o,enter:c,appear:h}},t.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===$n){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:yc.findDOMNode(this);c&&PL(c)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tr&&this.setState({status:Dh})},t.performEnter=function(r){var o=this,c=this.props.enter,h=this.context?this.context.isMounting:r,f=this.props.nodeRef?[h]:[yc.findDOMNode(this),h],p=f[0],m=f[1],y=this.getTimeouts(),b=h?y.appear:y.enter;if(!r&&!c||FE.disabled){this.safeSetState({status:ga},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:$n},function(){o.props.onEntering(p,m),o.onTransitionEnd(b,function(){o.safeSetState({status:ga},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var r=this,o=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:yc.findDOMNode(this);if(!o||FE.disabled){this.safeSetState({status:tr},function(){r.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Jh},function(){r.props.onExiting(h),r.onTransitionEnd(c.exit,function(){r.safeSetState({status:tr},function(){r.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},t.setNextCallback=function(r){var o=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,o.nextCallback=null,r(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(r,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:yc.findDOMNode(this),h=r==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=f[0],m=f[1];this.props.addEndListener(p,m)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Dh)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var h=kw(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(zw.Provider,{value:null},typeof c=="function"?c(r,h):we.cloneElement(we.Children.only(c),h))},e}(we.Component);Ta.contextType=zw;Ta.propTypes={};function ac(){}Ta.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ac,onEntering:ac,onEntered:ac,onExit:ac,onExiting:ac,onExited:ac};Ta.UNMOUNTED=Dh;Ta.EXITED=tr;Ta.ENTERING=$n;Ta.ENTERED=ga;Ta.EXITING=Jh;function FL(l){return l.code==="Escape"||l.keyCode===27}function HL(){const l=z.version.split(".");return{major:+l[0],minor:+l[1],patch:+l[2]}}function xu(l){if(!l||typeof l=="function")return null;const{major:e}=HL();return e>=19?l.props.ref:l.ref}const dm=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ey=!1,wy=!1;try{var ry={get passive(){return Ey=!0},get once(){return wy=Ey=!0}};dm&&(window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,!0))}catch{}function BL(l,e,t,n){if(n&&typeof n!="boolean"&&!wy){var r=n.once,o=n.capture,c=t;!wy&&r&&(c=t.__once||function h(f){this.removeEventListener(e,h,o),t.call(this,f)},t.__once=c),l.addEventListener(e,c,Ey?n:o)}l.addEventListener(e,t,n)}function zL(l,e,t,n){var r=n&&typeof n!="boolean"?n.capture:n;l.removeEventListener(e,t,r),t.__once&&l.removeEventListener(e,t.__once,r)}function Pg(l,e,t,n){return BL(l,e,t,n),function(){zL(l,e,t,n)}}function IL(l,e,t,n){if(n===void 0&&(n=!0),l){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,n),l.dispatchEvent(r)}}function jL(l){var e=Aa(l,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function UL(l,e,t){t===void 0&&(t=5);var n=!1,r=setTimeout(function(){n||IL(l,"transitionend",!0)},e+t),o=Pg(l,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(r),o()}}function VL(l,e,t,n){t==null&&(t=jL(l)||0);var r=UL(l,t,n),o=Pg(l,"transitionend",e);return function(){r(),o()}}function HE(l,e){const t=Aa(l,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function $b(l,e){const t=HE(l,"transitionDuration"),n=HE(l,"transitionDelay"),r=VL(l,o=>{o.target===l&&(r(),e(o))},t+n)}function xh(...l){return l.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)}function Iw(l){l.offsetHeight}const BE=l=>!l||typeof l=="function"?l:e=>{l.current=e};function GL(l,e){const t=BE(l),n=BE(e);return r=>{t&&t(r),n&&n(r)}}function qL(l,e){return z.useMemo(()=>GL(l,e),[l,e])}function XL(l){return l&&"setState"in l?yc.findDOMNode(l):l??null}const Wb=we.forwardRef(({onEnter:l,onEntering:e,onEntered:t,onExit:n,onExiting:r,onExited:o,addEndListener:c,children:h,childRef:f,...p},m)=>{const y=z.useRef(null),b=qL(y,f),A=N=>{b(XL(N))},S=N=>V=>{N&&y.current&&N(y.current,V)},x=z.useCallback(S(l),[l]),M=z.useCallback(S(e),[e]),R=z.useCallback(S(t),[t]),k=z.useCallback(S(n),[n]),O=z.useCallback(S(r),[r]),P=z.useCallback(S(o),[o]),I=z.useCallback(S(c),[c]);return q.jsx(Ta,{ref:m,...p,onEnter:x,onEntered:R,onEntering:M,onExit:k,onExited:P,onExiting:O,addEndListener:I,nodeRef:y,children:typeof h=="function"?(N,V)=>h(N,{...V,ref:A}):we.cloneElement(h,{ref:A})})}),YL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function KL(l,e){const t=`offset${l[0].toUpperCase()}${l.slice(1)}`,n=e[t],r=YL[l];return n+parseInt(Aa(e,r[0]),10)+parseInt(Aa(e,r[1]),10)}const $L={[tr]:"collapse",[Jh]:"collapsing",[$n]:"collapsing",[ga]:"collapse show"},WL=we.forwardRef(({onEnter:l,onEntering:e,onEntered:t,onExit:n,onExiting:r,className:o,children:c,dimension:h="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:b=!1,getDimensionValue:A=KL,...S},x)=>{const M=typeof h=="function"?h():h,R=z.useMemo(()=>xh(N=>{N.style[M]="0"},l),[M,l]),k=z.useMemo(()=>xh(N=>{const V=`scroll${M[0].toUpperCase()}${M.slice(1)}`;N.style[M]=`${N[V]}px`},e),[M,e]),O=z.useMemo(()=>xh(N=>{N.style[M]=null},t),[M,t]),P=z.useMemo(()=>xh(N=>{N.style[M]=`${A(M,N)}px`,Iw(N)},n),[n,A,M]),I=z.useMemo(()=>xh(N=>{N.style[M]=null},r),[M,r]);return q.jsx(Wb,{ref:x,addEndListener:$b,...S,"aria-expanded":S.role?f:null,onEnter:R,onEntering:k,onEntered:O,onExit:P,onExiting:I,childRef:xu(c),in:f,timeout:p,mountOnEnter:m,unmountOnExit:y,appear:b,children:(N,V)=>we.cloneElement(c,{...V,className:Ae(o,c.props.className,$L[N],M==="width"&&"collapse-horizontal")})})}),Tu=z.createContext(null);Tu.displayName="NavbarContext";const jw=z.forwardRef(({children:l,bsPrefix:e,...t},n)=>{e=oi(e,"navbar-collapse");const r=z.useContext(Tu);return q.jsx(WL,{in:!!(r&&r.expanded),...t,children:q.jsx("div",{ref:n,className:e,children:l})})});jw.displayName="NavbarCollapse";function QL(l){const e=z.useRef(l);return z.useEffect(()=>{e.current=l},[l]),e}function fm(l){const e=QL(l);return z.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Uw=z.forwardRef(({bsPrefix:l,className:e,children:t,label:n="Toggle navigation",as:r="button",onClick:o,...c},h)=>{l=oi(l,"navbar-toggler");const{onToggle:f,expanded:p}=z.useContext(Tu)||{},m=fm(y=>{o&&o(y),f&&f()});return r==="button"&&(c.type="button"),q.jsx(r,{...c,ref:h,onClick:m,"aria-label":n,className:Ae(e,l,!p&&"collapsed"),children:t||q.jsx("span",{className:`${l}-icon`})})});Uw.displayName="NavbarToggle";const ZL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",JL=typeof document<"u",tD=JL||ZL?z.useLayoutEffect:z.useEffect,xy=new WeakMap,zE=(l,e)=>{if(!l||!e)return;const t=xy.get(e)||new Map;xy.set(e,t);let n=t.get(l);return n||(n=e.matchMedia(l),n.refCount=0,t.set(n.media,n)),n};function eD(l,e=typeof window>"u"?void 0:window){const t=zE(l,e),[n,r]=z.useState(()=>t?t.matches:!1);return tD(()=>{let o=zE(l,e);if(!o)return r(!1);let c=xy.get(e);const h=()=>{r(o.matches)};return o.refCount++,o.addListener(h),h(),()=>{o.removeListener(h),o.refCount--,o.refCount<=0&&(c==null||c.delete(o.media)),o=void 0}},[l]),n}function iD(l){const e=Object.keys(l);function t(h,f){return h===f?f:h?`${h} and ${f}`:f}function n(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function r(h){const f=n(h);let p=l[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function o(h){let f=l[h];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function c(h,f,p){let m;typeof h=="object"?(m=h,p=f,f=!0):(f=f||!0,m={[h]:f});let y=z.useMemo(()=>Object.entries(m).reduce((b,[A,S])=>((S==="up"||S===!0)&&(b=t(b,o(A))),(S==="down"||S===!0)&&(b=t(b,r(A))),b),""),[JSON.stringify(m)]);return eD(y,p)}return c}const nD=iD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function oy(l){l===void 0&&(l=Kb());try{var e=l.activeElement;return!e||!e.nodeName?null:e}catch{return l.body}}function IE(l,e){if(l.contains)return l.contains(e);if(l.compareDocumentPosition)return l===e||!!(l.compareDocumentPosition(e)&16)}function sD(){const l=z.useRef(!0),e=z.useRef(()=>l.current);return z.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),e.current}function aD(l){const e=z.useRef(l);return e.current=l,e}function rD(l){const e=aD(l);z.useEffect(()=>()=>e.current(),[])}function oD(l){const e=z.useRef(null);return z.useEffect(()=>{e.current=l}),e.current}function lD(l){const e=z.useRef(l);return z.useEffect(()=>{e.current=l},[l]),e}function ma(l){const e=lD(l);return z.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const cD="data-rr-ui-",uD="rrUi";function pm(l){return`${cD}${l}`}function hD(l){return`${uD}${l}`}function dD(l=document){const e=l.defaultView;return Math.abs(e.innerWidth-l.documentElement.clientWidth)}const jE=pm("modal-open");class Qb{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return dD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Aa(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(jE,""),Aa(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(jE),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Vw=z.createContext(dm?window:void 0);Vw.Provider;function Zb(){return z.useContext(Vw)}const ly=(l,e)=>dm?l==null?(e||Kb()).body:(typeof l=="function"&&(l=l()),l&&"current"in l&&(l=l.current),l&&("nodeType"in l||l.getBoundingClientRect)?l:null):null;function fD(l,e){const t=Zb(),[n,r]=z.useState(()=>ly(l,t==null?void 0:t.document));if(!n){const o=ly(l);o&&r(o)}return z.useEffect(()=>{},[e,n]),z.useEffect(()=>{const o=ly(l);o!==n&&r(o)},[l,n]),n}const UE=l=>!l||typeof l=="function"?l:e=>{l.current=e};function pD(l,e){const t=UE(l),n=UE(e);return r=>{t&&t(r),n&&n(r)}}function gm(l,e){return z.useMemo(()=>pD(l,e),[l,e])}const gD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mD=typeof document<"u",VE=mD||gD?z.useLayoutEffect:z.useEffect;function vD({children:l,in:e,onExited:t,mountOnEnter:n,unmountOnExit:r}){const o=z.useRef(null),c=z.useRef(e),h=ma(t);z.useEffect(()=>{e?c.current=!0:h(o.current)},[e,h]);const f=gm(o,xu(l)),p=z.cloneElement(l,{ref:f});return e?p:r||!c.current&&n?null:p}const yD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function bD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}function AD(l){let{onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:o,onExited:c,addEndListener:h,children:f}=l,p=bD(l,yD);const m=z.useRef(null),y=gm(m,xu(f)),b=P=>I=>{P&&m.current&&P(m.current,I)},A=z.useCallback(b(e),[e]),S=z.useCallback(b(t),[t]),x=z.useCallback(b(n),[n]),M=z.useCallback(b(r),[r]),R=z.useCallback(b(o),[o]),k=z.useCallback(b(c),[c]),O=z.useCallback(b(h),[h]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:A},t&&{onEntering:S},n&&{onEntered:x},r&&{onExit:M},o&&{onExiting:R},c&&{onExited:k},h&&{addEndListener:O},{children:typeof f=="function"?(P,I)=>f(P,Object.assign({},I,{ref:y})):z.cloneElement(f,{ref:y})})}const _D=["component"];function SD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}const ED=z.forwardRef((l,e)=>{let{component:t}=l,n=SD(l,_D);const r=AD(n);return q.jsx(t,Object.assign({ref:e},r))});function wD({in:l,onTransition:e}){const t=z.useRef(null),n=z.useRef(!0),r=ma(e);return VE(()=>{if(!t.current)return;let o=!1;return r({in:l,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[l,r]),VE(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function xD({children:l,in:e,onExited:t,onEntered:n,transition:r}){const[o,c]=z.useState(!e);e&&o&&c(!1);const h=wD({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?n==null||n(p.element,p.initial):(c(!0),t==null||t(p.element)))};Promise.resolve(r(p)).then(m,y=>{throw p.in||c(!0),y})}}),f=gm(h,xu(l));return o&&!e?null:z.cloneElement(l,{ref:f})}function GE(l,e,t){return l?q.jsx(ED,Object.assign({},t,{component:l})):e?q.jsx(xD,Object.assign({},t,{transition:e})):q.jsx(vD,Object.assign({},t))}const TD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function CD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}let cy;function RD(l){return cy||(cy=new Qb({ownerDocument:l==null?void 0:l.document})),cy}function MD(l){const e=Zb(),t=l||RD(e),n=z.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:z.useCallback(r=>{n.current.dialog=r},[]),setBackdropRef:z.useCallback(r=>{n.current.backdrop=r},[])})}const Gw=z.forwardRef((l,e)=>{let{show:t=!1,role:n="dialog",className:r,style:o,children:c,backdrop:h=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:b,backdropTransition:A,runBackdropTransition:S,autoFocus:x=!0,enforceFocus:M=!0,restoreFocus:R=!0,restoreFocusOptions:k,renderDialog:O,renderBackdrop:P=Rt=>q.jsx("div",Object.assign({},Rt)),manager:I,container:N,onShow:V,onHide:F=()=>{},onExit:j,onExited:at,onExiting:et,onEnter:nt,onEntering:rt,onEntered:dt}=l,lt=CD(l,TD);const B=Zb(),Y=fD(N),Z=MD(I),bt=sD(),L=oD(t),[$,st]=z.useState(!t),Q=z.useRef(null);z.useImperativeHandle(e,()=>Z,[Z]),dm&&!L&&t&&(Q.current=oy(B==null?void 0:B.document)),t&&$&&st(!1);const ot=ma(()=>{if(Z.add(),Qe.current=Pg(document,"keydown",mt),Nt.current=Pg(document,"focus",()=>setTimeout(ct),!0),V&&V(),x){var Rt,Oe;const Gt=oy((Rt=(Oe=Z.dialog)==null?void 0:Oe.ownerDocument)!=null?Rt:B==null?void 0:B.document);Z.dialog&&Gt&&!IE(Z.dialog,Gt)&&(Q.current=Gt,Z.dialog.focus())}}),ft=ma(()=>{if(Z.remove(),Qe.current==null||Qe.current(),Nt.current==null||Nt.current(),R){var Rt;(Rt=Q.current)==null||Rt.focus==null||Rt.focus(k),Q.current=null}});z.useEffect(()=>{!t||!Y||ot()},[t,Y,ot]),z.useEffect(()=>{$&&ft()},[$,ft]),rD(()=>{ft()});const ct=ma(()=>{if(!M||!bt()||!Z.isTopModal())return;const Rt=oy(B==null?void 0:B.document);Z.dialog&&Rt&&!IE(Z.dialog,Rt)&&Z.dialog.focus()}),vt=ma(Rt=>{Rt.target===Rt.currentTarget&&(p==null||p(Rt),h===!0&&F())}),mt=ma(Rt=>{f&&FL(Rt)&&Z.isTopModal()&&(m==null||m(Rt),Rt.defaultPrevented||F())}),Nt=z.useRef(),Qe=z.useRef(),li=(...Rt)=>{st(!0),at==null||at(...Rt)};if(!Y)return null;const Ci=Object.assign({role:n,ref:Z.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},lt,{style:o,className:r,tabIndex:-1});let Ri=O?O(Ci):q.jsx("div",Object.assign({},Ci,{children:z.cloneElement(c,{role:"document"})}));Ri=GE(y,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:j,onExiting:et,onExited:li,onEnter:nt,onEntering:rt,onEntered:dt,children:Ri});let De=null;return h&&(De=P({ref:Z.setBackdropRef,onClick:vt}),De=GE(A,S,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:De})),q.jsx(q.Fragment,{children:yc.createPortal(q.jsxs(q.Fragment,{children:[De,Ri]}),Y)})});Gw.displayName="Modal";const LD=Object.assign(Gw,{Manager:Qb}),DD={[$n]:"show",[ga]:"show"},qw=z.forwardRef(({className:l,children:e,transitionClasses:t={},onEnter:n,...r},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},h=z.useCallback((f,p)=>{Iw(f),n==null||n(f,p)},[n]);return q.jsx(Wb,{ref:o,addEndListener:$b,...c,onEnter:h,childRef:xu(e),children:(f,p)=>z.cloneElement(e,{...p,className:Ae("fade",l,e.props.className,DD[f],t[f])})})});qw.displayName="Fade";const Xw=z.forwardRef(({className:l,bsPrefix:e,as:t="div",...n},r)=>(e=oi(e,"offcanvas-body"),q.jsx(t,{ref:r,className:Ae(l,e),...n})));Xw.displayName="OffcanvasBody";const OD={[$n]:"show",[ga]:"show"},Yw=z.forwardRef(({bsPrefix:l,className:e,children:t,in:n=!1,mountOnEnter:r=!1,unmountOnExit:o=!1,appear:c=!1,...h},f)=>(l=oi(l,"offcanvas"),q.jsx(Wb,{ref:f,addEndListener:$b,in:n,mountOnEnter:r,unmountOnExit:o,appear:c,...h,childRef:xu(t),children:(p,m)=>z.cloneElement(t,{...m,className:Ae(e,t.props.className,(p===$n||p===Jh)&&`${l}-toggling`,OD[p])})})));Yw.displayName="OffcanvasToggling";const Kw=z.createContext({onHide(){}}),ND={"aria-label":ay.string,onClick:ay.func,variant:ay.oneOf(["white"])},Jb=z.forwardRef(({className:l,variant:e,"aria-label":t="Close",...n},r)=>q.jsx("button",{ref:r,type:"button",className:Ae("btn-close",e&&`btn-close-${e}`,l),"aria-label":t,...n}));Jb.displayName="CloseButton";Jb.propTypes=ND;const kD=z.forwardRef(({closeLabel:l="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:r,...o},c)=>{const h=z.useContext(Kw),f=fm(()=>{h==null||h.onHide(),n==null||n()});return q.jsxs("div",{ref:c,...o,children:[r,t&&q.jsx(Jb,{"aria-label":l,variant:e,onClick:f})]})}),$w=z.forwardRef(({bsPrefix:l,className:e,closeLabel:t="Close",closeButton:n=!1,...r},o)=>(l=oi(l,"offcanvas-header"),q.jsx(kD,{ref:o,...r,className:Ae(e,l),closeLabel:t,closeButton:n})));$w.displayName="OffcanvasHeader";const PD=l=>z.forwardRef((e,t)=>q.jsx("div",{...e,ref:t,className:Ae(e.className,l)})),FD=PD("h5"),Ww=z.forwardRef(({className:l,bsPrefix:e,as:t=FD,...n},r)=>(e=oi(e,"offcanvas-title"),q.jsx(t,{ref:r,className:Ae(l,e),...n})));Ww.displayName="OffcanvasTitle";function HD(l,e){return l.classList?l.classList.contains(e):(" "+(l.className.baseVal||l.className)+" ").indexOf(" "+e+" ")!==-1}function BD(l,e){l.classList?l.classList.add(e):HD(l,e)||(typeof l.className=="string"?l.className=l.className+" "+e:l.setAttribute("class",(l.className&&l.className.baseVal||"")+" "+e))}var zD=Function.prototype.bind.call(Function.prototype.call,[].slice);function ao(l,e){return zD(l.querySelectorAll(e))}function qE(l,e){return l.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ID(l,e){l.classList?l.classList.remove(e):typeof l.className=="string"?l.className=qE(l.className,e):l.setAttribute("class",qE(l.className&&l.className.baseVal||"",e))}const rc={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Qw extends Qb{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Aa(t,{[e]:`${parseFloat(Aa(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],Aa(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(BD(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ao(t,rc.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),ao(t,rc.STICKY_CONTENT).forEach(o=>this.adjustAndStore(r,o,-e.scrollBarWidth)),ao(t,rc.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();ID(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ao(t,rc.FIXED_CONTENT).forEach(o=>this.restore(n,o)),ao(t,rc.STICKY_CONTENT).forEach(o=>this.restore(r,o)),ao(t,rc.NAVBAR_TOGGLER).forEach(o=>this.restore(r,o))}}let uy;function jD(l){return uy||(uy=new Qw(l)),uy}function UD(l){return q.jsx(Yw,{...l})}function VD(l){return q.jsx(qw,{...l})}const Zw=z.forwardRef(({bsPrefix:l,className:e,children:t,"aria-labelledby":n,placement:r="start",responsive:o,show:c=!1,backdrop:h=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:m,onShow:y,onHide:b,container:A,autoFocus:S=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:R,onEntered:k,onExit:O,onExiting:P,onEnter:I,onEntering:N,onExited:V,backdropClassName:F,manager:j,renderStaticNode:at=!1,...et},nt)=>{const rt=z.useRef();l=oi(l,"offcanvas");const[dt,lt]=z.useState(!1),B=fm(b),Y=nD(o||"xs","up");z.useEffect(()=>{lt(o?c&&!Y:c)},[c,o,Y]);const Z=z.useMemo(()=>({onHide:B}),[B]);function bt(){return j||(p?(rt.current||(rt.current=new Qw({handleContainerOverflow:!1})),rt.current):jD())}const L=(ot,...ft)=>{ot&&(ot.style.visibility="visible"),I==null||I(ot,...ft)},$=(ot,...ft)=>{ot&&(ot.style.visibility=""),V==null||V(...ft)},st=z.useCallback(ot=>q.jsx("div",{...ot,className:Ae(`${l}-backdrop`,F)}),[F,l]),Q=ot=>q.jsx("div",{...ot,...et,className:Ae(e,o?`${l}-${o}`:l,`${l}-${r}`),"aria-labelledby":n,children:t});return q.jsxs(q.Fragment,{children:[!dt&&(o||at)&&Q({}),q.jsx(Kw.Provider,{value:Z,children:q.jsx(LD,{show:dt,ref:nt,backdrop:h,container:A,keyboard:f,autoFocus:S,enforceFocus:x&&!p,restoreFocus:M,restoreFocusOptions:R,onEscapeKeyDown:m,onShow:y,onHide:B,onEnter:L,onEntering:N,onEntered:k,onExit:O,onExiting:P,onExited:$,manager:bt(),transition:UD,backdropTransition:VD,renderBackdrop:st,renderDialog:Q})})]})});Zw.displayName="Offcanvas";const GD=Object.assign(Zw,{Body:Xw,Header:$w,Title:Ww}),Jw=z.forwardRef(({onHide:l,...e},t)=>{const n=z.useContext(Tu),r=fm(()=>{n==null||n.onToggle==null||n.onToggle(),l==null||l()});return q.jsx(GD,{ref:t,show:!!(n!=null&&n.expanded),...e,renderStaticNode:!0,onHide:r})});Jw.displayName="NavbarOffcanvas";const tx=z.forwardRef(({className:l,bsPrefix:e,as:t="span",...n},r)=>(e=oi(e,"navbar-text"),q.jsx(t,{ref:r,className:Ae(l,e),...n})));tx.displayName="NavbarText";const ex=z.forwardRef((l,e)=>{const{bsPrefix:t,expand:n=!0,variant:r="light",bg:o,fixed:c,sticky:h,className:f,as:p="nav",expanded:m,onToggle:y,onSelect:b,collapseOnSelect:A=!1,...S}=Pw(l,{expanded:"onToggle"}),x=oi(t,"navbar"),M=z.useCallback((...O)=>{b==null||b(...O),A&&m&&(y==null||y(!1))},[b,A,m,y]);S.role===void 0&&p!=="nav"&&(S.role="navigation");let R=`${x}-expand`;typeof n=="string"&&(R=`${R}-${n}`);const k=z.useMemo(()=>({onToggle:()=>y==null?void 0:y(!m),bsPrefix:x,expanded:!!m,expand:n}),[x,m,n,y]);return q.jsx(Tu.Provider,{value:k,children:q.jsx(kg.Provider,{value:M,children:q.jsx(p,{ref:e,...S,className:Ae(f,x,n&&R,r&&`${x}-${r}`,o&&`bg-${o}`,h&&`sticky-${h}`,c&&`fixed-${c}`)})})})});ex.displayName="Navbar";const Up=Object.assign(ex,{Brand:Bw,Collapse:jw,Offcanvas:Jw,Text:tx,Toggle:Uw});function qD(){const[,l]=z.useReducer(e=>e+1,0);return l}const tA=z.createContext(null);tA.displayName="NavContext";const ix=z.createContext(null),XD=["as","disabled"];function YD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}function KD(l){return!l||l.trim()==="#"}function eA({tagName:l,disabled:e,href:t,target:n,rel:r,role:o,onClick:c,tabIndex:h=0,type:f}){l||(t!=null||n!=null||r!=null?l="a":l="button");const p={tagName:l};if(l==="button")return[{type:f||"button",disabled:e},p];const m=b=>{if((e||l==="a"&&KD(t))&&b.preventDefault(),e){b.stopPropagation();return}c==null||c(b)},y=b=>{b.key===" "&&(b.preventDefault(),m(b))};return l==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:l==="a"?n:void 0,"aria-disabled":e||void 0,rel:l==="a"?r:void 0,onClick:m,onKeyDown:y},p]}const nx=z.forwardRef((l,e)=>{let{as:t,disabled:n}=l,r=YD(l,XD);const[o,{tagName:c}]=eA(Object.assign({tagName:t,disabled:n},r));return q.jsx(c,Object.assign({},r,o,{ref:e}))});nx.displayName="Button";const $D=["as","active","eventKey"];function WD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}function sx({key:l,onClick:e,active:t,id:n,role:r,disabled:o}){const c=z.useContext(kg),h=z.useContext(tA),f=z.useContext(ix);let p=t;const m={role:r};if(h){!r&&h.role==="tablist"&&(m.role="tab");const y=h.getControllerId(l??null),b=h.getControlledId(l??null);m[pm("event-key")]=l,m.id=y||n,p=t==null&&l!=null?h.activeKey===l:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(m["aria-controls"]=b)}return m.role==="tab"&&(m["aria-selected"]=p,p||(m.tabIndex=-1),o&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=ma(y=>{o||(e==null||e(y),l!=null&&c&&!y.isPropagationStopped()&&c(l,y))}),[m,{isActive:p}]}const ax=z.forwardRef((l,e)=>{let{as:t=nx,active:n,eventKey:r}=l,o=WD(l,$D);const[c,h]=sx(Object.assign({key:Yb(r,o.href),active:n},o));return c[pm("active")]=h.isActive,q.jsx(t,Object.assign({},o,c,{ref:e}))});ax.displayName="NavItem";const QD=["as","onSelect","activeKey","role","onKeyDown"];function ZD(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}const XE=()=>{},YE=pm("event-key"),rx=z.forwardRef((l,e)=>{let{as:t="div",onSelect:n,activeKey:r,role:o,onKeyDown:c}=l,h=ZD(l,QD);const f=qD(),p=z.useRef(!1),m=z.useContext(kg),y=z.useContext(ix);let b,A;y&&(o=o||"tablist",r=y.activeKey,b=y.getControlledId,A=y.getControllerId);const S=z.useRef(null),x=O=>{const P=S.current;if(!P)return null;const I=ao(P,`[${YE}]:not([aria-disabled=true])`),N=P.querySelector("[aria-selected=true]");if(!N||N!==document.activeElement)return null;const V=I.indexOf(N);if(V===-1)return null;let F=V+O;return F>=I.length&&(F=0),F<0&&(F=I.length-1),I[F]},M=(O,P)=>{O!=null&&(n==null||n(O,P),m==null||m(O,P))},R=O=>{if(c==null||c(O),!y)return;let P;switch(O.key){case"ArrowLeft":case"ArrowUp":P=x(-1);break;case"ArrowRight":case"ArrowDown":P=x(1);break;default:return}P&&(O.preventDefault(),M(P.dataset[hD("EventKey")]||null,O),p.current=!0,f())};z.useEffect(()=>{if(S.current&&p.current){const O=S.current.querySelector(`[${YE}][aria-selected=true]`);O==null||O.focus()}p.current=!1});const k=gm(e,S);return q.jsx(kg.Provider,{value:M,children:q.jsx(tA.Provider,{value:{role:o,activeKey:Yb(r),getControlledId:b||XE,getControllerId:A||XE},children:q.jsx(t,Object.assign({},h,{onKeyDown:R,ref:k,role:o}))})})});rx.displayName="Nav";const JD=Object.assign(rx,{Item:ax}),ox=z.createContext(null);ox.displayName="CardHeaderContext";const lx=z.forwardRef(({className:l,bsPrefix:e,as:t="div",...n},r)=>(e=oi(e,"nav-item"),q.jsx(t,{ref:r,className:Ae(l,e),...n})));lx.displayName="NavItem";const tO=["onKeyDown"];function eO(l,e){if(l==null)return{};var t={};for(var n in l)if({}.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}function iO(l){return!l||l.trim()==="#"}const cx=z.forwardRef((l,e)=>{let{onKeyDown:t}=l,n=eO(l,tO);const[r]=eA(Object.assign({tagName:"a"},n)),o=ma(c=>{r.onKeyDown(c),t==null||t(c)});return iO(n.href)||n.role==="button"?q.jsx("a",Object.assign({ref:e},n,r,{onKeyDown:o})):q.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});cx.displayName="Anchor";const ux=z.forwardRef(({bsPrefix:l,className:e,as:t=cx,active:n,eventKey:r,disabled:o=!1,...c},h)=>{l=oi(l,"nav-link");const[f,p]=sx({key:Yb(r,c.href),active:n,disabled:o,...c});return q.jsx(t,{...c,...f,ref:h,disabled:o,className:Ae(e,l,o&&"disabled",p.isActive&&"active")})});ux.displayName="NavLink";const hx=z.forwardRef((l,e)=>{const{as:t="div",bsPrefix:n,variant:r,fill:o=!1,justify:c=!1,navbar:h,navbarScroll:f,className:p,activeKey:m,...y}=Pw(l,{activeKey:"onSelect"}),b=oi(n,"nav");let A,S,x=!1;const M=z.useContext(Tu),R=z.useContext(ox);return M?(A=M.bsPrefix,x=h??!0):R&&({cardHeaderBsPrefix:S}=R),q.jsx(JD,{as:t,ref:e,activeKey:m,className:Ae(p,{[b]:!x,[`${A}-nav`]:x,[`${A}-nav-scroll`]:x&&f,[`${S}-${r}`]:!!S,[`${b}-${r}`]:!!r,[`${b}-fill`]:o,[`${b}-justified`]:c}),...y})});hx.displayName="Nav";const ss=Object.assign(hx,{Item:lx,Link:ux}),iA=z.forwardRef(({bsPrefix:l,fluid:e=!1,as:t="div",className:n,...r},o)=>{const c=oi(l,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return q.jsx(t,{ref:o,...r,className:Ae(n,e?`${c}${h}`:c)})});iA.displayName="Container";const nO="data:image/webp;base64,UklGRlwIAABXRUJQVlA4WAoAAAAQAAAAoAEA+QAAQUxQSLoBAAABDzD/ERFCcm1breQ8FgO65chAhEJooMxQJoSAZmUQdwC8XzzKyK4V0f8JoH+rFwBQf2AUMMP/fqavUnU7FMBs0IAgLwGAEnfqrLjWeWkRQ2lppISVkRF2GllhbeSFYRxkfZtA1veZEvVjpkWdZ0bUz5kVxXR7+D3CA8Em6oHoPcwDsQ/EPTtelqe8g6G4gyJqXRAViOgkzxFRkWeJKHcQZYgoydN7KCKK8qgXFzhKkB+0h+AG9SHYB2IGpxdD71Q20q+D+tdHfF28oE97fB0kaX6PsEXEIAtLUHvornROTobdocB1p2XN8E4IXV2V4I+ga6sKwKuAJiL0dkEFNKsBligua4BhAfBEaVUE4I5AUVmVAHhO7By1gbldBhA4qZvfmwIAnMzTtzt1ilH2OPHU7Wqnd6tCWmcYjUdiwA73Br2dRZ6/b8RzchrLyql7nFhGTmFpOZml5CQWySFOWNE6w2kML6kynKTCsCtqpzmZYSRFhlpx6hSHGCSqTsKS0hG7TNySDCDw0sTIoolakgD4A6dBoCURgDuQB24NNcAcoIFeVAF9pADwtKgAdLgBmnHjBH9MZDNb/JcYVlA4IHwGAAAQPQCdASqhAfoAPlEokEWjoqGTelRoOAUEsbdwu08ADNbtR+qflRsIfSPyM/r/S77H93+YEND6j+x/6b+1/mP9AP5L6lPMA/Sf/Wf2HrF/wb0Afzv+s/tF7zP+M/VX3AegB/ZP9T6qf+79gj0AP5F/bfVO/1/7mfAn+6f7me09///YA9ADqv+gH8A/AD9APz97/B+ICispK2/IMhAUVlJW35BkICh+yQ/CVRMrKispK2/IHwLirwYqHIFs3Z+MmzUw7KispKq+ecoenbmc6LWoCispK2/HLJa/a5L+VeH9Vy3XXIIOEfdUs6kafQQf5BkICisoen7wFV1bnlZi59BxXIHVtgkrb8gxFEmEtm9Hvac/FikbfkGQgKIVWfu+Jb7zDAajZJwOjZqJ7PZlUmoZCAorKHp+8BVdW7b1nVjc2amHZUVlCBYgXD2huuuQQwZxV9mFlJW320vUup/v1EQPmitOVDRS4Vny0YEw8DuAoPEj5gSgnBVJ92spRa6pXJCxfcBgaYeB3ATisZnnAQy1MnE6uB+MoRFsBpQZ9E6LXnJ6W3fExwMM/wRlGlM5WrOfROM4NIZoASkTTH7RLoyJK//p6AbhpbVF5EgkrvcgEai88XZ9T4Kykrb8gyEBRWcpTDsqKykrb8gyEBRWUla+AAD+/knAAAGolTZPpNo1yfvQ+TBAlQ7BP0NZ//2rGf2cXdFK+xKU0LDGQ8TVcC0/iXRP/905E0Gi9z9TDgxs4AfYoappp1ei83RrmE3dWkgJMHl7BOHYOsQMkX3SnBamFyg06oJhQATTuaQIgTciApaoIA+t1hOqPw/bgwIMOMNQ/W9DrkRwWKTNtwgYLNvzDVPA2OHwU0UdVnzsvlLhWiJFLL7S/OXETlda/EmtfxOUjkBv2gHsuaAwV1cKQAHyXyT5o4xxvQoSIqe0HwVZ7Nz5AVttDB/2RjFGLz6E4k1z1ENJpXJZZQgNI6HIV+eFfNGQnyOhflO0ppO9/aCogNyib+oZgBMgSzVVbOAS475xux2Lox14w4LNnNnQAFf7Pivd++aSMZZ1PGVBN9N604YJCc1r6f2YLUZKswgAHdpbt434VRFlOq6xLjlfbslEgFrconPviUtGQBVcAQbrEiul37VlIivIauULqdXGjxdYU2DfAv7FsrtaCUjS9IWpSSzLRXuEkJp/l0ZAn2Ai/gjFxFABSr3U/DzW0Cc3acfzGATbFmOR7i51bKMynoaGfYMBcdKHXVU0DLJ0e0JWD5WFPBv5G0lFHsZwrlorM80cfLg1PdlhCzMdGQj8kr4bWX6XC6W73sLDG4jqCUSu2GdAh+s5J+daSKXKdTAY9EdbNS45RIDHYHvGAxCP3/0bpP9QnL8dZV00GtQws+EO+j1kzeTlN8T+Z94Q+aqHdx1jkjtFVobEssf3OcAgMf4m99CwVXf4D76hZk21Fcf27aSuY75mKuJDCk3PmlY1/uDXObGajAs21/j5l6JUjtXr9MXIG5J+L3nr+3NBzeQ2JbABdlLWOCGywMyXTq4NOL05JVBXv+iww7IHS83P+988LgvCiV0UzpQcyYmFYDwxY8bViBiejSPuHRh2qZYvyMbN89QwNX99vnA0QvbBWbe2k3ADgy13RWfFS3nDgZTQ95BgZLdD+jgBIoCP5gEBu0MTuRZoSQnE8UEP5mJu8CaVn3nMY8QOqKg1mU8S3GZZlKBsGfBrFC+lwjCfiii0nfX2DSKefXxXU/xFcL4XNeMEHlo8QG2CX9ygXMvZpaiU0TIDqlBAW21l6cwKIjrPdlsiiI6hxf2+h5r6om6+fU5sCRzHsJtzq26I0cgd9SAzecakyjJIsu8nMT7HMc1AmDPC4SKQLZwyEGCB00X4WHYAAvcsTAeU9iHpYedtIu4XAp00iriU2G9PabEt2vAotf4X2eZCJeR8Pgpoo32CD8Xyh6YvNQtyVg4v4wM8l2XInHbE/6/f6YY9G8lJ594wUd6TcGV90x+eEOWugW0mx78UUM4kDIt3WPdKwCYDFebueaWMHHRgOaKHIhmdup/+wozkxRdx3NpO+wjtvwC40oym2S1jqLz56BLvE37bBKXXdCJRAl94NQ3C1gAluzvkkEzf7/DHAWxYnIcZqn4j+acvEnGajARzuEHNQd+HRXolMUqBNgbov+dcjxgo4TvRXu4945Dw7jpGG+d3lFEBATKw3mK1IAAGrgAAAAAA",dx=z.forwardRef(({as:l,bsPrefix:e,variant:t="primary",size:n,active:r=!1,disabled:o=!1,className:c,...h},f)=>{const p=oi(e,"btn"),[m,{tagName:y}]=eA({tagName:l,disabled:o,...h}),b=y;return q.jsx(b,{...m,...h,ref:f,disabled:o,className:Ae(c,p,r&&"active",t&&`${p}-${t}`,n&&`${p}-${n}`,h.href&&o&&"disabled")})});dx.displayName="Button";function sO({as:l,bsPrefix:e,className:t,...n}){e=oi(e,"col");const r=Fw(),o=Hw(),c=[],h=[];return r.forEach(f=>{const p=n[f];delete n[f];let m,y,b;typeof p=="object"&&p!=null?{span:m,offset:y,order:b}=p:m=p;const A=f!==o?`-${f}`:"";m&&c.push(m===!0?`${e}${A}`:`${e}${A}-${m}`),b!=null&&h.push(`order${A}-${b}`),y!=null&&h.push(`offset${A}-${y}`)}),[{...n,className:Ae(t,...c,...h)},{as:l,bsPrefix:e,spans:c}]}const Wp=z.forwardRef((l,e)=>{const[{className:t,...n},{as:r="div",bsPrefix:o,spans:c}]=sO(l);return q.jsx(r,{...n,ref:e,className:Ae(t,!c.length&&o)})});Wp.displayName="Col";const fx=z.forwardRef(({bsPrefix:l,className:e,as:t="div",...n},r)=>{const o=oi(l,"row"),c=Fw(),h=Hw(),f=`${o}-cols`,p=[];return c.forEach(m=>{const y=n[m];delete n[m];let b;y!=null&&typeof y=="object"?{cols:b}=y:b=y;const A=m!==h?`-${m}`:"";b!=null&&p.push(`${f}${A}-${b}`)}),q.jsx(t,{ref:r,...n,className:Ae(e,o,...p)})});fx.displayName="Row";var px={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KE=we.createContext&&we.createContext(px),aO=["attr","size","title"];function rO(l,e){if(l==null)return{};var t=oO(l,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(l,n)&&(t[n]=l[n])}return t}function oO(l,e){if(l==null)return{};var t={};for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)){if(e.indexOf(n)>=0)continue;t[n]=l[n]}return t}function Fg(){return Fg=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l[n]=t[n])}return l},Fg.apply(this,arguments)}function $E(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,n)}return t}function Hg(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(t),!0).forEach(function(n){lO(l,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):$E(Object(t)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(t,n))})}return l}function lO(l,e,t){return e=cO(e),e in l?Object.defineProperty(l,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[e]=t,l}function cO(l){var e=uO(l,"string");return typeof e=="symbol"?e:e+""}function uO(l,e){if(typeof l!="object"||!l)return l;var t=l[Symbol.toPrimitive];if(t!==void 0){var n=t.call(l,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(l)}function gx(l){return l&&l.map((e,t)=>we.createElement(e.tag,Hg({key:t},e.attr),gx(e.child)))}function Qn(l){return e=>we.createElement(hO,Fg({attr:Hg({},l.attr)},e),gx(l.child))}function hO(l){var e=t=>{var{attr:n,size:r,title:o}=l,c=rO(l,aO),h=r||t.size||"1em",f;return t.className&&(f=t.className),l.className&&(f=(f?f+" ":"")+l.className),we.createElement("svg",Fg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:f,style:Hg(Hg({color:l.color||t.color},t.style),l.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&we.createElement("title",null,o),l.children)};return KE!==void 0?we.createElement(KE.Consumer,null,t=>e(t)):e(px)}function dO(l){return Qn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M7 18H17V16H7V18Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M17 14H7V12H17V14Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M7 10H11V8H7V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C4.34315 2 3 3.34315 3 5V19C3 20.6569 4.34315 22 6 22H18C19.6569 22 21 20.6569 21 19V9C21 5.13401 17.866 2 14 2H6ZM6 4H13V9H19V19C19 19.5523 18.5523 20 18 20H6C5.44772 20 5 19.5523 5 19V5C5 4.44772 5.44772 4 6 4ZM15 4.10002C16.6113 4.4271 17.9413 5.52906 18.584 7H15V4.10002Z",fill:"currentColor"},child:[]}]})(l)}function fO(l){return Qn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M7 5C7 3.89543 7.89543 3 9 3C10.1046 3 11 3.89543 11 5C11 5.74028 10.5978 6.38663 10 6.73244V14.0396H11.7915C12.8961 14.0396 13.7915 13.1441 13.7915 12.0396V10.7838C13.1823 10.4411 12.7708 9.78837 12.7708 9.03955C12.7708 7.93498 13.6662 7.03955 14.7708 7.03955C15.8753 7.03955 16.7708 7.93498 16.7708 9.03955C16.7708 9.77123 16.3778 10.4111 15.7915 10.7598V12.0396C15.7915 14.2487 14.0006 16.0396 11.7915 16.0396H10V17.2676C10.5978 17.6134 11 18.2597 11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19C7 18.2597 7.4022 17.6134 8 17.2676V6.73244C7.4022 6.38663 7 5.74028 7 5Z",fill:"currentColor"},child:[]}]})(l)}function Ck(l){return Qn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7C13.4477 7 13 7.44772 13 8V16C13 16.5523 13.4477 17 14 17H18C18.5523 17 19 16.5523 19 16V8C19 7.44772 18.5523 7 18 7H14ZM17 9H15V15H17V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M6 7C5.44772 7 5 7.44772 5 8C5 8.55228 5.44772 9 6 9H10C10.5523 9 11 8.55228 11 8C11 7.44772 10.5523 7 10 7H6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M6 11C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13H10C10.5523 13 11 12.5523 11 12C11 11.4477 10.5523 11 10 11H6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M5 16C5 15.4477 5.44772 15 6 15H10C10.5523 15 11 15.4477 11 16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C2.34315 3 1 4.34315 1 6V18C1 19.6569 2.34315 21 4 21H20C21.6569 21 23 19.6569 23 18V6C23 4.34315 21.6569 3 20 3H4ZM20 5H4C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18V6C21 5.44772 20.5523 5 20 5Z",fill:"currentColor"},child:[]}]})(l)}function pO(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"},child:[]}]})(l)}function gO(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"},child:[]}]})(l)}function Rk(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(l)}function mO(l){return Qn({attr:{t:"1569683753031",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"path",attr:{d:"M312.1 591.5c3.1 3.1 8.2 3.1 11.3 0l101.8-101.8 86.1 86.2c3.1 3.1 8.2 3.1 11.3 0l226.3-226.5c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8c-3.1-3.1-8.2-3.1-11.3 0L517 485.3l-86.1-86.2c-3.1-3.1-8.2-3.1-11.3 0L275.3 543.4c-3.1 3.1-3.1 8.2 0 11.3l36.8 36.8z"},child:[]},{tag:"path",attr:{d:"M904 160H548V96c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H120c-17.7 0-32 14.3-32 32v520c0 17.7 14.3 32 32 32h356.4v32L311.6 884.1c-3.7 2.4-4.7 7.3-2.3 11l30.3 47.2v0.1c2.4 3.7 7.4 4.7 11.1 2.3L512 838.9l161.3 105.8c3.7 2.4 8.7 1.4 11.1-2.3v-0.1l30.3-47.2c2.4-3.7 1.3-8.6-2.3-11L548 776.3V744h356c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32z m-40 512H160V232h704v440z"},child:[]}]})(l)}function vO(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"},child:[]}]})(l)}function yO(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"},child:[]}]})(l)}function bO(l){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"},child:[]}]})(l)}function AO(){const[l,e]=z.useState(!1),[t,n]=z.useState(!1);return z.useEffect(()=>{const r=()=>{window.scrollY>=20?n(!0):n(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]),q.jsx(Up,{expanded:l,fixed:"top",expand:"md",className:t?"sticky":"navbar",children:q.jsxs(iA,{children:[q.jsx(Up.Brand,{href:"/",className:"d-flex",children:q.jsx("img",{src:nO,className:"img-fluid logo",alt:"brand"})}),q.jsxs(Up.Toggle,{"aria-controls":"responsive-navbar-nav",onClick:()=>{e(r=>!r)},children:[q.jsx("span",{}),q.jsx("span",{}),q.jsx("span",{})]}),q.jsx(Up.Collapse,{id:"responsive-navbar-nav",children:q.jsxs(ss,{className:"ms-auto",defaultActiveKey:"#home",children:[q.jsx(ss.Item,{children:q.jsxs(ss.Link,{as:bc,to:"/",onClick:()=>e(!1),children:[q.jsx(vO,{className:"navbar-icon"})," Home"]})}),q.jsx(ss.Item,{children:q.jsxs(ss.Link,{as:bc,to:"/about",onClick:()=>e(!1),children:[q.jsx(bO,{className:"navbar-icon"})," About"]})}),q.jsx(ss.Item,{children:q.jsxs(ss.Link,{as:bc,to:"/project",onClick:()=>e(!1),children:[q.jsx(mO,{className:"navbar-icon"})," ","Projects"]})}),q.jsx(ss.Item,{children:q.jsxs(ss.Link,{as:bc,to:"/resume",onClick:()=>e(!1),children:[q.jsx(dO,{className:"navbar-icon"})," Resume"]})}),q.jsx(ss.Item,{className:"fork-btn",children:q.jsxs(dx,{href:"https://github.com/JonHaywood/portfolio",target:"_blank",className:"fork-btn-inner",title:"Portfolio GitHub Repository",children:[q.jsx(fO,{className:"navbar-icon-larger"})," ",q.jsx(gO,{className:"navbar-icon-large"})]})})]})})]})})}function _O(){const{pathname:l}=uL();return z.useEffect(()=>{window.scrollTo(0,0)},[l]),null}function SO(l){return Qn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(l)}function EO(){const e=new Date().getFullYear();return q.jsx(iA,{fluid:!0,className:"footer",children:q.jsxs(fx,{children:[q.jsx(Wp,{md:"4",className:"footer-copywright",children:q.jsx("div",{className:"footer-text",children:"Designed and Developed by Jon Haywood"})}),q.jsx(Wp,{md:"4",className:"footer-copywright",children:q.jsxs("div",{className:"footer-text",children:["Copyright © ",e]})}),q.jsx(Wp,{md:"4",className:"footer-body",children:q.jsxs("ul",{className:"footer-icons",children:[q.jsx("li",{className:"social-icons",children:q.jsx("a",{href:"https://github.com/JonHaywood",target:"_blank",rel:"noopener noreferrer",title:"GitHub",children:q.jsx(pO,{})})}),q.jsx("li",{className:"social-icons",children:q.jsx("a",{href:"https://www.linkedin.com/in/jonathanhaywood/",target:"_blank",rel:"noopener noreferrer",title:"LinkedIn",children:q.jsx(SO,{})})}),q.jsx("li",{className:"social-icons",children:q.jsx("a",{href:"mailto:jonathan.haywood@gmail.com",target:"_blank",rel:"noopener noreferrer",title:"Email",children:q.jsx(yO,{})})})]})})]})})}const Af=nL({component:wO});function wO(){const l=pL();return q.jsxs(z.Fragment,{children:[q.jsx(gL,{load:l}),q.jsxs("div",{className:"App",id:l?"no-scroll":"scroll",children:[q.jsx(AO,{}),q.jsx(_O,{}),q.jsx(Xb,{}),q.jsx(EO,{})]}),q.jsx(fL,{})]})}var $h={};$h.d=(l,e)=>{for(var t in e)$h.o(e,t)&&!$h.o(l,t)&&Object.defineProperty(l,t,{enumerable:!0,get:e[t]})};$h.o=(l,e)=>Object.prototype.hasOwnProperty.call(l,e);var Ct=globalThis.pdfjsLib={};$h.d(Ct,{AbortException:()=>yl,AnnotationEditorLayer:()=>Fb,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Dt,AnnotationEditorUIManager:()=>fl,AnnotationLayer:()=>SN,AnnotationMode:()=>er,ColorPicker:()=>jg,DOMSVGFactory:()=>pA,DrawLayer:()=>Ib,FeatureTest:()=>wi,GlobalWorkerOptions:()=>va,ImageKind:()=>Qp,InvalidPDFException:()=>vx,MissingPDFException:()=>vl,OPS:()=>kn,OutputScale:()=>Ly,PDFDataRangeTransport:()=>fT,PDFDateString:()=>oA,PDFWorker:()=>xc,PasswordResponses:()=>RO,PermissionFlag:()=>CO,PixelsPerInch:()=>Or,RenderingCancelledException:()=>aA,TextLayer:()=>td,UnexpectedResponseException:()=>bm,Util:()=>yt,VerbosityLevel:()=>mm,XfaLayer:()=>gT,build:()=>iN,createValidAbsoluteUrl:()=>OO,fetchData:()=>_m,getDocument:()=>Y3,getFilenameFromUrl:()=>jO,getPdfFilenameFromUrl:()=>UO,getXfaPageViewport:()=>VO,isDataScheme:()=>Sm,isPdfFile:()=>rA,noContextMenu:()=>Mn,normalizeUnicode:()=>BO,setLayerDimensions:()=>dl,shadow:()=>jt,version:()=>eN});const yi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mx=[1,0,0,1,0,0],Ty=[.001,0,0,.001,0,0],xO=1e7,hy=1.35,rn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},er={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},TO="pdfjs_internal_editor_",Dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},CO={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Th={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mm={ERRORS:0,WARNINGS:1,INFOS:5},kn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},RO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vm=mm.WARNINGS;function MO(l){Number.isInteger(l)&&(vm=l)}function LO(){return vm}function ym(l){vm>=mm.INFOS&&console.log(`Info: ${l}`)}function Pt(l){vm>=mm.WARNINGS&&console.log(`Warning: ${l}`)}function ce(l){throw new Error(l)}function Ie(l,e){l||ce(e)}function DO(l){switch(l==null?void 0:l.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function OO(l,e=null,t=null){if(!l)return null;try{if(t&&typeof l=="string"){if(t.addDefaultProtocol&&l.startsWith("www.")){const r=l.match(/\./g);(r==null?void 0:r.length)>=2&&(l=`http://${l}`)}if(t.tryConvertEncoding)try{l=HO(l)}catch{}}const n=e?new URL(l,e):new URL(l);if(DO(n))return n}catch{}return null}function jt(l,e,t,n=!1){return Object.defineProperty(l,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Fr=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Cy extends Fr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ry extends Fr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class vx extends Fr{constructor(e){super(e,"InvalidPDFException")}}class vl extends Fr{constructor(e){super(e,"MissingPDFException")}}class bm extends Fr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class NO extends Fr{constructor(e){super(e,"FormatError")}}class yl extends Fr{constructor(e){super(e,"AbortException")}}function yx(l){(typeof l!="object"||(l==null?void 0:l.length)===void 0)&&ce("Invalid argument for bytesToString");const e=l.length,t=8192;if(e<t)return String.fromCharCode.apply(null,l);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),c=l.subarray(r,o);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Am(l){typeof l!="string"&&ce("Invalid argument for stringToBytes");const e=l.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=l.charCodeAt(n)&255;return t}function kO(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function nA(l){const e=Object.create(null);for(const[t,n]of l)e[t]=n;return e}function PO(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function FO(){try{return new Function(""),!0}catch{return!1}}class wi{static get isLittleEndian(){return jt(this,"isLittleEndian",PO())}static get isEvalSupported(){return jt(this,"isEvalSupported",FO())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?jt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):jt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return jt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const dy=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));var Sa,Zp,My;class yt{static makeHexColor(e,t,n){return`#${dy[e]}${dy[t]}${dy[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),c=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],o[0],c[0]),Math.min(n[1],r[1],o[1],c[1]),Math.max(n[0],r[0],o[0],c[0]),Math.max(n[1],r[1],o[1],c[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],c=e[2]*t[1]+e[3]*t[3],h=(n+c)/2,f=Math.sqrt((n+c)**2-4*(n*c-o*r))/2,p=h+f||1,m=h-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>c?null:[n,o,r,c]}static bezierBoundingBox(e,t,n,r,o,c,h,f,p){return p?(p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],t,f),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],t,f)):p=[Math.min(e,h),Math.min(t,f),Math.max(e,h),Math.max(t,f)],w(this,Sa,My).call(this,e,n,o,h,t,r,c,f,3*(-e+3*(n-o)+h),6*(e-2*n+o),3*(n-e),p),w(this,Sa,My).call(this,e,n,o,h,t,r,c,f,3*(-t+3*(r-c)+f),6*(t-2*r+c),3*(r-t),p),p}}Sa=new WeakSet,Zp=function(e,t,n,r,o,c,h,f,p,m){if(p<=0||p>=1)return;const y=1-p,b=p*p,A=b*p,S=y*(y*(y*e+3*p*t)+3*b*n)+A*r,x=y*(y*(y*o+3*p*c)+3*b*h)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],x),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],x)},My=function(e,t,n,r,o,c,h,f,p,m,y,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&w(this,Sa,Zp).call(this,e,t,n,r,o,c,h,f,-y/m,b);return}const A=m**2-4*y*p;if(A<0)return;const S=Math.sqrt(A),x=2*p;w(this,Sa,Zp).call(this,e,t,n,r,o,c,h,f,(-m+S)/x,b),w(this,Sa,Zp).call(this,e,t,n,r,o,c,h,f,(-m-S)/x,b)},C(yt,Sa);function HO(l){return decodeURIComponent(escape(l))}let fy=null,WE=null;function BO(l){return fy||(fy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,WE=new Map([["ﬅ","ſt"]])),l.replaceAll(fy,(e,t,n)=>t?t.normalize("NFKC"):WE.get(n))}function zO(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const l=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(l);else for(let e=0;e<32;e++)l[e]=Math.floor(Math.random()*255);return yx(l)}const sA="pdfjs_internal_id_",Is={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function IO(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(yx(l))}const Us="http://www.w3.org/2000/svg",uo=class uo{};xt(uo,"CSS",96),xt(uo,"PDF",72),xt(uo,"PDF_TO_CSS_UNITS",uo.CSS/uo.PDF);let Or=uo;async function _m(l,e="text"){if(Oh(l,document.baseURI)){const t=await fetch(l);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",l,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class _f{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=o;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,m,y,b;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,m=0,y=0,b=1;break;case 90:p=0,m=1,y=1,b=0;break;case 270:p=0,m=-1,y=-1,b=0;break;case 0:p=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,b=-b);let A,S,x,M;p===0?(A=Math.abs(f-e[1])*t+r,S=Math.abs(h-e[0])*t+o,x=(e[3]-e[1])*t,M=(e[2]-e[0])*t):(A=Math.abs(h-e[0])*t+r,S=Math.abs(f-e[1])*t+o,x=(e[2]-e[0])*t,M=(e[3]-e[1])*t),this.transform=[p*t,m*t,y*t,b*t,A-p*t*h-y*t*f,S-m*t*h-b*t*f],this.width=x,this.height=M}get rawDims(){const{viewBox:e}=this;return jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new _f({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return yt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=yt.applyTransform([e[0],e[1]],this.transform),n=yt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return yt.applyInverseTransform([e,t],this.transform)}}class aA extends Fr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Sm(l){const e=l.length;let t=0;for(;t<e&&l[t].trim()==="";)t++;return l.substring(t,t+5).toLowerCase()==="data:"}function rA(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function jO(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function UO(l,e="document.pdf"){if(typeof l!="string")return e;if(Sm(l))return Pt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(l);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class QE{constructor(){xt(this,"started",Object.create(null));xt(this,"times",[])}time(e){e in this.started&&Pt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Oh(l,e){try{const{protocol:t}=e?new URL(l,e):new URL(l);return t==="http:"||t==="https:"}catch{return!1}}function Mn(l){l.preventDefault()}function ZE(l){console.log("Deprecated API usage: "+l)}var id;class oA{static toDateObject(e){if(!e||typeof e!="string")return null;d(this,id)||E(this,id,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=d(this,id).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(t[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(t[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(t[6],10);f=f>=0&&f<=59?f:0;const p=t[7]||"Z";let m=parseInt(t[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(t[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(c+=m,h+=y):p==="+"&&(c-=m,h-=y),new Date(Date.UTC(n,r,o,c,h,f))}}id=new WeakMap,C(oA,id);function VO(l,{scale:e=1,rotation:t=0}){const{width:n,height:r}=l.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new _f({viewBox:o,scale:e,rotation:t})}function lA(l){if(l.startsWith("#")){const e=parseInt(l.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(e=>parseInt(e)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pt(`Not a valid color format: "${l}"`),[0,0,0])}function GO(l){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of l.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;l.set(t,lA(n))}e.remove()}function me(l){const{a:e,b:t,c:n,d:r,e:o,f:c}=l.getTransform();return[e,t,n,r,o,c]}function js(l){const{a:e,b:t,c:n,d:r,e:o,f:c}=l.getTransform().invertSelf();return[e,t,n,r,o,c]}function dl(l,e,t=!1,n=!0){if(e instanceof _f){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:c}=l,h=wi.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,m=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,y=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!t||e.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}n&&l.setAttribute("data-main-rotation",e.rotation)}class Ly{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ir,go,Pn,mo,nd,sd,Vg,bx,xi,Ax,_x,Jp,Sx,Oy;const Vs=class Vs{constructor(e){C(this,xi);C(this,ir,null);C(this,go,null);C(this,Pn);C(this,mo,null);C(this,nd,null);E(this,Pn,e),d(Vs,sd)||E(Vs,sd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=E(this,ir,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=d(this,Pn)._uiManager._signal;e.addEventListener("contextmenu",Mn,{signal:t}),e.addEventListener("pointerdown",w(Vs,Vg,bx),{signal:t});const n=E(this,mo,document.createElement("div"));n.className="buttons",e.append(n);const r=d(this,Pn).toolbarPosition;if(r){const{style:o}=e,c=d(this,Pn)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,xi,Sx).call(this),e}get div(){return d(this,ir)}hide(){var e;d(this,ir).classList.add("hidden"),(e=d(this,go))==null||e.hideDropdown()}show(){var e;d(this,ir).classList.remove("hidden"),(e=d(this,nd))==null||e.shown()}async addAltText(e){const t=await e.render();w(this,xi,Jp).call(this,t),d(this,mo).prepend(t,d(this,xi,Oy)),E(this,nd,e)}addColorPicker(e){E(this,go,e);const t=e.renderButton();w(this,xi,Jp).call(this,t),d(this,mo).prepend(t,d(this,xi,Oy))}remove(){var e;d(this,ir).remove(),(e=d(this,go))==null||e.destroy(),E(this,go,null)}};ir=new WeakMap,go=new WeakMap,Pn=new WeakMap,mo=new WeakMap,nd=new WeakMap,sd=new WeakMap,Vg=new WeakSet,bx=function(e){e.stopPropagation()},xi=new WeakSet,Ax=function(e){d(this,Pn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},_x=function(e){d(this,Pn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Jp=function(e){const t=d(this,Pn)._uiManager._signal;e.addEventListener("focusin",w(this,xi,Ax).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",w(this,xi,_x).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Mn,{signal:t})},Sx=function(){const{editorType:e,_uiManager:t}=d(this,Pn),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(Vs,sd)[e]),w(this,xi,Jp).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),d(this,mo).append(n)},Oy=function(){const e=document.createElement("div");return e.className="divider",e},C(Vs,Vg),C(Vs,sd,null);let Dy=Vs;var ad,vo,yo,kr,Ex,wx,xx;class qO{constructor(e){C(this,kr);C(this,ad,null);C(this,vo,null);C(this,yo);E(this,yo,e)}show(e,t,n){const[r,o]=w(this,kr,wx).call(this,t,n),{style:c}=d(this,vo)||E(this,vo,w(this,kr,Ex).call(this));e.append(d(this,vo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,vo).remove()}}ad=new WeakMap,vo=new WeakMap,yo=new WeakMap,kr=new WeakSet,Ex=function(){const e=E(this,vo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Mn,{signal:d(this,yo)._signal});const t=E(this,ad,document.createElement("div"));return t.className="buttons",e.append(t),w(this,kr,xx).call(this),e},wx=function(e,t){let n=0,r=0;for(const o of e){const c=o.y+o.height;if(c<n)continue;const h=o.x+(t?o.width:0);if(c>n){r=h,n=c;continue}t?h>r&&(r=h):h<r&&(r=h)}return[t?1-r:r,n]},xx=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,yo)._signal;e.addEventListener("contextmenu",Mn,{signal:n}),e.addEventListener("click",()=>{d(this,yo).highlightSelection("floating_button")},{signal:n}),d(this,ad).append(e)};function Bg(l,e,t){for(const n of t)e.addEventListener(n,l[n].bind(l))}function XO(l){return Math.round(Math.min(255,Math.max(1,255*l))).toString(16).padStart(2,"0")}var Gg;class YO{constructor(){C(this,Gg,0)}get id(){return`${TO}${Ai(this,Gg)._++}`}}Gg=new WeakMap;var Tc,rd,pi,Cc,tg;const mA=class mA{constructor(){C(this,Cc);C(this,Tc,zO());C(this,rd,0);C(this,pi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return jt(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return w(this,Cc,tg).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return w(this,Cc,tg).call(this,e,e)}async getFromBlob(e,t){const n=await t;return w(this,Cc,tg).call(this,e,n)}async getFromId(e){d(this,pi)||E(this,pi,new Map);const t=d(this,pi).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){d(this,pi)||E(this,pi,new Map);let n=d(this,pi).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Tc)}_${Ai(this,rd)._++}`,refCounter:1,isSvg:!1},d(this,pi).set(e,n),d(this,pi).set(n.id,n),n}getSvgUrl(e){const t=d(this,pi).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;d(this,pi)||E(this,pi,new Map);const t=d(this,pi).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,Tc)}_`)}};Tc=new WeakMap,rd=new WeakMap,pi=new WeakMap,Cc=new WeakSet,tg=async function(e,t){d(this,pi)||E(this,pi,new Map);let n=d(this,pi).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,Tc)}_${Ai(this,rd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await _m(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=mA._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,m)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,p()},c.onload=async()=>{const y=n.svgUrl=c.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=c.onerror=m});c.readAsDataURL(r),await f}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return d(this,pi).set(e,n),n&&d(this,pi).set(n.id,n),n};let Ny=mA;var Xe,nr,od,Ye;class KO{constructor(e=128){C(this,Xe,[]);C(this,nr,!1);C(this,od);C(this,Ye,-1);E(this,od,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&e(),d(this,nr))return;const f={cmd:e,undo:t,post:n,type:o};if(d(this,Ye)===-1){d(this,Xe).length>0&&(d(this,Xe).length=0),E(this,Ye,0),d(this,Xe).push(f);return}if(c&&d(this,Xe)[d(this,Ye)].type===o){h&&(f.undo=d(this,Xe)[d(this,Ye)].undo),d(this,Xe)[d(this,Ye)]=f;return}const p=d(this,Ye)+1;p===d(this,od)?d(this,Xe).splice(0,1):(E(this,Ye,p),p<d(this,Xe).length&&d(this,Xe).splice(p)),d(this,Xe).push(f)}undo(){if(d(this,Ye)===-1)return;E(this,nr,!0);const{undo:e,post:t}=d(this,Xe)[d(this,Ye)];e(),t==null||t(),E(this,nr,!1),E(this,Ye,d(this,Ye)-1)}redo(){if(d(this,Ye)<d(this,Xe).length-1){E(this,Ye,d(this,Ye)+1),E(this,nr,!0);const{cmd:e,post:t}=d(this,Xe)[d(this,Ye)];e(),t==null||t(),E(this,nr,!1)}}hasSomethingToUndo(){return d(this,Ye)!==-1}hasSomethingToRedo(){return d(this,Ye)<d(this,Xe).length-1}destroy(){E(this,Xe,null)}}Xe=new WeakMap,nr=new WeakMap,od=new WeakMap,Ye=new WeakMap;var qg,Tx;class Sf{constructor(e){C(this,qg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wi.platform;for(const[n,r,o={}]of e)for(const c of n){const h=c.startsWith("mac+");t&&h?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!t&&!h&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(w(this,qg,Tx).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:h=null}}=n;h&&!h(e,t)||(r.bind(e,...c,t)(),o||(t.stopPropagation(),t.preventDefault()))}}qg=new WeakSet,Tx=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Xg=class Xg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return GO(e),jt(this,"_colors",e)}convert(e){const t=lA(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,c)=>o===t[c]))return Xg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?yt.makeHexColor(...t):e}};xt(Xg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ky=Xg;var Rc,Qi,He,ii,Mc,qs,Lc,Fn,sr,Dc,bo,rs,Hn,Ao,ld,cd,Oc,ud,os,ar,Nc,rr,ls,Yg,or,hd,lr,_o,dd,fd,Ke,Qt,Xs,So,pd,gd,cr,cs,Ys,md,An,ht,eg,Py,Cx,Rx,ig,Mx,Lx,Dx,Fy,Ox,Hy,By,Nx,_i,Za,kx,Px,zy,Fx,Nh,Iy;const Ac=class Ac{constructor(e,t,n,r,o,c,h,f,p,m,y){C(this,ht);C(this,Rc,new AbortController);C(this,Qi,null);C(this,He,new Map);C(this,ii,new Map);C(this,Mc,null);C(this,qs,null);C(this,Lc,null);C(this,Fn,new KO);C(this,sr,null);C(this,Dc,0);C(this,bo,new Set);C(this,rs,null);C(this,Hn,null);C(this,Ao,new Set);C(this,ld,!1);C(this,cd,!1);C(this,Oc,!1);C(this,ud,null);C(this,os,null);C(this,ar,null);C(this,Nc,null);C(this,rr,!1);C(this,ls,null);C(this,Yg,new YO);C(this,or,!1);C(this,hd,!1);C(this,lr,null);C(this,_o,null);C(this,dd,null);C(this,fd,null);C(this,Ke,Dt.NONE);C(this,Qt,new Set);C(this,Xs,null);C(this,So,null);C(this,pd,null);C(this,gd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,cr,[0,0]);C(this,cs,null);C(this,Ys,null);C(this,md,null);C(this,An,null);const b=this._signal=d(this,Rc).signal;E(this,Ys,e),E(this,md,t),E(this,Mc,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),w(this,ht,Mx).call(this),w(this,ht,Nx).call(this),w(this,ht,Fy).call(this),E(this,qs,o.annotationStorage),E(this,ud,o.filterFactory),E(this,So,c),E(this,Nc,h||null),E(this,ld,f),E(this,cd,p),E(this,Oc,m),E(this,fd,y||null),this.viewParameters={realScale:Or.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ac.prototype,t=c=>d(c,Ys).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Sf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,Ys).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,Ys).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r;(e=d(this,An))==null||e.resolve(),E(this,An,null),(t=d(this,Rc))==null||t.abort(),E(this,Rc,null),this._signal=null;for(const o of d(this,ii).values())o.destroy();d(this,ii).clear(),d(this,He).clear(),d(this,Ao).clear(),E(this,Qi,null),d(this,Qt).clear(),d(this,Fn).destroy(),(n=d(this,Mc))==null||n.destroy(),(r=d(this,ls))==null||r.hide(),E(this,ls,null),d(this,os)&&(clearTimeout(d(this,os)),E(this,os,null)),d(this,cs)&&(clearTimeout(d(this,cs)),E(this,cs,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,fd)}get useNewAltTextFlow(){return d(this,cd)}get useNewAltTextWhenAddingImage(){return d(this,Oc)}get hcmFilter(){return jt(this,"hcmFilter",d(this,So)?d(this,ud).addHCMFilter(d(this,So).foreground,d(this,So).background):"none")}get direction(){return jt(this,"direction",getComputedStyle(d(this,Ys)).direction)}get highlightColors(){return jt(this,"highlightColors",d(this,Nc)?new Map(d(this,Nc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,dd,e)}editAltText(e,t=!1){var n;(n=d(this,Mc))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":E(this,Oc,t);break}}onPageChanging({pageNumber:e}){E(this,Dc,e-1)}focusMainContainer(){d(this,Ys).focus()}findParent(e,t){for(const n of d(this,ii).values()){const{x:r,y:o,width:c,height:h}=n.div.getBoundingClientRect();if(e>=r&&e<=r+c&&t>=o&&t<=o+h)return n}return null}disableUserSelect(e=!1){d(this,md).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,Ao).add(e)}removeShouldRescale(e){d(this,Ao).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Or.PDF_TO_CSS_UNITS;for(const t of d(this,Ao))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:c}=t,h=t.toString(),p=w(this,ht,eg).call(this,t).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;t.empty();const y=w(this,ht,Py).call(this,p),b=d(this,Ke)===Dt.NONE,A=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Dt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(e){!e.isEmpty()&&d(this,qs)&&!d(this,qs).has(e.id)&&d(this,qs).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,d(this,rr)&&(E(this,rr,!1),w(this,ht,ig).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of d(this,Qt))if(t.div.contains(e)){E(this,_o,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!d(this,_o))return;const[e,t]=d(this,_o);E(this,_o,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){w(this,ht,Fy).call(this),w(this,ht,Hy).call(this)}removeEditListeners(){w(this,ht,Ox).call(this),w(this,ht,By).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of d(this,Hn))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of d(this,Hn))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=d(this,Qi))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of d(this,Qt)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const c of d(this,Hn))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Pt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of n){const p=await r.deserialize(f);if(!p)return;o.push(p)}const c=()=>{for(const f of o)w(this,ht,zy).call(this,f);w(this,ht,Iy).call(this,o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){Pt(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Ke)!==Dt.NONE&&!this.isEditorHandlingKeyboard&&Ac._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,rr)&&(E(this,rr,!1),w(this,ht,ig).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(w(this,ht,Lx).call(this),w(this,ht,Hy).call(this),w(this,ht,_i).call(this,{isEditing:d(this,Ke)!==Dt.NONE,isEmpty:w(this,ht,Nh).call(this),hasSomethingToUndo:d(this,Fn).hasSomethingToUndo(),hasSomethingToRedo:d(this,Fn).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,ht,Dx).call(this),w(this,ht,By).call(this),w(this,ht,_i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,Hn)){E(this,Hn,e);for(const t of d(this,Hn))w(this,ht,Za).call(this,t.defaultPropertiesToUpdate)}}getId(){return d(this,Yg).id}get currentLayer(){return d(this,ii).get(d(this,Dc))}getLayer(e){return d(this,ii).get(e)}get currentPageIndex(){return d(this,Dc)}addLayer(e){d(this,ii).set(e.pageIndex,e),d(this,or)?e.enable():e.disable()}removeLayer(e){d(this,ii).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(d(this,Ke)!==e&&!(d(this,An)&&(await d(this,An).promise,!d(this,An)))){if(E(this,An,Promise.withResolvers()),E(this,Ke,e),e===Dt.NONE){this.setEditingState(!1),w(this,ht,Px).call(this),d(this,An).resolve();return}this.setEditingState(!0),await w(this,ht,kx).call(this),this.unselectAll();for(const r of d(this,ii).values())r.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),d(this,An).resolve();return}for(const r of d(this,He).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();d(this,An).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==d(this,Ke)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(d(this,Hn)){switch(e){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,dd))==null||n.updateColor(t);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,pd)||E(this,pd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of d(this,Qt))r.updateParams(e,t);for(const r of d(this,Hn))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const c of d(this,He).values())c.editorType===e&&c.show(t);(((o=d(this,pd))==null?void 0:o.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&w(this,ht,Za).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(d(this,hd)!==e){E(this,hd,e);for(const t of d(this,ii).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of d(this,He).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return d(this,He).get(e)}addEditor(e){d(this,He).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(d(this,os)&&clearTimeout(d(this,os)),E(this,os,setTimeout(()=>{this.focusMainContainer(),E(this,os,null)},0))),d(this,He).delete(e.id),this.unselect(e),(!e.annotationElementId||!d(this,bo).has(e.annotationElementId))&&((t=d(this,qs))==null||t.remove(e.id))}addDeletedAnnotationElement(e){d(this,bo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,bo).has(e)}removeDeletedAnnotationElement(e){d(this,bo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,Qi)!==e&&(E(this,Qi,e),e&&w(this,ht,Za).call(this,e.propertiesToUpdate))}updateUI(e){d(this,ht,Fx)===e&&w(this,ht,Za).call(this,e.propertiesToUpdate)}toggleSelected(e){if(d(this,Qt).has(e)){d(this,Qt).delete(e),e.unselect(),w(this,ht,_i).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Qt).add(e),e.select(),w(this,ht,Za).call(this,e.propertiesToUpdate),w(this,ht,_i).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of d(this,Qt))t!==e&&t.unselect();d(this,Qt).clear(),d(this,Qt).add(e),e.select(),w(this,ht,Za).call(this,e.propertiesToUpdate),w(this,ht,_i).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,Qt).has(e)}get firstSelectedEditor(){return d(this,Qt).values().next().value}unselect(e){e.unselect(),d(this,Qt).delete(e),w(this,ht,_i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Qt).size!==0}get isEnterHandled(){return d(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Fn).undo(),w(this,ht,_i).call(this,{hasSomethingToUndo:d(this,Fn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,ht,Nh).call(this)})}redo(){d(this,Fn).redo(),w(this,ht,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Fn).hasSomethingToRedo(),isEmpty:w(this,ht,Nh).call(this)})}addCommands(e){d(this,Fn).add(e),w(this,ht,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,ht,Nh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...d(this,Qt)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)w(this,ht,zy).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=d(this,Qi))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,Qi)||this.hasSelection}selectAll(){for(const e of d(this,Qt))e.commit();w(this,ht,Iy).call(this,d(this,He).values())}unselectAll(){if(!(d(this,Qi)&&(d(this,Qi).commitOrRemove(),d(this,Ke)!==Dt.NONE))&&this.hasSelection){for(const e of d(this,Qt))e.unselect();d(this,Qt).clear(),w(this,ht,_i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,cr)[0]+=e,d(this,cr)[1]+=t;const[r,o]=d(this,cr),c=[...d(this,Qt)],h=1e3;d(this,cs)&&clearTimeout(d(this,cs)),E(this,cs,setTimeout(()=>{E(this,cs,null),d(this,cr)[0]=d(this,cr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},h));for(const f of c)f.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,rs,new Map);for(const e of d(this,Qt))d(this,rs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,rs))return!1;this.disableUserSelect(!1);const e=d(this,rs);E(this,rs,null);let t=!1;for(const[{x:r,y:o,pageIndex:c},h]of e)h.newX=r,h.newY=o,h.newPageIndex=c,t||(t=r!==h.savedX||o!==h.savedY||c!==h.savedPageIndex);if(!t)return!1;const n=(r,o,c,h)=>{if(d(this,He).has(r.id)){const f=d(this,ii).get(h);f?r._setParentAndPosition(f,o,c):(r.pageIndex=h,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:h}]of e)n(r,o,c,h)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:h}]of e)n(r,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(d(this,rs))for(const n of d(this,rs).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,Qi)===e}getActive(){return d(this,Qi)}getMode(){return d(this,Ke)}get imageManager(){return jt(this,"imageManager",new Ny)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,m=t.rangeCount;p<m;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:c}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,m,y,b)=>({x:(m-r)/c,y:1-(p+y-n)/o,width:b/c,height:y/o});break;case"180":h=(p,m,y,b)=>({x:1-(p+y-n)/o,y:1-(m+b-r)/c,width:y/o,height:b/c});break;case"270":h=(p,m,y,b)=>({x:1-(m+b-r)/c,y:(p-n)/o,width:b/c,height:y/o});break;default:h=(p,m,y,b)=>({x:(p-n)/o,y:(m-r)/c,width:y/o,height:b/c});break}const f=[];for(let p=0,m=t.rangeCount;p<m;p++){const y=t.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:A,width:S,height:x}of y.getClientRects())S===0||x===0||f.push(h(b,A,S,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:t}){(d(this,Lc)||E(this,Lc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=d(this,Lc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=d(this,Lc))==null?void 0:r.get(e.data.id);if(!t)return;const n=d(this,qs).getRawValue(t);n&&(d(this,Ke)===Dt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Rc=new WeakMap,Qi=new WeakMap,He=new WeakMap,ii=new WeakMap,Mc=new WeakMap,qs=new WeakMap,Lc=new WeakMap,Fn=new WeakMap,sr=new WeakMap,Dc=new WeakMap,bo=new WeakMap,rs=new WeakMap,Hn=new WeakMap,Ao=new WeakMap,ld=new WeakMap,cd=new WeakMap,Oc=new WeakMap,ud=new WeakMap,os=new WeakMap,ar=new WeakMap,Nc=new WeakMap,rr=new WeakMap,ls=new WeakMap,Yg=new WeakMap,or=new WeakMap,hd=new WeakMap,lr=new WeakMap,_o=new WeakMap,dd=new WeakMap,fd=new WeakMap,Ke=new WeakMap,Qt=new WeakMap,Xs=new WeakMap,So=new WeakMap,pd=new WeakMap,gd=new WeakMap,cr=new WeakMap,cs=new WeakMap,Ys=new WeakMap,md=new WeakMap,An=new WeakMap,ht=new WeakSet,eg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Py=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of d(this,ii).values())if(n.hasTextLayer(e))return n;return null},Cx=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=w(this,ht,eg).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(d(this,ls)||E(this,ls,new qO(this)),d(this,ls).show(n,r,this.direction==="ltr"))},Rx=function(){var o,c,h;const e=document.getSelection();if(!e||e.isCollapsed){d(this,Xs)&&((o=d(this,ls))==null||o.hide(),E(this,Xs,null),w(this,ht,_i).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===d(this,Xs))return;const r=w(this,ht,eg).call(this,e).closest(".textLayer");if(!r){d(this,Xs)&&((c=d(this,ls))==null||c.hide(),E(this,Xs,null),w(this,ht,_i).call(this,{hasSelectedText:!1}));return}if((h=d(this,ls))==null||h.hide(),E(this,Xs,t),w(this,ht,_i).call(this,{hasSelectedText:!0}),!(d(this,Ke)!==Dt.HIGHLIGHT&&d(this,Ke)!==Dt.NONE)&&(d(this,Ke)===Dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,rr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,Ke)===Dt.HIGHLIGHT?w(this,ht,Py).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),y=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&w(this,ht,ig).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},ig=function(e=""){d(this,Ke)===Dt.HIGHLIGHT?this.highlightSelection(e):d(this,ld)&&w(this,ht,Cx).call(this)},Mx=function(){document.addEventListener("selectionchange",w(this,ht,Rx).bind(this),{signal:this._signal})},Lx=function(){if(d(this,ar))return;E(this,ar,new AbortController);const e=this.combinedSignal(d(this,ar));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Dx=function(){var e;(e=d(this,ar))==null||e.abort(),E(this,ar,null)},Fy=function(){if(d(this,lr))return;E(this,lr,new AbortController);const e=this.combinedSignal(d(this,lr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Ox=function(){var e;(e=d(this,lr))==null||e.abort(),E(this,lr,null)},Hy=function(){if(d(this,sr))return;E(this,sr,new AbortController);const e=this.combinedSignal(d(this,sr));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},By=function(){var e;(e=d(this,sr))==null||e.abort(),E(this,sr,null)},Nx=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_i=function(e){Object.entries(e).some(([n,r])=>d(this,gd)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,gd),e)}),d(this,Ke)===Dt.HIGHLIGHT&&e.hasSelectedEditor===!1&&w(this,ht,Za).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},Za=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},kx=async function(){if(!d(this,or)){E(this,or,!0);const e=[];for(const t of d(this,ii).values())e.push(t.enable());await Promise.all(e);for(const t of d(this,He).values())t.enable()}},Px=function(){if(this.unselectAll(),d(this,or)){E(this,or,!1);for(const e of d(this,ii).values())e.disable();for(const e of d(this,He).values())e.disable()}},zy=function(e){const t=d(this,ii).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Fx=function(){let e=null;for(e of d(this,Qt));return e},Nh=function(){if(d(this,He).size===0)return!0;if(d(this,He).size===1)for(const e of d(this,He).values())return e.isEmpty();return!1},Iy=function(e){for(const t of d(this,Qt))t.unselect();d(this,Qt).clear();for(const t of e)t.isEmpty()||(d(this,Qt).add(t),t.select());w(this,ht,_i).call(this,{hasSelectedEditor:this.hasSelection})},xt(Ac,"TRANSLATE_SMALL",1),xt(Ac,"TRANSLATE_BIG",10);let fl=Ac;var $e,us,Bn,kc,hs,Zi,Pc,ds,Fi,Ks,Eo,fs,ur,Wn,kh,ng;const Si=class Si{constructor(e){C(this,Wn);C(this,$e,null);C(this,us,!1);C(this,Bn,null);C(this,kc,null);C(this,hs,null);C(this,Zi,null);C(this,Pc,!1);C(this,ds,null);C(this,Fi,null);C(this,Ks,null);C(this,Eo,null);C(this,fs,!1);E(this,Fi,e),E(this,fs,e._uiManager.useNewAltTextFlow),d(Si,ur)||E(Si,ur,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Si._l10n??(Si._l10n=e)}async render(){const e=E(this,Bn,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=E(this,kc,document.createElement("span"));e.append(t),d(this,fs)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(Si,ur).missing),t.setAttribute("data-l10n-id",d(Si,ur)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,Fi)._uiManager._signal;e.addEventListener("contextmenu",Mn,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),d(this,Fi)._uiManager.editAltText(d(this,Fi)),d(this,fs)&&d(this,Fi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Wn,kh)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(E(this,Pc,!0),r(o))},{signal:n}),await w(this,Wn,ng).call(this),e}finish(){d(this,Bn)&&(d(this,Bn).focus({focusVisible:d(this,Pc)}),E(this,Pc,!1))}isEmpty(){return d(this,fs)?d(this,$e)===null:!d(this,$e)&&!d(this,us)}hasData(){return d(this,fs)?d(this,$e)!==null||!!d(this,Ks):this.isEmpty()}get guessedText(){return d(this,Ks)}async setGuessedText(e){d(this,$e)===null&&(E(this,Ks,e),E(this,Eo,await Si._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),w(this,Wn,ng).call(this))}toggleAltTextBadge(e=!1){var t;if(!d(this,fs)||d(this,$e)){(t=d(this,ds))==null||t.remove(),E(this,ds,null);return}if(!d(this,ds)){const n=E(this,ds,document.createElement("div"));n.className="noAltTextBadge",d(this,Fi).div.append(n)}d(this,ds).classList.toggle("hidden",!e)}serialize(e){let t=d(this,$e);return!e&&d(this,Ks)===t&&(t=d(this,Eo)),{altText:t,decorative:d(this,us),guessedText:d(this,Ks),textWithDisclaimer:d(this,Eo)}}get data(){return{altText:d(this,$e),decorative:d(this,us)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(E(this,Ks,n),E(this,Eo,r)),!(d(this,$e)===e&&d(this,us)===t)&&(o||(E(this,$e,e),E(this,us,t)),w(this,Wn,ng).call(this))}toggle(e=!1){d(this,Bn)&&(!e&&d(this,Zi)&&(clearTimeout(d(this,Zi)),E(this,Zi,null)),d(this,Bn).disabled=!e)}shown(){d(this,Fi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Wn,kh)}})}destroy(){var e,t;(e=d(this,Bn))==null||e.remove(),E(this,Bn,null),E(this,kc,null),E(this,hs,null),(t=d(this,ds))==null||t.remove(),E(this,ds,null)}};$e=new WeakMap,us=new WeakMap,Bn=new WeakMap,kc=new WeakMap,hs=new WeakMap,Zi=new WeakMap,Pc=new WeakMap,ds=new WeakMap,Fi=new WeakMap,Ks=new WeakMap,Eo=new WeakMap,fs=new WeakMap,ur=new WeakMap,Wn=new WeakSet,kh=function(){return d(this,$e)&&"added"||d(this,$e)===null&&this.guessedText&&"review"||"missing"},ng=async function(){var r,o,c;const e=d(this,Bn);if(!e)return;if(d(this,fs)){if(e.classList.toggle("done",!!d(this,$e)),e.setAttribute("data-l10n-id",d(Si,ur)[d(this,Wn,kh)]),(r=d(this,kc))==null||r.setAttribute("data-l10n-id",d(Si,ur)[`${d(this,Wn,kh)}-label`]),!d(this,$e)){(o=d(this,hs))==null||o.remove();return}}else{if(!d(this,$e)&&!d(this,us)){e.classList.remove("done"),(c=d(this,hs))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=d(this,hs);if(!t){E(this,hs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${d(this,Fi).id}`;const h=100,f=d(this,Fi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,Zi)),E(this,Zi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{E(this,Zi,setTimeout(()=>{E(this,Zi,null),d(this,hs).classList.add("show"),d(this,Fi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),e.addEventListener("mouseleave",()=>{var p;d(this,Zi)&&(clearTimeout(d(this,Zi)),E(this,Zi,null)),(p=d(this,hs))==null||p.classList.remove("show")},{signal:f})}d(this,us)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=d(this,$e)),t.parentNode||e.append(t);const n=d(this,Fi).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},C(Si,ur,null),xt(Si,"_l10n",null);let zg=Si;var wo,zn,pe,Fc,xo,ni,To,hr,vd,Co,dr,yd,Ro,$s,ps,Hc,Bc,_n,bd,Kg,Ot,jy,Ad,Uy,Vy,Hx,Bx,Gy,qy,Xy,zx,Yy,Ix,jx,Ux,Ky,Ph;const Kt=class Kt{constructor(e){C(this,Ot);C(this,wo,null);C(this,zn,null);C(this,pe,null);C(this,Fc,!1);C(this,xo,!1);C(this,ni,null);C(this,To,null);C(this,hr,null);C(this,vd,"");C(this,Co,!1);C(this,dr,null);C(this,yd,!1);C(this,Ro,!1);C(this,$s,!1);C(this,ps,null);C(this,Hc,0);C(this,Bc,0);C(this,_n,null);xt(this,"_editToolbar",null);xt(this,"_initialOptions",Object.create(null));xt(this,"_initialData",null);xt(this,"_isVisible",!0);xt(this,"_uiManager",null);xt(this,"_focusEventsAllowed",!0);C(this,bd,!1);C(this,Kg,Kt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,c];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Kt.prototype._resizeWithKeyboard,t=fl.TRANSLATE_SMALL,n=fl.TRANSLATE_BIG;return jt(this,"_resizerKeyboardManager",new Sf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new $O({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Kt._l10n??(Kt._l10n=e),Kt._l10nResizer||(Kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Kt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ce("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,bd)}set _isDraggable(e){var t;E(this,bd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Kg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):w(this,Ot,Ph).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,Co)?E(this,Co,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/c,this.fixAndSetPosition()}translate(e,t){w(this,Ot,jy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){d(this,dr)||E(this,dr,[this.x,this.y]),w(this,Ot,jy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){d(this,dr)||E(this,dr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,f]=this.getBaseTranslation();o+=h,c+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,dr)&&(d(this,dr)[0]!==this.x||d(this,dr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Kt,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:o,width:c,height:h}=this;if(c*=t,h*=n,r*=t,o*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-c,r)),o=Math.max(0,Math.min(n-h,o));break;case 90:r=Math.max(0,Math.min(t-h,r)),o=Math.min(n,Math.max(c,o));break;case 180:r=Math.min(t,Math.max(c,r)),o=Math.min(n,Math.max(h,o));break;case 270:r=Math.min(t,Math.max(h,r)),o=Math.max(0,Math.min(n-c,o));break}this.x=r/=t,this.y=o/=n;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return w(n=Kt,Ad,Uy).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return w(n=Kt,Ad,Uy).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,d(this,xo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!d(this,xo)&&t.endsWith("%");if(r&&o)return;const[c,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!d(this,xo)&&!o&&(e.height=`${(100*parseFloat(t)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=d(this,pe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||d(this,Ro)?this._editToolbar:(this._editToolbar=new Dy(this),this.div.append(this._editToolbar.render()),d(this,pe)&&await this._editToolbar.addAltText(d(this,pe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=d(this,pe))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,pe)||(zg.initialize(Kt._l10n),E(this,pe,new zg(this)),d(this,wo)&&(d(this,pe).data=d(this,wo),E(this,wo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=d(this,pe))==null?void 0:e.data}set altTextData(e){d(this,pe)&&(d(this,pe).data=e)}get guessedAltText(){var e;return(e=d(this,pe))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=d(this,pe))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=d(this,pe))==null?void 0:t.serialize(e)}hasAltText(){return!!d(this,pe)&&!d(this,pe).isEmpty()}hasAltTextData(){var e;return((e=d(this,pe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Fc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Ot,Yy).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Bg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=wi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,Co,!0),this._isDraggable){w(this,Ot,zx).call(this,e);return}w(this,Ot,Xy).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,ps)&&clearTimeout(d(this,ps)),E(this,ps,setTimeout(()=>{var e;E(this,ps,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=e/r,m=t/r,y=this.x*o,b=this.y*c,A=this.width*o,S=this.height*c;switch(n){case 0:return[y+p+h,c-b-m-S+f,y+p+A+h,c-b-m+f];case 90:return[y+m+h,c-b+p+f,y+m+S+h,c-b+p+A+f];case 180:return[y-p-A+h,c-b+m+f,y-p+h,c-b+m+S+f];case 270:return[y-m-S+h,c-b-p-A+f,y-m+h,c-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,c]=e,h=o-n,f=c-r;switch(this.rotation){case 0:return[n,t-c,h,f];case 90:return[n,t-r,f,h];case 180:return[o,t-r,h,f];case 270:return[o,t-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,Ro,!0)}disableEditMode(){E(this,Ro,!1)}isInEditMode(){return d(this,Ro)}shouldGetKeyboardEvents(){return d(this,$s)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Ot,Yy).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ce("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,E(r,wo,e.accessibilityData);const[o,c]=r.pageDimensions,[h,f,p,m]=r.getRectInCurrentCoords(e.rect,c);return r.x=h/o,r.y=f/c,r.width=p/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=d(this,hr))==null||e.abort(),E(this,hr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,ps)&&(clearTimeout(d(this,ps)),E(this,ps,null)),w(this,Ot,Ph).call(this),this.removeEditToolbar(),d(this,_n)){for(const t of d(this,_n).values())clearTimeout(t);E(this,_n,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Ot,Hx).call(this),d(this,ni).classList.remove("hidden"),Bg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,To,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=d(this,ni).children;if(!d(this,zn)){E(this,zn,Array.from(t));const c=w(this,Ot,Ix).bind(this),h=w(this,Ot,jx).bind(this),f=this._uiManager._signal;for(const p of d(this,zn)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",w(this,Ot,Ux).bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",Kt._l10nResizer[m])}}const n=d(this,zn)[0];let r=0;for(const c of t){if(c===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(d(this,zn).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)d(this,ni).append(d(this,ni).firstChild);else if(o>r)for(let h=0;h<o-r;h++)d(this,ni).firstChild.before(d(this,ni).lastChild);let c=0;for(const h of t){const p=d(this,zn)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Kt._l10nResizer[p])}}w(this,Ot,Ky).call(this,0),E(this,$s,!0),d(this,ni).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){d(this,$s)&&w(this,Ot,qy).call(this,d(this,vd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){w(this,Ot,Ph).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=d(this,pe))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,o;(e=d(this,ni))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=d(this,pe))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,yd)}set isEditing(e){E(this,yd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,xo,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){d(this,_n)||E(this,_n,new Map);const{action:n}=e;let r=d(this,_n).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),d(this,_n).delete(n),d(this,_n).size===0&&E(this,_n,null)},Kt._telemetryTimeout),d(this,_n).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Fc,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Fc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};wo=new WeakMap,zn=new WeakMap,pe=new WeakMap,Fc=new WeakMap,xo=new WeakMap,ni=new WeakMap,To=new WeakMap,hr=new WeakMap,vd=new WeakMap,Co=new WeakMap,dr=new WeakMap,yd=new WeakMap,Ro=new WeakMap,$s=new WeakMap,ps=new WeakMap,Hc=new WeakMap,Bc=new WeakMap,_n=new WeakMap,bd=new WeakMap,Kg=new WeakMap,Ot=new WeakSet,jy=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},Ad=new WeakSet,Uy=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Vy=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},Hx=function(){if(d(this,ni))return;E(this,ni,document.createElement("div")),d(this,ni).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");d(this,ni).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",w(this,Ot,Bx).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Mn,{signal:t}),r.tabIndex=-1}this.div.prepend(d(this,ni))},Bx=function(e,t){var S;t.preventDefault();const{isMac:n}=wi.platform;if(t.button!==0||t.ctrlKey&&n)return;(S=d(this,pe))==null||S.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Ot,qy).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Mn,{signal:c});const h=this.x,f=this.y,p=this.width,m=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var x;o.abort(),this.parent.togglePointerEvents(!0),(x=d(this,pe))==null||x.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=b,w(this,Ot,Gy).call(this,h,f,p,m)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})},Gy=function(e,t,n,r){const o=this.x,c=this.y,h=this.width,f=this.height;o===e&&c===t&&h===n&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=o,this.y=c;const[p,m]=this.parentDimensions;this.setDims(p*h,m*f),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[p,m]=this.parentDimensions;this.setDims(p*n,m*r),this.fixAndSetPosition()},mustExec:!0})},qy=function(e,t){const[n,r]=this.parentDimensions,o=this.x,c=this.y,h=this.width,f=this.height,p=Kt.MIN_SIZE/n,m=Kt.MIN_SIZE/r,y=Y=>Math.round(Y*1e4)/1e4,b=w(this,Ot,Vy).call(this,this.rotation),A=(Y,Z)=>[b[0]*Y+b[2]*Z,b[1]*Y+b[3]*Z],S=w(this,Ot,Vy).call(this,360-this.rotation),x=(Y,Z)=>[S[0]*Y+S[2]*Z,S[1]*Y+S[3]*Z];let M,R,k=!1,O=!1;switch(e){case"topLeft":k=!0,M=(Y,Z)=>[0,0],R=(Y,Z)=>[Y,Z];break;case"topMiddle":M=(Y,Z)=>[Y/2,0],R=(Y,Z)=>[Y/2,Z];break;case"topRight":k=!0,M=(Y,Z)=>[Y,0],R=(Y,Z)=>[0,Z];break;case"middleRight":O=!0,M=(Y,Z)=>[Y,Z/2],R=(Y,Z)=>[0,Z/2];break;case"bottomRight":k=!0,M=(Y,Z)=>[Y,Z],R=(Y,Z)=>[0,0];break;case"bottomMiddle":M=(Y,Z)=>[Y/2,Z],R=(Y,Z)=>[Y/2,0];break;case"bottomLeft":k=!0,M=(Y,Z)=>[0,Z],R=(Y,Z)=>[Y,0];break;case"middleLeft":O=!0,M=(Y,Z)=>[0,Z/2],R=(Y,Z)=>[Y,Z/2];break}const P=M(h,f),I=R(h,f);let N=A(...I);const V=y(o+N[0]),F=y(c+N[1]);let j=1,at=1,[et,nt]=this.screenToPageTranslation(t.movementX,t.movementY);if([et,nt]=x(et/n,nt/r),k){const Y=Math.hypot(h,f);j=at=Math.max(Math.min(Math.hypot(I[0]-P[0]-et,I[1]-P[1]-nt)/Y,1/h,1/f),p/h,m/f)}else O?j=Math.max(p,Math.min(1,Math.abs(I[0]-P[0]-et)))/h:at=Math.max(m,Math.min(1,Math.abs(I[1]-P[1]-nt)))/f;const rt=y(h*j),dt=y(f*at);N=A(...R(rt,dt));const lt=V-N[0],B=F-N[1];this.width=rt,this.height=dt,this.x=lt,this.y=B,this.setDims(n*rt,r*dt),this.fixAndSetPosition()},Xy=function(e){const{isMac:t}=wi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},zx=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),E(this,Hc,e.clientX),E(this,Bc,e.clientY);const c=h=>{const{clientX:f,clientY:p}=h,[m,y]=this.screenToPageTranslation(f-d(this,Hc),p-d(this,Bc));E(this,Hc,f),E(this,Bc,p),this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),E(this,Co,!1),this._uiManager.endDragSession()||w(this,Ot,Xy).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Yy=function(){if(d(this,hr)||!this.div)return;E(this,hr,new AbortController);const e=this._uiManager.combinedSignal(d(this,hr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Ix=function(e){Kt._resizerKeyboardManager.exec(this,e)},jx=function(e){var t;d(this,$s)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==d(this,ni)&&w(this,Ot,Ph).call(this)},Ux=function(e){E(this,vd,d(this,$s)?e:"")},Ky=function(e){if(d(this,zn))for(const t of d(this,zn))t.tabIndex=e},Ph=function(){if(E(this,$s,!1),w(this,Ot,Ky).call(this,-1),d(this,To)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=d(this,To);w(this,Ot,Gy).call(this,e,t,n,r),E(this,To,null)}},C(Kt,Ad),xt(Kt,"_l10n",null),xt(Kt,"_l10nResizer",null),xt(Kt,"_borderLineWidth",-1),xt(Kt,"_colorManager",new ky),xt(Kt,"_zIndex",1),xt(Kt,"_telemetryTimeout",1e3);let Jt=Kt;class $O extends Jt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const JE=3285377520,yn=4294901760,as=65535;class Vx{constructor(e){this.h1=e?e&4294967295:JE,this.h2=e?e&4294967295:JE}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,M=e.length;x<M;x++){const R=e.charCodeAt(x);R<=255?t[n++]=R:(t[n++]=R>>>8,t[n++]=R&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,c=new Uint32Array(t.buffer,0,r);let h=0,f=0,p=this.h1,m=this.h2;const y=3432918353,b=461845907,A=y&as,S=b&as;for(let x=0;x<r;x++)x&1?(h=c[x],h=h*y&yn|h*A&as,h=h<<15|h>>>17,h=h*b&yn|h*S&as,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[x],f=f*y&yn|f*A&as,f=f<<15|f>>>17,f=f*b&yn|f*S&as,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,o){case 3:h^=t[r*4+2]<<16;case 2:h^=t[r*4+1]<<8;case 1:h^=t[r*4],h=h*y&yn|h*A&as,h=h<<15|h>>>17,h=h*b&yn|h*S&as,r&1?p^=h:m^=h}this.h1=p,this.h2=m}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&yn|e*36045&as,t=t*4283543511&yn|((t<<16|e>>>16)*2950163797&yn)>>>16,e^=t>>>1,e=e*444984403&yn|e*60499&as,t=t*3301882366&yn|((t<<16|e>>>16)*3120437893&yn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const $y=Object.freeze({map:null,hash:"",transfer:void 0});var Mo,Lo,We,$g,Gx;class cA{constructor(){C(this,$g);C(this,Mo,!1);C(this,Lo,null);C(this,We,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=d(this,We).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return d(this,We).get(e)}remove(e){if(d(this,We).delete(e),d(this,We).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of d(this,We).values())if(t instanceof Jt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=d(this,We).get(e);let r=!1;if(n!==void 0)for(const[o,c]of Object.entries(t))n[o]!==c&&(r=!0,n[o]=c);else r=!0,d(this,We).set(e,t);r&&w(this,$g,Gx).call(this),t instanceof Jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return d(this,We).has(e)}getAll(){return d(this,We).size>0?nA(d(this,We)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return d(this,We).size}resetModified(){d(this,Mo)&&(E(this,Mo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qx(this)}get serializable(){if(d(this,We).size===0)return $y;const e=new Map,t=new Vx,n=[],r=Object.create(null);let o=!1;for(const[c,h]of d(this,We)){const f=h instanceof Jt?h.serialize(!1,r):h;f&&(e.set(c,f),t.update(`${c}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const c of e.values())c.bitmap&&n.push(c.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:$y}get editorStats(){let e=null;const t=new Map;for(const n of d(this,We).values()){if(!(n instanceof Jt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const c=e[o]||(e[o]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){E(this,Lo,null)}get modifiedIds(){if(d(this,Lo))return d(this,Lo);const e=[];for(const t of d(this,We).values())!(t instanceof Jt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return E(this,Lo,{ids:new Set(e),hash:e.join(",")})}}Mo=new WeakMap,Lo=new WeakMap,We=new WeakMap,$g=new WeakSet,Gx=function(){d(this,Mo)||(E(this,Mo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _d;class qx extends cA{constructor(t){super();C(this,_d);const{map:n,hash:r,transfer:o}=t.serializable,c=structuredClone(n,o?{transfer:o}:null);E(this,_d,{map:c,hash:r,transfer:o})}get print(){ce("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,_d)}get modifiedIds(){return jt(this,"modifiedIds",{ids:new Set,hash:""})}}_d=new WeakMap;var zc;class WO{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,zc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,zc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||d(this,zc).has(e.loadedName))){if(Ie(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:o}=e,c=new FontFace(n,r,o);this.addNativeFontFace(c);try{await c.load(),d(this,zc).add(n),t==null||t(e)}catch{Pt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ce("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Pt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(yi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),jt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ie(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(P,I){return P.charCodeAt(I)<<24|P.charCodeAt(I+1)<<16|P.charCodeAt(I+2)<<8|P.charCodeAt(I+3)&255}function r(P,I,N,V){const F=P.substring(0,I),j=P.substring(I+N);return F+V+j}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function m(P,I){if(++p>30){Pt("Load test font never loaded."),I();return}if(f.font="30px "+P,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(m.bind(null,P,I))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const S=16,x=1482184792;let M=n(b,S);for(o=0,c=y.length-3;o<c;o+=4)M=M-x+n(y,o)|0;o<y.length&&(M=M-x+n(y+"XXX",o)|0),b=r(b,S,4,kO(M));const R=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${y}";src:${R}}`;this.insertRule(k);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const P of[e.loadedName,y]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=P,O.append(I)}this._document.body.append(O),m(y,()=>{O.remove(),t.complete()})}}zc=new WeakMap;class QO{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${IO(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Pt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,c){};const r=[];for(let o=0,c=n.length;o<c;)switch(n[o++]){case Is.BEZIER_CURVE_TO:{const[h,f,p,m,y,b]=n.slice(o,o+6);r.push(A=>A.bezierCurveTo(h,f,p,m,y,b)),o+=6}break;case Is.MOVE_TO:{const[h,f]=n.slice(o,o+2);r.push(p=>p.moveTo(h,f)),o+=2}break;case Is.LINE_TO:{const[h,f]=n.slice(o,o+2);r.push(p=>p.lineTo(h,f)),o+=2}break;case Is.QUADRATIC_CURVE_TO:{const[h,f,p,m]=n.slice(o,o+4);r.push(y=>y.quadraticCurveTo(h,f,p,m)),o+=4}break;case Is.RESTORE:r.push(h=>h.restore());break;case Is.SAVE:r.push(h=>h.save());break;case Is.SCALE:Ie(r.length===2,"Scale command is only valid at the third position.");break;case Is.TRANSFORM:{const[h,f,p,m,y,b]=n.slice(o,o+6);r.push(A=>A.transform(h,f,p,m,y,b)),o+=6}break;case Is.TRANSLATE:{const[h,f]=n.slice(o,o+2);r.push(p=>p.translate(h,f)),o+=2}break}return this.compiledGlyphs[t]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}var Sd;class Xx{constructor({enableHWA:e=!1}){C(this,Sd,!1);E(this,Sd,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,Sd)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ce("Abstract method `_createCanvas` called.")}}Sd=new WeakMap;class ZO extends Xx{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Yx{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ce("Abstract method `_fetch` called.")}}class Kx extends Yx{async _fetch(e){const t=await _m(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Am(t)}}class $x{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var Do,Oo,gs,Ws,gi,Wg,No,pt,fi,lc,cc,sg,uc,Wx,Wy,hc,Fh,Hh,Qy,Bh;class JO extends $x{constructor({docId:t,ownerDocument:n=globalThis.document}){super();C(this,pt);C(this,Do);C(this,Oo);C(this,gs);C(this,Ws);C(this,gi);C(this,Wg);C(this,No,0);E(this,Ws,t),E(this,gi,n)}addFilter(t){if(!t)return"none";let n=d(this,pt,fi).get(t);if(n)return n;const[r,o,c]=w(this,pt,sg).call(this,t),h=t.length===1?r:`${r}${o}${c}`;if(n=d(this,pt,fi).get(h),n)return d(this,pt,fi).set(t,n),n;const f=`g_${d(this,Ws)}_transfer_map_${Ai(this,No)._++}`,p=w(this,pt,uc).call(this,f);d(this,pt,fi).set(t,p),d(this,pt,fi).set(h,p);const m=w(this,pt,hc).call(this,f);return w(this,pt,Hh).call(this,r,o,c,m),p}addHCMFilter(t,n){var S;const r=`${t}-${n}`,o="base";let c=d(this,pt,lc).get(o);if((c==null?void 0:c.key)===r||(c?((S=c.filter)==null||S.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},d(this,pt,lc).set(o,c)),!t||!n))return c.url;const h=w(this,pt,Bh).call(this,t);t=yt.makeHexColor(...h);const f=w(this,pt,Bh).call(this,n);if(n=yt.makeHexColor(...f),d(this,pt,cc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return c.url;const p=new Array(256);for(let x=0;x<=255;x++){const M=x/255;p[x]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),y=`g_${d(this,Ws)}_hcm_filter`,b=c.filter=w(this,pt,hc).call(this,y);w(this,pt,Hh).call(this,m,m,m,b),w(this,pt,Wy).call(this,b);const A=(x,M)=>{const R=h[x]/255,k=f[x]/255,O=new Array(M+1);for(let P=0;P<=M;P++)O[P]=R+P/M*(k-R);return O.join(",")};return w(this,pt,Hh).call(this,A(0,5),A(1,5),A(2,5),b),c.url=w(this,pt,uc).call(this,y),c.url}addAlphaFilter(t){let n=d(this,pt,fi).get(t);if(n)return n;const[r]=w(this,pt,sg).call(this,[t]),o=`alpha_${r}`;if(n=d(this,pt,fi).get(o),n)return d(this,pt,fi).set(t,n),n;const c=`g_${d(this,Ws)}_alpha_map_${Ai(this,No)._++}`,h=w(this,pt,uc).call(this,c);d(this,pt,fi).set(t,h),d(this,pt,fi).set(o,h);const f=w(this,pt,hc).call(this,c);return w(this,pt,Qy).call(this,r,f),h}addLuminosityFilter(t){let n=d(this,pt,fi).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=w(this,pt,sg).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=d(this,pt,fi).get(o),n)return d(this,pt,fi).set(t,n),n;const c=`g_${d(this,Ws)}_luminosity_map_${Ai(this,No)._++}`,h=w(this,pt,uc).call(this,c);d(this,pt,fi).set(t,h),d(this,pt,fi).set(o,h);const f=w(this,pt,hc).call(this,c);return w(this,pt,Wx).call(this,f),t&&w(this,pt,Qy).call(this,r,f),h}addHighlightHCMFilter(t,n,r,o,c){var k;const h=`${n}-${r}-${o}-${c}`;let f=d(this,pt,lc).get(t);if((f==null?void 0:f.key)===h||(f?((k=f.filter)==null||k.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,pt,lc).set(t,f)),!n||!r))return f.url;const[p,m]=[n,r].map(w(this,pt,Bh).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[o,c].map(w(this,pt,Bh).bind(this));b<y&&([y,b,A,S]=[b,y,S,A]),d(this,pt,cc).style.color="";const x=(O,P,I)=>{const N=new Array(256),V=(b-y)/I,F=O/255,j=(P-O)/(255*I);let at=0;for(let et=0;et<=I;et++){const nt=Math.round(y+et*V),rt=F+et*j;for(let dt=at;dt<=nt;dt++)N[dt]=rt;at=nt+1}for(let et=at;et<256;et++)N[et]=N[at-1];return N.join(",")},M=`g_${d(this,Ws)}_hcm_${t}_filter`,R=f.filter=w(this,pt,hc).call(this,M);return w(this,pt,Wy).call(this,R),w(this,pt,Hh).call(this,x(A[0],S[0],5),x(A[1],S[1],5),x(A[2],S[2],5),R),f.url=w(this,pt,uc).call(this,M),f.url}destroy(t=!1){t&&d(this,pt,lc).size!==0||(d(this,gs)&&(d(this,gs).parentNode.parentNode.remove(),E(this,gs,null)),d(this,Oo)&&(d(this,Oo).clear(),E(this,Oo,null)),E(this,No,0))}}Do=new WeakMap,Oo=new WeakMap,gs=new WeakMap,Ws=new WeakMap,gi=new WeakMap,Wg=new WeakMap,No=new WeakMap,pt=new WeakSet,fi=function(){return d(this,Oo)||E(this,Oo,new Map)},lc=function(){return d(this,Wg)||E(this,Wg,new Map)},cc=function(){if(!d(this,gs)){const t=d(this,gi).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=d(this,gi).createElementNS(Us,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,gs,d(this,gi).createElementNS(Us,"defs")),t.append(r),r.append(d(this,gs)),d(this,gi).body.append(t)}return d(this,gs)},sg=function(t){if(t.length===1){const p=t[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=p[b]/255;const y=m.join(",");return[y,y,y]}const[n,r,o]=t,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=n[p]/255,h[p]=r[p]/255,f[p]=o[p]/255;return[c.join(","),h.join(","),f.join(",")]},uc=function(t){if(d(this,Do)===void 0){E(this,Do,"");const n=d(this,gi).URL;n!==d(this,gi).baseURI&&(Sm(n)?Pt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,Do,n.split("#",1)[0]))}return`url(${d(this,Do)}#${t})`},Wx=function(t){const n=d(this,gi).createElementNS(Us,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Wy=function(t){const n=d(this,gi).createElementNS(Us,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},hc=function(t){const n=d(this,gi).createElementNS(Us,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),d(this,pt,cc).append(n),n},Fh=function(t,n,r){const o=d(this,gi).createElementNS(Us,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Hh=function(t,n,r,o){const c=d(this,gi).createElementNS(Us,"feComponentTransfer");o.append(c),w(this,pt,Fh).call(this,c,"feFuncR",t),w(this,pt,Fh).call(this,c,"feFuncG",n),w(this,pt,Fh).call(this,c,"feFuncB",r)},Qy=function(t,n){const r=d(this,gi).createElementNS(Us,"feComponentTransfer");n.append(r),w(this,pt,Fh).call(this,r,"feFuncA",t)},Bh=function(t){return d(this,pt,cc).style.color=t,lA(getComputedStyle(d(this,pt,cc)).getPropertyValue("color"))};class Qx{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ce("Abstract method `_fetch` called.")}}class Zx extends Qx{async _fetch(e){const t=await _m(e,"arraybuffer");return new Uint8Array(t)}}if(yi){var Zy=Promise.withResolvers(),Wh=null;(async()=>{const e=await Mr(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Mr(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Mr(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Mr(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:o,path2d:c}))})().then(e=>{Wh=e,Zy.resolve()},e=>{Pt(`loadPackages: ${e}`),Wh=new Map,Zy.resolve()})}class Nr{static get promise(){return Zy.promise}static get(e){return Wh==null?void 0:Wh.get(e)}}async function Jx(l){const t=await Nr.get("fs").promises.readFile(l);return new Uint8Array(t)}class t3 extends $x{}class e3 extends Xx{_createCanvas(e,t){return Nr.get("canvas").createCanvas(e,t)}}class i3 extends Yx{async _fetch(e){return Jx(e)}}class n3 extends Qx{async _fetch(e){return Jx(e)}}const Ei={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Jy(l,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),l.clip(r)}class uA{getPattern(){ce("Abstract method `getPattern` called.")}}class s3 extends uA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===Ei.STROKE||r===Ei.FILL){const c=t.current.getClippedPathBoundingBox(r,me(e))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=t.cachedCanvases.getCanvas("pattern",h,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),n=yt.transform(n,[1,0,0,1,c[0],c[1]]),m.transform(...t.baseTransform),this.matrix&&m.transform(...this.matrix),Jy(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=e.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);o.setTransform(y)}else Jy(e,this._bbox),o=this._createGradient(e);return o}}function py(l,e,t,n,r,o,c,h){const f=e.coords,p=e.colors,m=l.data,y=l.width*4;let b;f[t+1]>f[n+1]&&(b=t,t=n,n=b,b=o,o=c,c=b),f[n+1]>f[r+1]&&(b=n,n=r,r=b,b=c,c=h,h=b),f[t+1]>f[n+1]&&(b=t,t=n,n=b,b=o,o=c,c=b);const A=(f[t]+e.offsetX)*e.scaleX,S=(f[t+1]+e.offsetY)*e.scaleY,x=(f[n]+e.offsetX)*e.scaleX,M=(f[n+1]+e.offsetY)*e.scaleY,R=(f[r]+e.offsetX)*e.scaleX,k=(f[r+1]+e.offsetY)*e.scaleY;if(S>=k)return;const O=p[o],P=p[o+1],I=p[o+2],N=p[c],V=p[c+1],F=p[c+2],j=p[h],at=p[h+1],et=p[h+2],nt=Math.round(S),rt=Math.round(k);let dt,lt,B,Y,Z,bt,L,$;for(let st=nt;st<=rt;st++){if(st<M){const vt=st<S?0:(S-st)/(S-M);dt=A-(A-x)*vt,lt=O-(O-N)*vt,B=P-(P-V)*vt,Y=I-(I-F)*vt}else{let vt;st>k?vt=1:M===k?vt=0:vt=(M-st)/(M-k),dt=x-(x-R)*vt,lt=N-(N-j)*vt,B=V-(V-at)*vt,Y=F-(F-et)*vt}let Q;st<S?Q=0:st>k?Q=1:Q=(S-st)/(S-k),Z=A-(A-R)*Q,bt=O-(O-j)*Q,L=P-(P-at)*Q,$=I-(I-et)*Q;const ot=Math.round(Math.min(dt,Z)),ft=Math.round(Math.max(dt,Z));let ct=y*st+ot*4;for(let vt=ot;vt<=ft;vt++)Q=(dt-vt)/(dt-Z),Q<0?Q=0:Q>1&&(Q=1),m[ct++]=lt-(lt-bt)*Q|0,m[ct++]=B-(B-L)*Q|0,m[ct++]=Y-(Y-$)*Q|0,m[ct++]=255}}function a3(l,e,t){const n=e.coords,r=e.colors;let o,c;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(n.length/h)-1,p=h-1;for(o=0;o<f;o++){let m=o*h;for(let y=0;y<p;y++,m++)py(l,t,n[m],n[m+1],n[m+h],r[m],r[m+1],r[m+h]),py(l,t,n[m+h+1],n[m+1],n[m+h],r[m+h+1],r[m+1],r[m+h])}break;case"triangles":for(o=0,c=n.length;o<c;o+=3)py(l,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class r3 extends uA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*e[1]*1.1)),3e3),A=p/y,S=m/b,x={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/S},M=y+2*2,R=b+2*2,k=n.getCanvas("mesh",M,R),O=k.context,P=O.createImageData(y,b);if(t){const N=P.data;for(let V=0,F=N.length;V<F;V+=4)N[V]=t[0],N[V+1]=t[1],N[V+2]=t[2],N[V+3]=255}for(const N of this._figures)a3(P,N,x);return O.putImageData(P,2,2),{canvas:k.canvas,offsetX:h-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(e,t,n,r){Jy(e,this._bbox);let o;if(r===Ei.SHADING)o=yt.singularValueDecompose2dScale(me(e));else if(o=yt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const h=yt.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const c=this._createMeshCanvas(o,r===Ei.SHADING?null:this._background,t.cachedCanvases);return r!==Ei.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class o3 extends uA{getPattern(){return"hotpink"}}function l3(l){switch(l[0]){case"RadialAxial":return new s3(l);case"Mesh":return new r3(l);case"Dummy":return new o3}throw new Error(`Unknown IR type: ${l[0]}`)}const tw={COLORED:1,UNCOLORED:2},Qg=class Qg{constructor(e,t,n,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),ym("TilingType: "+o);const m=t[0],y=t[1],b=t[2],A=t[3],S=b-m,x=A-y,M=yt.singularValueDecompose2dScale(this.matrix),R=yt.singularValueDecompose2dScale(this.baseTransform),k=M[0]*R[0],O=M[1]*R[1];let P=S,I=x,N=!1,V=!1;const F=Math.ceil(f*k),j=Math.ceil(p*O),at=Math.ceil(S*k),et=Math.ceil(x*O);F>=at?P=f:N=!0,j>=et?I=p:V=!0;const nt=this.getSizeAndScale(P,this.ctx.canvas.width,k),rt=this.getSizeAndScale(I,this.ctx.canvas.height,O),dt=e.cachedCanvases.getCanvas("pattern",nt.size,rt.size),lt=dt.context,B=h.createCanvasGraphics(lt);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),lt.translate(-nt.scale*m,-rt.scale*y),B.transform(nt.scale,0,0,rt.scale,0,0),lt.save(),this.clipBbox(B,m,y,b,A),B.baseTransform=me(B.ctx),B.executeOperatorList(n),B.endDrawing(),lt.restore(),N||V){const Y=dt.canvas;N&&(P=f),V&&(I=p);const Z=this.getSizeAndScale(P,this.ctx.canvas.width,k),bt=this.getSizeAndScale(I,this.ctx.canvas.height,O),L=Z.size,$=bt.size,st=e.cachedCanvases.getCanvas("pattern-workaround",L,$),Q=st.context,ot=N?Math.floor(S/f):0,ft=V?Math.floor(x/p):0;for(let ct=0;ct<=ot;ct++)for(let vt=0;vt<=ft;vt++)Q.drawImage(Y,L*ct,$*vt,L,$,0,0,L,$);return{canvas:st.canvas,scaleX:Z.scale,scaleY:bt.scale,offsetX:m,offsetY:y}}return{canvas:dt.canvas,scaleX:nt.scale,scaleY:rt.scale,offsetX:m,offsetY:y}}getSizeAndScale(e,t,n){const r=Math.max(Qg.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const c=r-t,h=o-n;e.ctx.rect(t,n,c,h),e.current.updateRectMinMax(me(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case tw.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case tw.UNCOLORED:const h=yt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new NO(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let o=n;r!==Ei.SHADING&&(o=yt.transform(o,t.baseTransform),this.matrix&&(o=yt.transform(o,this.matrix)));const c=this.createPatternCanvas(t);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};xt(Qg,"MAX_PATTERN_SIZE",3e3);let tb=Qg;function c3({src:l,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=wi.isLittleEndian?4278190080:255,[f,p]=c?[o,h]:[h,o],m=n>>3,y=n&7,b=l.length;t=new Uint32Array(t.buffer);let A=0;for(let S=0;S<r;S++){for(const M=e+m;e<M;e++){const R=e<b?l[e]:255;t[A++]=R&128?p:f,t[A++]=R&64?p:f,t[A++]=R&32?p:f,t[A++]=R&16?p:f,t[A++]=R&8?p:f,t[A++]=R&4?p:f,t[A++]=R&2?p:f,t[A++]=R&1?p:f}if(y===0)continue;const x=e<b?l[e++]:255;for(let M=0;M<y;M++)t[A++]=x&1<<7-M?p:f}return{srcPos:e,destPos:A}}const ew=16,iw=100,u3=15,nw=10,sw=1e3,zi=16;function h3(l,e){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){e.save(),this.__originalSave()},l.restore=function(){e.restore(),this.__originalRestore()},l.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},l.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},l.transform=function(n,r,o,c,h,f){e.transform(n,r,o,c,h,f),this.__originalTransform(n,r,o,c,h,f)},l.setTransform=function(n,r,o,c,h,f){e.setTransform(n,r,o,c,h,f),this.__originalSetTransform(n,r,o,c,h,f)},l.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},l.rotate=function(n){e.rotate(n),this.__originalRotate(n)},l.clip=function(n){e.clip(n),this.__originalClip(n)},l.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},l.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},l.bezierCurveTo=function(t,n,r,o,c,h){e.bezierCurveTo(t,n,r,o,c,h),this.__originalBezierCurveTo(t,n,r,o,c,h)},l.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},l.closePath=function(){e.closePath(),this.__originalClosePath()},l.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class d3{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Vp(l,e,t,n,r,o,c,h,f,p){const[m,y,b,A,S,x]=me(l);if(y===0&&b===0){const k=c*m+S,O=Math.round(k),P=h*A+x,I=Math.round(P),N=(c+f)*m+S,V=Math.abs(Math.round(N)-O)||1,F=(h+p)*A+x,j=Math.abs(Math.round(F)-I)||1;return l.setTransform(Math.sign(m),0,0,Math.sign(A),O,I),l.drawImage(e,t,n,r,o,0,0,V,j),l.setTransform(m,y,b,A,S,x),[V,j]}if(m===0&&A===0){const k=h*b+S,O=Math.round(k),P=c*y+x,I=Math.round(P),N=(h+p)*b+S,V=Math.abs(Math.round(N)-O)||1,F=(c+f)*y+x,j=Math.abs(Math.round(F)-I)||1;return l.setTransform(0,Math.sign(y),Math.sign(b),0,O,I),l.drawImage(e,t,n,r,o,0,0,j,V),l.setTransform(m,y,b,A,S,x),[j,V]}l.drawImage(e,t,n,r,o,c,h,f,p);const M=Math.hypot(m,y),R=Math.hypot(b,A);return[M*f,R*p]}function f3(l){const{width:e,height:t}=l;if(e>sw||t>sw)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let c=new Uint8Array(o*(t+1)),h,f,p;const m=e+7&-8;let y=new Uint8Array(m*t),b=0;for(const R of l.data){let k=128;for(;k>0;)y[b++]=R&k?0:255,k>>=1}let A=0;for(b=0,y[b]!==0&&(c[0]=1,++A),f=1;f<e;f++)y[b]!==y[b+1]&&(c[f]=y[b]?2:1,++A),b++;for(y[b]!==0&&(c[f]=2,++A),h=1;h<t;h++){b=h*m,p=h*o,y[b-m]!==y[b]&&(c[p]=y[b]?1:8,++A);let R=(y[b]?4:0)+(y[b-m]?8:0);for(f=1;f<e;f++)R=(R>>2)+(y[b+1]?4:0)+(y[b-m+1]?8:0),r[R]&&(c[p+f]=r[R],++A),b++;if(y[b-m]!==y[b]&&(c[p+f]=y[b]?2:4,++A),A>n)return null}for(b=m*(t-1),p=h*o,y[b]!==0&&(c[p]=8,++A),f=1;f<e;f++)y[b]!==y[b+1]&&(c[p+f]=y[b]?4:8,++A),b++;if(y[b]!==0&&(c[p+f]=4,++A),A>n)return null;const S=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(h=0;A&&h<=t;h++){let R=h*o;const k=R+e;for(;R<k&&!c[R];)R++;if(R===k)continue;x.moveTo(R%o,h);const O=R;let P=c[R];do{const I=S[P];do R+=I;while(!c[R]);const N=c[R];N!==5&&N!==10?(P=N,c[R]=0):(P=N&51*P>>4,c[R]&=P>>2|P<<2),x.lineTo(R%o,R/o|0),c[R]||--A}while(O!==R);--h}return y=null,c=null,function(R){R.save(),R.scale(1/e,-1/t),R.translate(0,-t),R.fill(x),R.beginPath(),R.restore()}}class aw{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=mx,this.textMatrixScale=1,this.fontMatrix=Ty,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=di.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=yt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=yt.applyTransform(t,e),r=yt.applyTransform(t.slice(2),e),o=yt.applyTransform([t[0],t[3]],e),c=yt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,n[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,n[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,n[1],r[1],o[1],c[1])}updateScalingPathMinMax(e,t){yt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,c,h,f,p,m){const y=yt.bezierBoundingBox(t,n,r,o,c,h,f,p,m);m||this.updateRectMinMax(e,y)}getPathBoundingBox(e=Ei.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ei.STROKE){t||ce("Stroke bounding box must include transform.");const r=yt.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;n[0]-=o,n[1]-=c,n[2]+=o,n[3]+=c}return n}updateClipFromPath(){const e=yt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ei.FILL,t=null){return yt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function rw(l,e){if(typeof ImageData<"u"&&e instanceof ImageData){l.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%zi,o=(t-r)/zi,c=r===0?o:o+1,h=l.createImageData(n,zi);let f=0,p;const m=e.data,y=h.data;let b,A,S,x;if(e.kind===Qp.GRAYSCALE_1BPP){const M=m.byteLength,R=new Uint32Array(y.buffer,0,y.byteLength>>2),k=R.length,O=n+7>>3,P=4294967295,I=wi.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(S=b<o?zi:r,p=0,A=0;A<S;A++){const N=M-f;let V=0;const F=N>O?n:N*8-7,j=F&-8;let at=0,et=0;for(;V<j;V+=8)et=m[f++],R[p++]=et&128?P:I,R[p++]=et&64?P:I,R[p++]=et&32?P:I,R[p++]=et&16?P:I,R[p++]=et&8?P:I,R[p++]=et&4?P:I,R[p++]=et&2?P:I,R[p++]=et&1?P:I;for(;V<F;V++)at===0&&(et=m[f++],at=128),R[p++]=et&at?P:I,at>>=1}for(;p<k;)R[p++]=0;l.putImageData(h,0,b*zi)}}else if(e.kind===Qp.RGBA_32BPP){for(A=0,x=n*zi*4,b=0;b<o;b++)y.set(m.subarray(f,f+x)),f+=x,l.putImageData(h,0,A),A+=zi;b<c&&(x=n*r*4,y.set(m.subarray(f,f+x)),l.putImageData(h,0,A))}else if(e.kind===Qp.RGB_24BPP)for(S=zi,x=n*S,b=0;b<c;b++){for(b>=o&&(S=r,x=n*S),p=0,A=x;A--;)y[p++]=m[f++],y[p++]=m[f++],y[p++]=m[f++],y[p++]=255;l.putImageData(h,0,b*zi)}else throw new Error(`bad image kind: ${e.kind}`)}function ow(l,e){if(e.bitmap){l.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%zi,o=(t-r)/zi,c=r===0?o:o+1,h=l.createImageData(n,zi);let f=0;const p=e.data,m=h.data;for(let y=0;y<c;y++){const b=y<o?zi:r;({srcPos:f}=c3({src:p,srcPos:f,dest:m,width:n,height:b,nonBlackColor:0})),l.putImageData(h,0,y*zi)}}function Ch(l,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)l[n]!==void 0&&(e[n]=l[n]);l.setLineDash!==void 0&&(e.setLineDash(l.getLineDash()),e.lineDashOffset=l.lineDashOffset)}function Gp(l){if(l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0),!yi){const{filter:e}=l;e!=="none"&&e!==""&&(l.filter="none")}}function lw(l,e){if(e)return!0;const t=yt.singularValueDecompose2dScale(l);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Or.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const p3=["butt","round","square"],g3=["miter","round","bevel"],m3={},cw={};var Pr,eb,ib;const vA=class vA{constructor(e,t,n,r,o,{optionalContentConfig:c,markedContentStack:h=null},f,p){C(this,Pr);this.ctx=e,this.current=new aw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new d3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,n){const f=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...me(this.compositeCtx))}this.ctx.save(),Gp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=me(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,c=e.fnArray;let h=t||0;const f=o.length;if(f===h)return h;const p=f-h>nw&&typeof n=="function",m=p?Date.now()+u3:0;let y=0;const b=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(S=c[h],S!==kn.dependency)this[S].apply(this,o[h]);else for(const x of o[h]){const M=x.startsWith("g_")?b:A;if(!M.has(x))return M.get(x,n),h}if(h++,h===f)return h;if(p&&++y>nw){if(Date.now()>m)return n(),h;y=0}}}endDrawing(){w(this,Pr,eb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),w(this,Pr,ib).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),h=n,f=r,p="prescale1",m,y;for(;o>2&&h>1||c>2&&f>1;){let b=h,A=f;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),m=this.cachedCanvases.getCanvas(p,b,A),y=m.context,y.clearRect(0,0,b,A),y.drawImage(e,0,0,h,f,0,0,b,A),e=m.canvas,h=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,c=this.current.patternFill,h=me(t);let f,p,m,y;if((e.bitmap||e.data)&&e.count>1){const F=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(F),f||(f=new Map,this._cachedBitmapsMap.set(F,f));const j=f.get(p);if(j&&!c){const at=Math.round(Math.min(h[0],h[2])+h[4]),et=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:j,offsetX:at,offsetY:et}}m=j}m||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),ow(y.context,e));let b=yt.transform(h,[1/n,0,0,-1/r,0,0]);b=yt.transform(b,[1,0,0,1,0,-r]);const[A,S,x,M]=yt.getAxialAlignedBoundingBox([0,0,n,r],b),R=Math.round(x-A)||1,k=Math.round(M-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",R,k),P=O.context,I=A,N=S;P.translate(-I,-N),P.transform(...b),m||(m=this._scaleImage(y.canvas,js(P)),m=m.img,f&&c&&f.set(p,m)),P.imageSmoothingEnabled=lw(me(P),e.interpolate),Vp(P,m,0,0,m.width,m.height,0,0,n,r),P.globalCompositeOperation="source-in";const V=yt.transform(js(P),[1,0,0,1,-I,-N]);return P.fillStyle=c?o.getPattern(t,this,V,Ei.FILL):o,P.fillRect(0,0,n,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(I),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=p3[e]}setLineJoin(e){this.ctx.lineJoin=g3[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...me(this.suspendedCtx)),Ch(this.suspendedCtx,o),h3(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ch(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],c=r[1],h=r[2]-o,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(t.context,n,h,f,t.subtype,t.backdrop,t.transferMap,o,c,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,c,h,f,p,m,y){let b=e.canvas,A=f-m,S=p-y;if(c){const M=yt.makeHexColor(...c);if(A<0||S<0||A+n>b.width||S+r>b.height){const R=this.cachedCanvases.getCanvas("maskExtension",n,r),k=R.context;k.drawImage(b,-A,-S),k.globalCompositeOperation="destination-atop",k.fillStyle=M,k.fillRect(0,0,n,r),k.globalCompositeOperation="source-over",b=R.canvas,A=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(A,S,n,r),e.clip(R),e.globalCompositeOperation="destination-atop",e.fillStyle=M,e.fillRect(A,S,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?t.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(h));const x=new Path2D;x.rect(f,p,n,r),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(b,A,S,n,r,f,p,n,r),t.restore()}save(){this.inSMaskMode?(Ch(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ch(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,o,c){this.ctx.transform(e,t,n,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,o=this.current;let c=o.x,h=o.y,f,p;const m=me(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=y?n.slice(0):null;for(let A=0,S=0,x=e.length;A<x;A++)switch(e[A]|0){case kn.rectangle:c=t[S++],h=t[S++];const M=t[S++],R=t[S++],k=c+M,O=h+R;r.moveTo(c,h),M===0||R===0?r.lineTo(k,O):(r.lineTo(k,h),r.lineTo(k,O),r.lineTo(c,O)),y||o.updateRectMinMax(m,[c,h,k,O]),r.closePath();break;case kn.moveTo:c=t[S++],h=t[S++],r.moveTo(c,h),y||o.updatePathMinMax(m,c,h);break;case kn.lineTo:c=t[S++],h=t[S++],r.lineTo(c,h),y||o.updatePathMinMax(m,c,h);break;case kn.curveTo:f=c,p=h,c=t[S+4],h=t[S+5],r.bezierCurveTo(t[S],t[S+1],t[S+2],t[S+3],c,h),o.updateCurvePathMinMax(m,f,p,t[S],t[S+1],t[S+2],t[S+3],c,h,b),S+=6;break;case kn.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,t[S],t[S+1],t[S+2],t[S+3]),o.updateCurvePathMinMax(m,f,p,c,h,t[S],t[S+1],t[S+2],t[S+3],b),c=t[S+2],h=t[S+3],S+=4;break;case kn.curveTo3:f=c,p=h,c=t[S+2],h=t[S+3],r.bezierCurveTo(t[S],t[S+1],c,h,c,h),o.updateCurvePathMinMax(m,f,p,t[S],t[S+1],c,h,c,h,b),S+=4;break;case kn.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,b),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,js(t),Ei.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,js(t),Ei.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=m3}eoClip(){this.pendingClip=cw}beginText(){this.current.textMatrix=mx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var m;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Ty,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Pt("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",c=((m=n.systemFontInfo)==null?void 0:m.css)||`"${o}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const f=n.italic?"italic":"normal";let p=t;t<ew?p=ew:t>iw&&(p=iw),this.current.fontSizeScale=t/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,o,c){this.current.textMatrix=[e,t,n,r,o,c],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const o=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,m=f&di.FILL_STROKE_MASK,y=!!(f&di.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||y||b)&&(A=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||b?(o.save(),o.translate(t,n),o.beginPath(),A(o,p),r&&o.setTransform(...r),(m===di.FILL||m===di.FILL_STROKE)&&o.fill(),(m===di.STROKE||m===di.FILL_STROKE)&&o.stroke(),o.restore()):((m===di.FILL||m===di.FILL_STROKE)&&o.fillText(e,t,n),(m===di.STROKE||m===di.FILL_STROKE)&&o.strokeText(e,t,n)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:me(o),x:t,y:n,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return jt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,c=t.fontSizeScale,h=t.charSpacing,f=t.wordSpacing,p=t.fontDirection,m=t.textHScale*p,y=e.length,b=n.vertical,A=b?1:-1,S=n.defaultVMetrics,x=r*t.fontMatrix[0],M=t.textRenderingMode===di.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(m,-1):o.scale(m,1);let R;if(t.patternFill){o.save();const N=t.fillColor.getPattern(o,this,js(o),Ei.FILL);R=me(o),o.restore(),o.fillStyle=N}let k=t.lineWidth;const O=t.textMatrixScale;if(O===0||k===0){const N=t.textRenderingMode&di.FILL_STROKE_MASK;(N===di.STROKE||N===di.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=O;if(c!==1&&(o.scale(c,c),k/=c),o.lineWidth=k,n.isInvalidPDFjsFont){const N=[];let V=0;for(const F of e)N.push(F.unicode),V+=F.width;o.fillText(N.join(""),0,0),t.x+=V*x*m,o.restore(),this.compose();return}let P=0,I;for(I=0;I<y;++I){const N=e[I];if(typeof N=="number"){P+=A*N*r/1e3;continue}let V=!1;const F=(N.isSpace?f:0)+h,j=N.fontChar,at=N.accent;let et,nt,rt=N.width;if(b){const lt=N.vmetric||S,B=-(N.vmetric?lt[1]:rt*.5)*x,Y=lt[2]*x;rt=lt?-lt[0]:rt,et=B/c,nt=(P+Y)/c}else et=P/c,nt=0;if(n.remeasure&&rt>0){const lt=o.measureText(j).width*1e3/r*c;if(rt<lt&&this.isFontSubpixelAAEnabled){const B=rt/lt;V=!0,o.save(),o.scale(B,1),et/=B}else rt!==lt&&(et+=(rt-lt)/2e3*r/c)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(M&&!at)o.fillText(j,et,nt);else if(this.paintChar(j,et,nt,R),at){const lt=et+r*at.offset.x/c,B=nt-r*at.offset.y/c;this.paintChar(at.fontChar,lt,B,R)}}const dt=b?rt*x-F*p:rt*x+F*p;P+=dt,V&&o.restore()}b?t.y-=P:t.x+=P*m,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,c=n.fontDirection,h=r.vertical?1:-1,f=n.charSpacing,p=n.wordSpacing,m=n.textHScale*c,y=n.fontMatrix||Ty,b=e.length,A=n.textRenderingMode===di.INVISIBLE;let S,x,M,R;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(m,c),S=0;S<b;++S){if(x=e[S],typeof x=="number"){R=h*x*o/1e3,this.ctx.translate(R,0),n.x+=R*m;continue}const k=(x.isSpace?p:0)+f,O=r.charProcOperatorList[x.operatorListId];if(!O){Pt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(o,o),t.transform(...y),this.executeOperatorList(O),this.restore()),M=yt.applyTransform([x.width,0],y)[0]*o+k,t.translate(M,0),n.x+=M*m}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,c){this.ctx.rect(n,r,o-n,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||me(this.ctx),o={createCanvasGraphics:c=>new vA(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new tb(e,n,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=yt.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=yt.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=l3(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,js(t),Ei.SHADING);const r=js(t);if(r){const{width:o,height:c}=t.canvas,[h,f,p,m]=yt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ce("Should not call beginInlineImage")}beginImageData(){ce("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=me(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(me(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ym("TODO: Support non-isolated groups."),e.knockout&&Pt("Knockout groups not supported.");const n=me(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=yt.getAxialAlignedBoundingBox(e.bbox,me(t));const o=[0,0,t.canvas.width,t.canvas.height];r=yt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,p),b=y.context;b.translate(-c,-h),b.transform(...n),e.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(c,h),t.save()),Ch(t,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=me(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=yt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(w(this,Pr,eb).call(this),Gp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const c=t[2]-t[0],h=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=c,t[3]=h;const[f,p]=yt.singularValueDecompose2dScale(me(this.ctx)),{viewportScale:m}=this,y=Math.ceil(c*this.outputScaleX*m),b=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(e,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),Gp(this.ctx)}else Gp(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new aw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Pr,ib).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=f3(e)),r.compiled)){r.compiled(n);return}const o=this._createMaskCanvas(e),c=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(c,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const f=me(h);h.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,y=c.length;m<y;m+=2){const b=yt.transform(f,[t,n,r,o,c[m],c[m+1]]),[A,S]=yt.applyTransform([0,0],b);h.drawImage(p.canvas,A,S)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:c,width:h,height:f,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),y=m.context;y.save();const b=this.getObject(c,o);ow(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,js(t),Ei.FILL):n,y.fillRect(0,0,h,f),y.restore(),t.save(),t.transform(...p),t.scale(1,-1),Vp(t,m.canvas,0,0,h,f,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Pt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Pt("Dependent image isn't ready yet");return}const c=o.width,h=o.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(t,0,0),c.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!yi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,n).context;rw(f,e),o=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(o,js(r));r.imageSmoothingEnabled=lw(me(r),e.interpolate),Vp(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,c).context;rw(f,e),r=this.applyTransferMapsToCanvas(f)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Vp(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===cw?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=me(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let c,h;if(n===0&&r===0){const f=Math.abs(t),p=Math.abs(o);if(f===p)if(e===0)c=h=1/f;else{const m=f*e;c=h=m<1?1/m:1}else if(e===0)c=1/f,h=1/p;else{const m=f*e,y=p*e;c=m<1?1/m:1,h=y<1?1/y:1}}else{const f=Math.abs(t*o-n*r),p=Math.hypot(t,n),m=Math.hypot(r,o);if(e===0)c=m/f,h=p/f;else{const y=e*f;c=m>y?m/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&o===1){t.stroke();return}const c=t.getLineDash();if(e&&t.save(),t.scale(r,o),c.length>0){const h=Math.max(r,o);t.setLineDash(c.map(f=>f/h)),t.lineDashOffset/=h}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Pr=new WeakSet,eb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ib=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let wc=vA;for(const l in kn)wc.prototype[l]!==void 0&&(wc.prototype[kn[l]]=wc.prototype[l]);var Ed,wd;class va{static get workerPort(){return d(this,Ed)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Ed,e)}static get workerSrc(){return d(this,wd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,wd,e)}}Ed=new WeakMap,wd=new WeakMap,C(va,Ed,null),C(va,wd,"");const qp={DATA:1,ERROR:2},Re={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Wi(l){switch(l instanceof Error||typeof l=="object"&&l!==null||ce('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new yl(l.message);case"MissingPDFException":return new vl(l.message);case"PasswordException":return new Cy(l.message,l.code);case"UnexpectedResponseException":return new bm(l.message,l.status);case"UnknownErrorException":return new Ry(l.message,l.details);default:return new Ry(l.message,l.toString())}}var Ic,Rn,tT,eT,iT,ag;class zh{constructor(e,t,n){C(this,Rn);C(this,Ic,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",w(this,Rn,tT).bind(this),{signal:d(this,Ic).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(c){o.reject(c)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:c,targetName:h,stream:Re.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Ie(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Re.CANCEL,streamId:o,reason:Wi(p)}),m.promise}},n)}destroy(){var e;(e=d(this,Ic))==null||e.abort(),E(this,Ic,null)}}Ic=new WeakMap,Rn=new WeakSet,tT=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){w(this,Rn,iT).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===qp.DATA)r.resolve(e.data);else if(e.callback===qp.ERROR)r.reject(Wi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(c){c(t(e.data))}).then(function(c){o.postMessage({sourceName:n,targetName:r,callback:qp.DATA,callbackId:e.callbackId,data:c})},function(c){o.postMessage({sourceName:n,targetName:r,callback:qp.ERROR,callbackId:e.callbackId,reason:Wi(c)})});return}if(e.streamId){w(this,Rn,eT).call(this,e);return}t(e.data)},eT=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,c=this,h=this.actionHandler[e.action],f={enqueue(p,m=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Re.ENQUEUE,streamId:t,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Re.CLOSE,streamId:t}),delete c.streamSinks[t])},error(p){Ie(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Re.ERROR,streamId:t,reason:Wi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[t]=f,new Promise(function(p){p(h(e.data,f))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Re.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Re.START_COMPLETE,streamId:t,reason:Wi(p)})})},iT=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,c=this.streamControllers[t],h=this.streamSinks[t];switch(e.stream){case Re.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Wi(e.reason));break;case Re.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Wi(e.reason));break;case Re.PULL:if(!h){o.postMessage({sourceName:n,targetName:r,stream:Re.PULL_COMPLETE,streamId:t,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Re.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Re.PULL_COMPLETE,streamId:t,reason:Wi(f)})});break;case Re.ENQUEUE:if(Ie(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case Re.CLOSE:if(Ie(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),w(this,Rn,ag).call(this,c,t);break;case Re.ERROR:Ie(c,"error should have stream controller"),c.controller.error(Wi(e.reason)),w(this,Rn,ag).call(this,c,t);break;case Re.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Wi(e.reason)),w(this,Rn,ag).call(this,c,t);break;case Re.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,Wi(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Re.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Re.CANCEL_COMPLETE,streamId:t,reason:Wi(f)})}),h.sinkCapability.reject(Wi(e.reason)),h.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ag=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var ko,xd;class v3{constructor({parsedData:e,rawData:t}){C(this,ko);C(this,xd);E(this,ko,e),E(this,xd,t)}getRaw(){return d(this,xd)}get(e){return d(this,ko).get(e)??null}getAll(){return nA(d(this,ko))}has(e){return d(this,ko).has(e)}}ko=new WeakMap,xd=new WeakMap;const dc=Symbol("INTERNAL");var Td,Cd,Rd,jc;class y3{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){C(this,Td,!1);C(this,Cd,!1);C(this,Rd,!1);C(this,jc,!0);E(this,Td,!!(e&rn.DISPLAY)),E(this,Cd,!!(e&rn.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(d(this,Rd))return d(this,jc);if(!d(this,jc))return!1;const{print:e,view:t}=this.usage;return d(this,Td)?(t==null?void 0:t.viewState)!=="OFF":d(this,Cd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==dc&&ce("Internal method `_setVisible` called."),E(this,Rd,n),E(this,jc,t)}}Td=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,jc=new WeakMap;var fr,Zt,Uc,Vc,Md,nb;class b3{constructor(e,t=rn.DISPLAY){C(this,Md);C(this,fr,null);C(this,Zt,new Map);C(this,Uc,null);C(this,Vc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Vc,e.order);for(const n of e.groups)d(this,Zt).set(n.id,new y3(t,n));if(e.baseState==="OFF")for(const n of d(this,Zt).values())n._setVisible(dc,!1);for(const n of e.on)d(this,Zt).get(n)._setVisible(dc,!0);for(const n of e.off)d(this,Zt).get(n)._setVisible(dc,!1);E(this,Uc,this.getHash())}}isVisible(e){if(d(this,Zt).size===0)return!0;if(!e)return ym("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,Zt).has(e.id)?d(this,Zt).get(e.id).visible:(Pt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return w(this,Md,nb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!d(this,Zt).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(d(this,Zt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!d(this,Zt).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(!d(this,Zt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!d(this,Zt).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(!d(this,Zt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!d(this,Zt).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(d(this,Zt).get(t).visible)return!1}return!0}return Pt(`Unknown optional content policy ${e.policy}.`),!0}return Pt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=d(this,Zt).get(e);if(!r){Pt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==e&&((o=d(this,Zt).get(h))==null||o._setVisible(dc,!1,!0));r._setVisible(dc,!!t,!0),E(this,fr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=d(this,Zt).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}E(this,fr,null)}get hasInitialVisibility(){return d(this,Uc)===null||this.getHash()===d(this,Uc)}getOrder(){return d(this,Zt).size?d(this,Vc)?d(this,Vc).slice():[...d(this,Zt).keys()]:null}getGroups(){return d(this,Zt).size>0?nA(d(this,Zt)):null}getGroup(e){return d(this,Zt).get(e)||null}getHash(){if(d(this,fr)!==null)return d(this,fr);const e=new Vx;for(const[t,n]of d(this,Zt))e.update(`${t}:${n.visible}`);return E(this,fr,e.hexdigest())}}fr=new WeakMap,Zt=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,Md=new WeakSet,nb=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let c;if(Array.isArray(o))c=w(this,Md,nb).call(this,o);else if(d(this,Zt).has(o))c=d(this,Zt).get(o).visible;else return Pt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class A3{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ie(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Ie(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ie(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new _3(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new S3(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class _3{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=rA(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class S3{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function E3(l){let e=!0,t=n("filename\\*","i").exec(l);if(t){t=t[1];let m=h(t);return m=unescape(m),m=f(m),m=p(m),o(m)}if(t=c(l),t){const m=p(t);return o(m)}if(t=n("filename","i").exec(l),t){t=t[1];let m=h(t);return m=p(m),o(m)}function n(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(m,{fatal:!0}),A=Am(y);y=b.decode(A),e=!1}catch{}}return y}function o(m){return e&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),e&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let b;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,x,M,R]=b;if(x=parseInt(x,10),x in y){if(x===0)break;continue}y[x]=[M,R]}const S=[];for(let x=0;x<y.length&&x in y;++x){let[M,R]=y[x];R=h(R),M&&(R=unescape(R),x===0&&(R=f(R))),S.push(R)}return S.join("")}function h(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let b=0;b<y.length;++b){const A=y[b].indexOf('"');A!==-1&&(y[b]=y[b].slice(0,A),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function f(m){const y=m.indexOf("'");if(y===-1)return m;const b=m.slice(0,y),S=m.slice(y+1).replace(/^[^']*'/,"");return r(b,S)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,M){return String.fromCharCode(parseInt(M,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function hA(l,e){const t=new Headers;if(!l||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function dA({responseHeaders:l,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function fA(l){const e=l.get("Content-Disposition");if(e){let t=E3(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(rA(t))return t}return null}function Em(l,e){return l===404||l===0&&e.startsWith("file:")?new vl('Missing PDF "'+e+'".'):new bm(`Unexpected server response (${l}) while retrieving PDF "${e}".`,l)}function nT(l){return l===200||l===206}function sT(l,e,t){return{method:"GET",headers:l,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function aT(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(Pt(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class uw{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=hA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new x3(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class w3{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,sT(n,this._withCredentials,this._abortController)).then(o=>{if(!nT(o.status))throw Em(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:f}=dA({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=fA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:aT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class x3{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const c=r.url;fetch(c,sT(o,this._withCredentials,this._abortController)).then(h=>{if(!nT(h.status))throw Em(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:aT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const gy=200,my=206;function T3(l){const e=l.response;return typeof e!="string"?e:Am(e).buffer}class C3{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=hA(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const o in n)r[o]=n[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,c]of this.headers)t.setRequestHeader(o,c);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=my):r.expectedStatus=gy,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var f,p,m;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=n.onError)==null||f.call(n,r.status);return}const o=r.status||gy;if(!(o===gy&&n.expectedStatus===my)&&o!==n.expectedStatus){(p=n.onError)==null||p.call(n,r.status);return}const h=T3(r);if(o===my){const y=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);n.onDone({begin:parseInt(b[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(m=n.onError)==null||m.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class R3{constructor(e){this._source=e,this._manager=new C3(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ie(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new M3(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new L3(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class M3{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=dA({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=fA(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Em(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class L3{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Em(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const D3=/^[a-z][a-z0-9\-+.]+:/i;function O3(l){if(D3.test(l))return new URL(l);const e=Nr.get("url");return new URL(e.pathToFileURL(l))}function rT(l,e,t){return l.protocol==="http:"?Nr.get("http").request(l,{headers:e},t):Nr.get("https").request(l,{headers:e},t)}class N3{constructor(e){this.source=e,this.url=O3(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=hA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F3(this):new k3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new H3(this,e,t):new P3(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class oT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class k3 extends oT{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=r=>{if(r.statusCode===404){const f=new vl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=dA({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=fA(o)};this._request=rT(this._url,t,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class P3 extends lT{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${n-1}`;const o=c=>{if(c.statusCode===404){const h=new vl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=rT(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class F3 extends oT{constructor(e){super(e);const t=Nr.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new vl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class H3 extends lT{constructor(e,t,n){super(e);const r=Nr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const B3=1e5,ki=30,z3=.8;var mw,pr,Hi,Ld,Dd,Po,Qs,Od,Nd,Fo,Gc,qc,gr,Xc,kd,Yc,Ho,Pd,Fd,Bo,zo,Hd,mr,Kc,wa,cT,uT,sb,ln,rg,ab,hT,dT;const Fe=class Fe{constructor({textContentSource:e,container:t,viewport:n}){C(this,wa);C(this,pr,Promise.withResolvers());C(this,Hi,null);C(this,Ld,!1);C(this,Dd,!!((mw=globalThis.FontInspector)!=null&&mw.enabled));C(this,Po,null);C(this,Qs,null);C(this,Od,0);C(this,Nd,0);C(this,Fo,null);C(this,Gc,null);C(this,qc,0);C(this,gr,0);C(this,Xc,Object.create(null));C(this,kd,[]);C(this,Yc,null);C(this,Ho,[]);C(this,Pd,new WeakMap);C(this,Fd,null);var f;if(e instanceof ReadableStream)E(this,Yc,e);else if(typeof e=="object")E(this,Yc,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Hi,E(this,Gc,t)),E(this,gr,n.scale*(globalThis.devicePixelRatio||1)),E(this,qc,n.rotation),E(this,Qs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:h}=n.rawDims;E(this,Fd,[1,0,0,-1,-c,h+o]),E(this,Nd,r),E(this,Od,o),w(f=Fe,ln,hT).call(f),dl(t,n),d(this,pr).promise.finally(()=>{d(Fe,Kc).delete(this),E(this,Qs,null),E(this,Xc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=wi.platform;return jt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,Fo).read().then(({value:t,done:n})=>{if(n){d(this,pr).resolve();return}d(this,Po)??E(this,Po,t.lang),Object.assign(d(this,Xc),t.styles),w(this,wa,cT).call(this,t.items),e()},d(this,pr).reject)};return E(this,Fo,d(this,Yc).getReader()),d(Fe,Kc).add(this),e(),d(this,pr).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==d(this,qc)&&(t==null||t(),E(this,qc,r),dl(d(this,Gc),{rotation:r})),n!==d(this,gr)){t==null||t(),E(this,gr,n);const c={div:null,properties:null,ctx:w(o=Fe,ln,rg).call(o,d(this,Po))};for(const h of d(this,Ho))c.properties=d(this,Pd).get(h),c.div=h,w(this,wa,sb).call(this,c)}}cancel(){var t;const e=new yl("TextLayer task cancelled.");(t=d(this,Fo))==null||t.cancel(e).catch(()=>{}),E(this,Fo,null),d(this,pr).reject(e)}get textDivs(){return d(this,Ho)}get textContentItemsStr(){return d(this,kd)}static cleanup(){if(!(d(this,Kc).size>0)){d(this,Bo).clear();for(const{canvas:e}of d(this,zo).values())e.remove();d(this,zo).clear()}}};pr=new WeakMap,Hi=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Po=new WeakMap,Qs=new WeakMap,Od=new WeakMap,Nd=new WeakMap,Fo=new WeakMap,Gc=new WeakMap,qc=new WeakMap,gr=new WeakMap,Xc=new WeakMap,kd=new WeakMap,Yc=new WeakMap,Ho=new WeakMap,Pd=new WeakMap,Fd=new WeakMap,Bo=new WeakMap,zo=new WeakMap,Hd=new WeakMap,mr=new WeakMap,Kc=new WeakMap,wa=new WeakSet,cT=function(e){var r,o;if(d(this,Ld))return;(o=d(this,Qs)).ctx??(o.ctx=w(r=Fe,ln,rg).call(r,d(this,Po)));const t=d(this,Ho),n=d(this,kd);for(const c of e){if(t.length>B3){Pt("Ignoring additional textDivs for performance reasons."),E(this,Ld,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,Hi);E(this,Hi,document.createElement("span")),d(this,Hi).classList.add("markedContent"),c.id!==null&&d(this,Hi).setAttribute("id",`${c.id}`),h.append(d(this,Hi))}else c.type==="endMarkedContent"&&E(this,Hi,d(this,Hi).parentNode);continue}n.push(c.str),w(this,wa,uT).call(this,c)}},uT=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,Ho).push(t);const r=yt.transform(d(this,Fd),e.transform);let o=Math.atan2(r[1],r[0]);const c=d(this,Xc)[e.fontName];c.vertical&&(o+=Math.PI/2);let h=d(this,Dd)&&c.fontSubstitution||c.fontFamily;h=Fe.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*w(x=Fe,ln,dT).call(x,h,d(this,Po));let m,y;o===0?(m=r[4],y=r[5]-p):(m=r[4]+p*Math.sin(o),y=r[5]-p*Math.cos(o));const b="calc(var(--scale-factor)*",A=t.style;d(this,Hi)===d(this,Gc)?(A.left=`${(100*m/d(this,Nd)).toFixed(2)}%`,A.top=`${(100*y/d(this,Od)).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${y.toFixed(2)}px)`),A.fontSize=`${b}${(d(Fe,mr)*f).toFixed(2)}px)`,A.fontFamily=h,n.fontSize=f,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,d(this,Dd)&&(t.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const M=Math.abs(e.transform[0]),R=Math.abs(e.transform[3]);M!==R&&Math.max(M,R)/Math.min(M,R)>1.5&&(S=!0)}if(S&&(n.canvasWidth=c.vertical?e.height:e.width),d(this,Pd).set(t,n),d(this,Qs).div=t,d(this,Qs).properties=n,w(this,wa,sb).call(this,d(this,Qs)),n.hasText&&d(this,Hi).append(t),n.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),d(this,Hi).append(M)}},sb=function(e){var h;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let c="";if(d(Fe,mr)>1&&(c=`scale(${1/d(Fe,mr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=o,{canvasWidth:p,fontSize:m}=n;w(h=Fe,ln,ab).call(h,r,m*d(this,gr),f);const{width:y}=r.measureText(t.textContent);y>0&&(c=`scaleX(${p*d(this,gr)/y}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(o.transform=c)},ln=new WeakSet,rg=function(e=null){let t=d(this,zo).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,zo).set(e,t),d(this,Hd).set(t,{size:0,family:""})}return t},ab=function(e,t,n){const r=d(this,Hd).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},hT=function(){if(d(this,mr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),E(this,mr,e.getBoundingClientRect().height),e.remove()},dT=function(e,t){const n=d(this,Bo).get(e);if(n)return n;const r=w(this,ln,rg).call(this,t);r.canvas.width=r.canvas.height=ki,w(this,ln,ab).call(this,r,ki,e);const o=r.measureText("");let c=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+h);return d(this,Bo).set(e,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,ki,ki),r.strokeText("g",0,0);let f=r.getImageData(0,0,ki,ki).data;h=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){h=Math.ceil(m/4/ki);break}r.clearRect(0,0,ki,ki),r.strokeText("A",0,ki),f=r.getImageData(0,0,ki,ki).data,c=0;for(let m=0,y=f.length;m<y;m+=4)if(f[m]>0){c=ki-Math.floor(m/4/ki);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):z3;return d(this,Bo).set(e,p),p},C(Fe,ln),C(Fe,Bo,new Map),C(Fe,zo,new Map),C(Fe,Hd,new WeakMap),C(Fe,mr,null),C(Fe,Kc,new Set);let td=Fe;class ed{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var f;if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(ed.shouldBuildText(h))(f=o==null?void 0:o.attributes)!=null&&f.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&t.push({str:c}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const I3=65536,j3=100,U3=5e3,V3=yi?e3:ZO,G3=yi?i3:Kx,q3=yi?t3:JO,X3=yi?n3:Zx;function Y3(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const e=new rb,{docId:t}=e,n=l.url?K3(l.url):null,r=l.data?$3(l.data):null,o=l.httpHeaders||null,c=l.withCredentials===!0,h=l.password??null,f=l.range instanceof fT?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:I3;let m=l.worker instanceof xc?l.worker:null;const y=l.verbosity,b=typeof l.docBaseUrl=="string"&&!Sm(l.docBaseUrl)?l.docBaseUrl:null,A=typeof l.cMapUrl=="string"?l.cMapUrl:null,S=l.cMapPacked!==!1,x=l.CMapReaderFactory||G3,M=typeof l.standardFontDataUrl=="string"?l.standardFontDataUrl:null,R=l.StandardFontDataFactory||X3,k=l.stopAtErrors!==!0,O=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,P=l.isEvalSupported!==!1,I=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!yi,N=typeof l.isChrome=="boolean"?l.isChrome:!wi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),V=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,F=typeof l.disableFontFace=="boolean"?l.disableFontFace:yi,j=l.fontExtraProperties===!0,at=l.enableXfa===!0,et=l.ownerDocument||globalThis.document,nt=l.disableRange===!0,rt=l.disableStream===!0,dt=l.disableAutoFetch===!0,lt=l.pdfBug===!0,B=l.CanvasFactory||V3,Y=l.FilterFactory||q3,Z=l.enableHWA===!0,bt=f?f.length:l.length??NaN,L=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!yi&&!F,$=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:x===Kx&&R===Zx&&A&&M&&Oh(A,document.baseURI)&&Oh(M,document.baseURI);l.canvasFactory&&ZE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),l.filterFactory&&ZE("`filterFactory`-instance option, please use `FilterFactory` instead.");const st=null;MO(y);const Q={canvasFactory:new B({ownerDocument:et,enableHWA:Z}),filterFactory:new Y({docId:t,ownerDocument:et}),cMapReaderFactory:$?null:new x({baseUrl:A,isCompressed:S}),standardFontDataFactory:$?null:new R({baseUrl:M})};if(!m){const ct={verbosity:y,port:va.workerPort};m=ct.port?xc.fromPort(ct):new xc(ct),e._worker=m}const ot={docId:t,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:dt,rangeChunkSize:p,length:bt,docBaseUrl:b,enableXfa:at,evaluatorOptions:{maxImageSize:O,disableFontFace:F,ignoreErrors:k,isEvalSupported:P,isOffscreenCanvasSupported:I,isChrome:N,canvasMaxAreaInBytes:V,fontExtraProperties:j,useSystemFonts:L,cMapUrl:$?A:null,standardFontDataUrl:$?M:null}},ft={disableFontFace:F,fontExtraProperties:j,ownerDocument:et,pdfBug:lt,styleElement:st,loadingParams:{disableAutoFetch:dt,enableXfa:at}};return m.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=m.messageHandler.sendWithPromise("GetDocRequest",ot,r?[r.buffer]:null);let vt;if(f)vt=new A3(f,{disableRange:nt,disableStream:rt});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let mt;yi?mt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Oh(n)?uw:N3:mt=Oh(n)?uw:R3,vt=new mt({url:n,length:bt,httpHeaders:o,withCredentials:c,rangeChunkSize:p,disableRange:nt,disableStream:rt})}return ct.then(mt=>{if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Nt=new zh(t,mt,m.port),Qe=new J3(Nt,e,vt,ft,Q);e._transport=Qe,Nt.send("Ready",null)})}).catch(e._capability.reject),e}function K3(l){if(l instanceof URL)return l.href;try{return new URL(l,window.location).href}catch{if(yi&&typeof l=="string")return l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $3(l){if(yi&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return Am(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l==null?void 0:l.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function hw(l){return typeof l=="object"&&Number.isInteger(l==null?void 0:l.num)&&l.num>=0&&Number.isInteger(l==null?void 0:l.gen)&&l.gen>=0}var Zg;const Jg=class Jg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ai(Jg,Zg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Zg=new WeakMap,C(Jg,Zg,0);let rb=Jg;class fT{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ce("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class W3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var vr,Zs,Tn,fc,og;class Q3{constructor(e,t,n,r=!1){C(this,Tn);C(this,vr,null);C(this,Zs,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new QE:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new pT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new _f({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=er.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1}){var P,I;(P=this._stats)==null||P.time("Overall");const b=this._transport.getRenderingIntent(n,r,m,y),{renderingIntent:A,cacheKey:S}=b;E(this,Zs,!1),w(this,Tn,og).call(this),h||(h=this._transport.getOptionalContentConfig(A));let x=this._intentStates.get(S);x||(x=Object.create(null),this._intentStates.set(S,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const M=!!(A&rn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(b));const R=N=>{var V;x.renderTasks.delete(k),(this._maybeCleanupAfterRender||M)&&E(this,Zs,!0),w(this,Tn,fc).call(this,!M),N?(k.capability.reject(N),this._abortOperatorList({intentState:x,reason:N instanceof Error?N:new Error(N)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new lb({callback:R,params:{canvasContext:e,viewport:t,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p});(x.renderTasks||(x.renderTasks=new Set)).add(k);const O=k.task;return Promise.all([x.displayReadyCapability.promise,h]).then(([N,V])=>{var F;if(this.destroyed){R();return}if((F=this._stats)==null||F.time("Rendering"),!(V.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:N,optionalContentConfig:V}),k.operatorListChanged()}).catch(R),O}getOperatorList({intent:e="display",annotationMode:t=er.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(e,t,n,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ed.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){c.read().then(function({value:f,done:p}){if(p){n(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},r)}const c=t.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),E(this,Zs,!1),w(this,Tn,og).call(this),Promise.all(e)}cleanup(e=!1){E(this,Zs,!0);const t=w(this,Tn,fc).call(this,!1);return e&&t&&this._stats&&(this._stats=new QE),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&w(this,Tn,fc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:c}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},c).getReader(),p=this._intentStates.get(t);p.streamReader=f;const m=()=>{f.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();w(this,Tn,fc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof aA){let r=j3;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new yl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}vr=new WeakMap,Zs=new WeakMap,Tn=new WeakSet,fc=function(e=!1){if(w(this,Tn,og).call(this),!d(this,Zs)||this.destroyed)return!1;if(e)return E(this,vr,setTimeout(()=>{E(this,vr,null),w(this,Tn,fc).call(this,!1)},U3)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,Zs,!1),!0},og=function(){d(this,vr)&&(clearTimeout(d(this,vr)),E(this,vr,null))};var Js,tm;class Z3{constructor(){C(this,Js,new Map);C(this,tm,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};d(this,tm).then(()=>{for(const[r]of d(this,Js))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Pt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}d(this,Js).set(t,r)}removeEventListener(e,t){const n=d(this,Js).get(t);n==null||n(),d(this,Js).delete(t)}terminate(){for(const[,e]of d(this,Js))e==null||e();d(this,Js).clear()}}Js=new WeakMap,tm=new WeakMap;var em,Io,jo,$c,lg,Wc,cg;const he=class he{constructor({name:e=null,port:t=null,verbosity:n=LO()}={}){C(this,$c);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=d(he,jo))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(d(he,jo)||E(he,jo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return yi?Promise.all([Nr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new zh("main","worker",e),this._messageHandler.on("ready",function(){}),w(this,$c,lg).call(this)}_initialize(){if(d(he,Io)||d(he,Wc,cg)){this._setupFakeWorker();return}let{workerSrc:e}=he;try{he._isSameOrigin(window.location.href,e)||(e=he._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new zh("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),n.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,w(this,$c,lg).call(this)}),n.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{ym("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(he,Io)||(Pt("Setting up fake worker."),E(he,Io,!0)),he._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Z3;this._port=t;const n=`fake${Ai(he,em)._++}`,r=new zh(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new zh(n,n+"_worker",t),w(this,$c,lg).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=d(he,jo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=d(this,jo))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new he(e)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return jt(this,"_setupFakeWorkerGlobal",(async()=>d(this,Wc,cg)?d(this,Wc,cg):(await import(this.workerSrc)).WorkerMessageHandler)())}};em=new WeakMap,Io=new WeakMap,jo=new WeakMap,$c=new WeakSet,lg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Wc=new WeakSet,cg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(he,Wc),C(he,em,0),C(he,Io,!1),C(he,jo),yi&&(E(he,Io,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},he._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let xc=he;var ta,ms,Qc,Zc,vs,Uo,Ih;class J3{constructor(e,t,n,r,o){C(this,Uo);C(this,ta,new Map);C(this,ms,new Map);C(this,Qc,new Map);C(this,Zc,new Map);C(this,vs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new pT,this.fontLoader=new WO({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return jt(this,"annotationStorage",new cA)}getRenderingIntent(e,t=er.ENABLE,n=null,r=!1,o=!1){let c=rn.DISPLAY,h=$y;switch(e){case"any":c=rn.ANY;break;case"display":break;case"print":c=rn.PRINT;break;default:Pt(`getRenderingIntent - invalid intent: ${e}`)}const f=c&rn.PRINT&&n instanceof qx?n:this.annotationStorage;switch(t){case er.DISABLE:c+=rn.ANNOTATIONS_DISABLE;break;case er.ENABLE:break;case er.ENABLE_FORMS:c+=rn.ANNOTATIONS_FORMS;break;case er.ENABLE_STORAGE:c+=rn.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Pt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(c+=rn.IS_EDITING),o&&(c+=rn.OPLIST);const{ids:p,hash:m}=f.modifiedIds,y=[c,h.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,vs))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of d(this,ms).values())e.push(r._destroy());d(this,ms).clear(),d(this,Qc).clear(),d(this,Zc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ta).clear(),this.filterFactory.destroy(),td.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new yl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Ie(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Ie(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=t.onProgress)==null||h.call(t,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),e.on("GetRangeReader",(n,r)=>{Ie(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){r.close();return}Ie(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new W3(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new Cy(n.message,n.code);break;case"InvalidPDFException":r=new vx(n.message);break;case"MissingPDFException":r=new vl(n.message);break;case"UnexpectedResponseException":r=new bm(n.message,n.status);break;case"UnknownErrorException":r=new Ry(n.message,n.details);break;default:ce("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(E(this,vs,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?d(this,vs).reject(o):d(this,vs).resolve({password:o})};try{t.onPassword(r,n.code)}catch(o){d(this,vs).reject(o)}}else d(this,vs).reject(new Cy(n.message,n.code));return d(this,vs).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,ms).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const A=o.error;Pt(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const m=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,y=new QO(o,{disableFontFace:h,inspectFont:m});this.fontLoader.bind(y).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f&&y.data&&(y.data=null),this.commonObjs.resolve(n,y)});break;case"CopyLocalImage":const{imageRef:b}=o;Ie(b,"The imageRef must be defined.");for(const A of d(this,ms).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(n,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,c])=>{var f;if(this.destroyed)return;const h=d(this,ms).get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(o){case"Image":h.objs.resolve(n,c),(c==null?void 0:c.dataLen)>xO&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Pt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=d(this,Qc).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&d(this,Zc).set(o.refStr,e);const c=new Q3(t,o,this,this._params.pdfBug);return d(this,ms).set(t,c),c});return d(this,Qc).set(t,r),r}getPageIndex(e){return hw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return w(this,Uo,Ih).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Uo,Ih).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Uo,Ih).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return w(this,Uo,Ih).call(this,"GetOptionalContentConfig").then(t=>new b3(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=d(this,ta).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new v3(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,ta).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of d(this,ms).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,ta).clear(),this.filterFactory.destroy(!0),td.cleanup()}}cachedPageNumber(e){if(!hw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Zc).get(t)??null}}ta=new WeakMap,ms=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,vs=new WeakMap,Uo=new WeakSet,Ih=function(e,t=null){const n=d(this,ta).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return d(this,ta).set(e,r),r};const Xp=Symbol("INITIAL_DATA");var In,Bd,ob;class pT{constructor(){C(this,Bd);C(this,In,Object.create(null))}get(e,t=null){if(t){const r=w(this,Bd,ob).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=d(this,In)[e];if(!n||n.data===Xp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=d(this,In)[e];return!!t&&t.data!==Xp}resolve(e,t=null){const n=w(this,Bd,ob).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in d(this,In)){const{data:n}=d(this,In)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}E(this,In,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,In)){const{data:t}=d(this,In)[e];t!==Xp&&(yield[e,t])}}}In=new WeakMap,Bd=new WeakSet,ob=function(e){var t;return(t=d(this,In))[e]||(t[e]={...Promise.withResolvers(),data:Xp})};var yr;class tN{constructor(e){C(this,yr,null);E(this,yr,e),this.onContinue=null}get promise(){return d(this,yr).capability.promise}cancel(e=0){d(this,yr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,yr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=d(this,yr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}yr=new WeakMap;var br,Vo;const ho=class ho{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:b=null}){C(this,br,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new tN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(ho,Vo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(ho,Vo).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:c}=this.params;this.gfx=new wc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,br)&&(window.cancelAnimationFrame(d(this,br)),E(this,br,null)),d(ho,Vo).delete(this._canvas),this.callback(e||new aA(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,br,window.requestAnimationFrame(()=>{E(this,br,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(ho,Vo).delete(this._canvas),this.callback())))}};br=new WeakMap,Vo=new WeakMap,C(ho,Vo,new WeakSet);let lb=ho;const eN="4.8.69",iN="3634dab10";function dw(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function Rh(l){return Math.max(0,Math.min(255,255*l))}class fw{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Rh(e),[e,e,e]}static G_HTML([e]){const t=dw(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Rh)}static RGB_HTML(e){return`#${e.map(dw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Rh(1-Math.min(1,e+r)),Rh(1-Math.min(1,n+r)),Rh(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,c=1-n,h=Math.min(r,o,c);return["CMYK",r,o,c,h]}}class nN{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ce("Abstract method `_createSVG` called.")}}class pA extends nN{_createSVG(e){return document.createElementNS(Us,e)}}class gT{static setupStorage(e,t,n,r,o){const c=r.getValue(t,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?e.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{r.setValue(t,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:c}=t,h=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}h&&o.addLinkAttributes(e,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(e,c.dataId,t,n)}static render(e){var y,b;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:n});const h=o!=="richText",f=e.div;if(f.append(c),e.viewport){const A=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);c.append(A),h&&ed.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const m=[[r,-1,c]];for(;m.length>0;){const[A,S,x]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:R}=M;if(R==="#text"){const O=document.createTextNode(M.value);p.push(O),x.append(O);continue}const k=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,R):document.createElement(R);if(x.append(k),M.attributes&&this.setAttributes({html:k,element:M,storage:t,intent:o,linkService:n}),((b=M.children)==null?void 0:b.length)>0)m.push([M,-1,k]);else if(M.value){const O=document.createTextNode(M.value);h&&ed.shouldBuildText(R)&&p.push(O),k.append(O)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ef=1e3,sN=9,pl=new WeakSet;function _a(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class aN{static create(e){switch(e.data.annotationType){case Pe.LINK:return new mT(e);case Pe.TEXT:return new rN(e);case Pe.WIDGET:switch(e.data.fieldType){case"Tx":return new oN(e);case"Btn":return e.data.radioButton?new bT(e):e.data.checkBox?new cN(e):new uN(e);case"Ch":return new hN(e);case"Sig":return new lN(e)}return new bl(e);case Pe.POPUP:return new ub(e);case Pe.FREETEXT:return new wT(e);case Pe.LINE:return new fN(e);case Pe.SQUARE:return new pN(e);case Pe.CIRCLE:return new gN(e);case Pe.POLYLINE:return new xT(e);case Pe.CARET:return new vN(e);case Pe.INK:return new gA(e);case Pe.POLYGON:return new mN(e);case Pe.HIGHLIGHT:return new TT(e);case Pe.UNDERLINE:return new yN(e);case Pe.SQUIGGLY:return new bN(e);case Pe.STRIKEOUT:return new AN(e);case Pe.STAMP:return new CT(e);case Pe.FILEATTACHMENT:return new _N(e);default:return new xe(e)}}}var Go,Jc,tu,zd,cb;const yA=class yA{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){C(this,zd);C(this,Go,null);C(this,Jc,!1);C(this,tu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return yA._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;d(this,Go)||E(this,Go,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&w(this,zd,cb).call(this,t),(n=d(this,tu))==null||n.popup.updateEdited(e)}resetEdited(){var e;d(this,Go)&&(w(this,zd,cb).call(this,d(this,Go).rect),(e=d(this,tu))==null||e.popup.resetEdited(),E(this,Go,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof bl||(o.tabIndex=Ef);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof ub){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:h,height:f}=_a(t.rect);if(!e&&t.borderStyle.width>0){c.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,M=t.borderStyle.verticalCornerRadius;if(x>0||M>0){const k=`calc(${x}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=k}else if(this instanceof bT){const k=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=k}switch(t.borderStyle.style){case Th.SOLID:c.borderStyle="solid";break;case Th.DASHED:c.borderStyle="dashed";break;case Th.BEVELED:Pt("Unimplemented border style: beveled");break;case Th.INSET:Pt("Unimplemented border style: inset");break;case Th.UNDERLINE:c.borderBottomStyle="solid";break}const R=t.borderColor||null;R?(E(this,Jc,!0),c.borderColor=yt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const p=yt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:y,pageX:b,pageY:A}=r.rawDims;c.left=`${100*(p[0]-b)/m}%`,c.top=`${100*(p[1]-A)/y}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(c.width=`${100*h/m}%`,c.height=`${100*f/y}%`):this.setRotation(S,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=_a(this.data.rect);let h,f;e%180===0?(h=100*o/n,f=100*c/r):(h=100*c/n,f=100*o/r),t.style.width=`${h}%`,t.style.height=`${f}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],c=o[0],h=o.slice(1);r.target.style[n]=fw[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:fw[`${c}_rgb`](h)})};return jt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const c=n[r];if(c){const h={detail:{[r]:o},target:e};c(h),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,M,R,k]=e.subarray(2,6);if(r===x&&o===M&&t===R&&n===k)return}const{style:c}=this.container;let h;if(d(this,Jc)){const{borderColor:x,borderWidth:M}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-t,p=o-n,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=m.createElement("defs");y.append(b);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let x=2,M=e.length;x<M;x+=8){const R=e[x],k=e[x+1],O=e[x+2],P=e[x+3],I=m.createElement("rect"),N=(O-t)/f,V=(o-k)/p,F=(R-O)/f,j=(k-P)/p;I.setAttribute("x",N),I.setAttribute("y",V),I.setAttribute("width",F),I.setAttribute("height",j),A.append(I),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${V}" width="${F}" height="${j}"/>`)}d(this,Jc)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=E(this,tu,new ub({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ce("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:c,exportValues:h}of r){if(o===-1||c===t)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!pl.has(p)){Pt(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:f,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==t&&pl.has(r)&&n.push({id:c,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Go=new WeakMap,Jc=new WeakMap,tu=new WeakMap,zd=new WeakSet,cb=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:f}}}}=this;n==null||n.splice(0,4,...e);const{width:p,height:m}=_a(e);t.left=`${100*(e[0]-h)/o}%`,t.top=`${100*(c-e[3]+f)/c}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*m/c}%`):this.setRotation(r)};let xe=yA;var on,ro,vT,yT;class mT extends xe{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});C(this,on);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(w(this,on,vT).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(w(this,on,yT).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&w(this,on,ro).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),w(this,on,ro).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const c=r.get(o);c&&(t[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),w(this,on,ro).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),w(this,on,ro).call(this),!this._fieldObjects){Pt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var y;r==null||r();const{fields:o,refs:c,include:h}=n,f=[];if(o.length!==0||c.length!==0){const b=new Set(c);for(const A of o){const S=this._fieldObjects[A]||[];for(const{id:x}of S)b.add(x)}for(const A of Object.values(this._fieldObjects))for(const S of A)b.has(S.id)===h&&f.push(S)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,m=[];for(const b of f){const{id:A}=b;switch(m.push(A),b.type){case"text":{const x=b.defaultValue||"";p.setValue(A,{value:x});break}case"checkbox":case"radiobutton":{const x=b.defaultValue===b.exportValues;p.setValue(A,{value:x});break}case"combobox":case"listbox":{const x=b.defaultValue||"";p.setValue(A,{value:x});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!pl.has(S)){Pt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}on=new WeakSet,ro=function(){this.container.setAttribute("data-internal-link","")},vT=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},w(this,on,ro).call(this)},yT=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),w(this,on,ro).call(this)};class rN extends xe{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class bl extends xe{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(n,c=>{var h;if(n==="blur"){if(!t.focused||!c.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(e,t,n,r){var o,c,h;for(const[f,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":yt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||sN,o=e.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(p/(hy*r))||1,y=p/m;c=Math.min(r,f(y/hy))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/hy))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=yt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class oN extends bl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[t]=n),o.setValue(c.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=e.getValue(t,{value:this.data.fieldValue});let h=c.value||"";const f=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),pl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Ef,this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),m.formattedValue=null}),n.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";n.value=m.userValue=A,m.formattedValue=null});let y=b=>{const{formattedValue:A}=m;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var x;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(m.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(x){m.userValue=x.detail.value??"",e.setValue(t,{value:m.userValue.toString()}),x.target.value=m.userValue},formattedValue(x){const{formattedValue:M}=x.detail;m.formattedValue=M,M!=null&&x.target!==document.activeElement&&(x.target.value=M),e.setValue(t,{formattedValue:M})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var O;const{charLimit:M}=x.detail,{target:R}=x;if(M===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",M);let k=m.userValue;!k||k.length<=M||(k=k.slice(0,M),R.value=m.userValue=k,e.setValue(t,{value:k}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),n.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:x}=A.target;m.lastCommittedValue!==x&&(m.lastCommittedValue=x,m.userValue=x,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=y;y=null,n.addEventListener("blur",A=>{var x,M;if(!m.focused||!A.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",A=>{var I;m.lastCommittedValue=null;const{data:S,target:x}=A,{value:M,selectionStart:R,selectionEnd:k}=x;let O=R,P=k;switch(A.inputType){case"deleteWordBackward":{const N=M.substring(0,R).match(/\w*[^\w]*$/);N&&(O-=N[0].length);break}case"deleteWordForward":{const N=M.substring(R).match(/^[^\w]*\w*/);N&&(P+=N[0].length);break}case"deleteContentBackward":R===k&&(O-=1);break;case"deleteContentForward":R===k&&(P+=1);break}A.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:O,selEnd:P}})}),this._setEventListeners(n,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class lN extends bl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class cN extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return pl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Ef,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n)){const m=f&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}e.setValue(n,{value:f})}),o.addEventListener("resetform",c=>{const h=t.defaultFieldValue||"Off";c.target.checked=h===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class bT extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const c of this._getElementsByName(t.fieldName,n))e.setValue(c.id,{value:!1});const o=document.createElement("input");if(pl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Ef,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:f})}),o.addEventListener("resetform",c=>{const h=t.defaultFieldValue;c.target.checked=h!=null&&h===t.buttonValue}),this.enableScripting&&this.hasJSActions){const c=t.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const m=c===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=m&&y.id===n;y.domElement&&(y.domElement.checked=b),e.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class uN extends mT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class hN extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");pl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Ef;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,n.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=m=>{const y=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=h(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(b){c==null||c();const A=b.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const x of r.options)x.selected=S.has(x.value);e.setValue(t,{value:h(!0)}),f=h(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,S=b.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),e.setValue(t,{value:h(!0),items:p(b)}),f=h(!1)},clear(b){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),f=h(!1)},insert(b){const{index:A,displayValue:S,exportValue:x}=b.detail.insert,M=r.children[A],R=document.createElement("option");R.textContent=S,R.value=x,M?M.before(R):r.append(R),e.setValue(t,{value:h(!0),items:p(b)}),f=h(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:x,exportValue:M}=S,R=document.createElement("option");R.textContent=x,R.value=M,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:h(!0),items:p(b)}),f=h(!1)},indices(b){const A=new Set(b.detail.indices);for(const S of b.target.options)S.selected=A.has(S.index);e.setValue(t,{value:h(!0)}),f=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{var A;const y=h(!0),b=h(!1);e.setValue(t,{value:y}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){e.setValue(t,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ub extends xe{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:xe._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new dN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${sA}${n}`).join(",")),this.container}}var eu,im,nm,iu,qo,be,ea,nu,Id,jd,su,ia,jn,na,Ud,sa,Vd,Xo,Yo,se,ug,hb,AT,_T,ST,ET,hg,dg,db;class dN{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:c,richText:h,parent:f,rect:p,parentRect:m,open:y}){C(this,se);C(this,eu,w(this,se,ST).bind(this));C(this,im,w(this,se,db).bind(this));C(this,nm,w(this,se,dg).bind(this));C(this,iu,w(this,se,hg).bind(this));C(this,qo,null);C(this,be,null);C(this,ea,null);C(this,nu,null);C(this,Id,null);C(this,jd,null);C(this,su,null);C(this,ia,!1);C(this,jn,null);C(this,na,null);C(this,Ud,null);C(this,sa,null);C(this,Vd,null);C(this,Xo,null);C(this,Yo,!1);var b;E(this,be,e),E(this,Vd,r),E(this,ea,c),E(this,sa,h),E(this,jd,f),E(this,qo,t),E(this,Ud,p),E(this,su,m),E(this,Id,n),E(this,nu,oA.toDateObject(o)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,iu)),A.addEventListener("mouseenter",d(this,nm)),A.addEventListener("mouseleave",d(this,im)),A.classList.add("popupTriggerArea");for(const A of n)(b=A.container)==null||b.addEventListener("keydown",d(this,eu));d(this,be).hidden=!0,y&&w(this,se,hg).call(this)}render(){if(d(this,jn))return;const e=E(this,jn,document.createElement("div"));if(e.className="popup",d(this,qo)){const o=e.style.outlineColor=yt.makeHexColor(...d(this,qo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=yt.makeHexColor(...d(this,qo).map(h=>Math.floor(.7*(255-h)+h)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=d(this,Vd),e.append(t),d(this,nu)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,nu).valueOf()})),t.append(o)}const r=d(this,se,ug);if(r)gT.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(d(this,ea));e.append(o)}d(this,be).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const h=r[o];n.append(document.createTextNode(h)),o<c-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;d(this,Xo)||E(this,Xo,{contentsObj:d(this,ea),richText:d(this,sa)}),e&&E(this,na,null),t&&(E(this,sa,w(this,se,_T).call(this,t)),E(this,ea,null)),(n=d(this,jn))==null||n.remove(),E(this,jn,null)}resetEdited(){var e;d(this,Xo)&&({contentsObj:Ai(this,ea)._,richText:Ai(this,sa)._}=d(this,Xo),E(this,Xo,null),(e=d(this,jn))==null||e.remove(),E(this,jn,null),E(this,na,null))}forceHide(){E(this,Yo,this.isVisible),d(this,Yo)&&(d(this,be).hidden=!0)}maybeShow(){d(this,Yo)&&(d(this,jn)||w(this,se,dg).call(this),E(this,Yo,!1),d(this,be).hidden=!1)}get isVisible(){return d(this,be).hidden===!1}}eu=new WeakMap,im=new WeakMap,nm=new WeakMap,iu=new WeakMap,qo=new WeakMap,be=new WeakMap,ea=new WeakMap,nu=new WeakMap,Id=new WeakMap,jd=new WeakMap,su=new WeakMap,ia=new WeakMap,jn=new WeakMap,na=new WeakMap,Ud=new WeakMap,sa=new WeakMap,Vd=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,se=new WeakSet,ug=function(){const e=d(this,sa),t=d(this,ea);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&d(this,sa).html||null},hb=function(){var e,t,n;return((n=(t=(e=d(this,se,ug))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},AT=function(){var e,t,n;return((n=(t=(e=d(this,se,ug))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},_T=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:d(this,se,AT),fontSize:d(this,se,hb)?`calc(${d(this,se,hb)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},ST=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,ia))&&w(this,se,hg).call(this)},ET=function(){if(d(this,na)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=d(this,jd);let c=!!d(this,su),h=c?d(this,su):d(this,Ud);for(const S of d(this,Id))if(!h||yt.intersect(S.data.rect,h)!==null){h=S.data.rect,c=!0;break}const f=yt.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),m=c?h[2]-h[0]+5:0,y=f[0]+m,b=f[1];E(this,na,[100*(y-r)/t,100*(b-o)/n]);const{style:A}=d(this,be);A.left=`${d(this,na)[0]}%`,A.top=`${d(this,na)[1]}%`},hg=function(){E(this,ia,!d(this,ia)),d(this,ia)?(w(this,se,dg).call(this),d(this,be).addEventListener("click",d(this,iu)),d(this,be).addEventListener("keydown",d(this,eu))):(w(this,se,db).call(this),d(this,be).removeEventListener("click",d(this,iu)),d(this,be).removeEventListener("keydown",d(this,eu)))},dg=function(){d(this,jn)||this.render(),this.isVisible?d(this,ia)&&d(this,be).classList.add("focused"):(w(this,se,ET).call(this),d(this,be).hidden=!1,d(this,be).style.zIndex=parseInt(d(this,be).style.zIndex)+1e3)},db=function(){d(this,be).classList.remove("focused"),!(d(this,ia)||!this.isVisible)&&(d(this,be).hidden=!0,d(this,be).style.zIndex=parseInt(d(this,be).style.zIndex)-1e3)};class wT extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Gd;class fN extends xe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Gd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=_a(t.rect),o=this.svgFactory.create(n,r,!0),c=E(this,Gd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),c.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),c.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),c.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Gd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gd=new WeakMap;var qd;class pN extends xe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,qd,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=_a(t.rect),o=this.svgFactory.create(n,r,!0),c=t.borderStyle.width,h=E(this,qd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",n-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}qd=new WeakMap;var Xd;class gN extends xe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Xd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=_a(t.rect),o=this.svgFactory.create(n,r,!0),c=t.borderStyle.width,h=E(this,Xd,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",r/2),h.setAttribute("rx",n/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xd=new WeakMap;var Yd;class xT extends xe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Yd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o}}=this;if(!n)return this.container;const{width:c,height:h}=_a(t),f=this.svgFactory.create(c,h,!0);let p=[];for(let y=0,b=n.length;y<b;y+=2){const A=n[y]-t[0],S=t[3]-n[y+1];p.push(`${A},${S}`)}p=p.join(" ");const m=E(this,Yd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Yd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yd=new WeakMap;class mN extends xT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vN extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kd;class gA extends xe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Kd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Dt.HIGHLIGHT:Dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:o}}=this,{width:c,height:h}=_a(t),f=this.svgFactory.create(c,h,!0);for(const p of n){let m=[];for(let b=0,A=p.length;b<A;b+=2){const S=p[b]-t[0],x=t[3]-p[b+1];m.push(`${S},${x}`)}m=m.join(" ");const y=this.svgFactory.createElement(this.svgElementName);d(this,Kd).push(y),y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),f.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,Kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kd=new WeakMap;class TT extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Dt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class yN extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class bN extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class AN extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class CT extends xe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $d,Wd,fb;class _N extends xe{constructor(t){var r;super(t,{isRenderable:!0});C(this,Wd);C(this,$d,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,Wd,fb).bind(this)),E(this,$d,r);const{isMac:o}=wi.platform;return t.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&w(this,Wd,fb).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return d(this,$d)}addHighlightArea(){this.container.classList.add("highlightArea")}}$d=new WeakMap,Wd=new WeakSet,fb=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Qd,Ko,$o,Zd,gl,RT,pb;class SN{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:h}){C(this,gl);C(this,Qd,null);C(this,Ko,null);C(this,$o,new Map);C(this,Zd,null);this.div=e,E(this,Qd,t),E(this,Ko,n),E(this,Zd,h||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,$o).size>0}async render(e){var c;const{annotations:t}=e,n=this.div;dl(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new pA,annotationStorage:e.annotationStorage||new cA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of t){if(h.noHTML)continue;const f=h.annotationType===Pe.POPUP;if(f){const y=r.get(h.id);if(!y)continue;o.elements=y}else{const{width:y,height:b}=_a(h.rect);if(y<=0||b<=0)continue}o.data=h;const p=aN.create(o);if(!p.isRenderable)continue;if(!f&&h.popupRef){const y=r.get(h.popupRef);y?y.push(p):r.set(h.popupRef,[p])}const m=p.render();h.hidden&&(m.style.visibility="hidden"),await w(this,gl,RT).call(this,m,h.id),p._isEditable&&(d(this,$o).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}w(this,gl,pb).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,dl(t,{rotation:e.rotation}),w(this,gl,pb).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(d(this,$o).values())}getEditableAnnotation(e){return d(this,$o).get(e)}}Qd=new WeakMap,Ko=new WeakMap,$o=new WeakMap,Zd=new WeakMap,gl=new WeakSet,RT=async function(e,t){var c,h;const n=e.firstChild||e,r=n.id=`${sA}${t}`,o=await((c=d(this,Zd))==null?void 0:c.getAriaAttributes(r));if(o)for(const[f,p]of o)n.setAttribute(f,p);this.div.append(e),(h=d(this,Qd))==null||h.moveElementInDOM(this.div,e,n,!1)},pb=function(){if(!d(this,Ko))return;const e=this.div;for(const[t,n]of d(this,Ko)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n)}d(this,Ko).clear()};const Yp=/\r\n?|\n/g;var Un,Ji,Jd,Wo,tn,Le,MT,LT,DT,fg,Ea,pg,gg,OT,mb,NT;const oe=class oe extends Jt{constructor(t){super({...t,name:"freeTextEditor"});C(this,Le);C(this,Un);C(this,Ji,"");C(this,Jd,`${this.id}-editor`);C(this,Wo,null);C(this,tn);E(this,Un,t.color||oe._defaultColor||Jt._defaultLineColor),E(this,tn,t.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const t=oe.prototype,n=c=>c.isEmpty(),r=fl.TRANSLATE_SMALL,o=fl.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Sf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Jt.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Tt.FREETEXT_SIZE:oe._defaultFontSize=n;break;case Tt.FREETEXT_COLOR:oe._defaultColor=n;break}}updateParams(t,n){switch(t){case Tt.FREETEXT_SIZE:w(this,Le,MT).call(this,n);break;case Tt.FREETEXT_COLOR:w(this,Le,LT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,oe._defaultFontSize],[Tt.FREETEXT_COLOR,oe._defaultColor||Jt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,d(this,tn)],[Tt.FREETEXT_COLOR,d(this,Un)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-oe._internalPadding*t,-(oe._internalPadding+d(this,tn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Dt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Wo,new AbortController);const t=this._uiManager.combinedSignal(d(this,Wo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Jd)),this._isDraggable=!0,(t=d(this,Wo))==null||t.abort(),E(this,Wo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=d(this,Ji),n=E(this,Ji,w(this,Le,DT).call(this).trimEnd());if(t===n)return;const r=o=>{if(E(this,Ji,o),!o){this.remove();return}w(this,Le,gg).call(this),this._uiManager.rebuild(this),w(this,Le,fg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),w(this,Le,fg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){oe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Jd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,tn)}px * var(--scale-factor))`,r.color=d(this,Un),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Bg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[m,y]=this.pageDimensions,[b,A]=this.pageTranslation;let S,x;switch(this.rotation){case 0:S=t+(h[0]-b)/m,x=n+this.height-(h[1]-A)/y;break;case 90:S=t+(h[0]-b)/m,x=n-(h[1]-A)/y,[f,p]=[p,-f];break;case 180:S=t-this.width+(h[0]-b)/m,x=n-(h[1]-A)/y,[f,p]=[-f,-p];break;case 270:S=t+(h[0]-b-this.height*y)/m,x=n+(h[1]-A-this.width*m)/y,[f,p]=[-p,f];break}this.setAt(S*o,x*c,f,p)}else this.setAt(t*o,n*c,this.width*o,this.height*c);w(this,Le,gg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var S,x,M;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=w(S=oe,Ea,mb).call(S,n.getData("text")||"").replaceAll(Yp,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,m=[],y=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(y.push(f.nodeValue.slice(p).replaceAll(Yp,"")),R!==this.editorDiv){let k=m;for(const O of this.editorDiv.childNodes){if(O===R){k=y;continue}k.push(w(x=oe,Ea,pg).call(x,O))}}m.push(f.nodeValue.slice(0,p).replaceAll(Yp,""))}else if(f===this.editorDiv){let R=m,k=0;for(const O of this.editorDiv.childNodes)k++===p&&(R=y),R.push(w(M=oe,Ea,pg).call(M,O))}E(this,Ji,`${m.join(`
`)}${o}${y.join(`
`)}`),w(this,Le,gg).call(this);const b=new Range;let A=m.reduce((R,k)=>R+k.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const k=R.nodeValue.length;if(A<=k){b.setStart(R,A),b.setEnd(R,A);break}A-=k}c.removeAllRanges(),c.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var h;let o=null;if(t instanceof wT){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:m,rotation:y,id:b,popupRef:A},textContent:S,textPosition:x,parent:{page:{pageNumber:M}}}=t;if(!S||S.length===0)return null;o=t={annotationType:Dt.FREETEXT,color:Array.from(p),fontSize:f,value:S.join(`
`),position:x,pageIndex:M-1,rect:m.slice(0),rotation:y,id:b,deleted:!1,popupRef:A}}const c=await super.deserialize(t,n,r);return E(c,tn,t.fontSize),E(c,Un,yt.makeHexColor(...t.color)),E(c,Ji,w(h=oe,Ea,mb).call(h,t.value)),c.annotationElementId=t.id||null,c._initialData=o,c}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=oe._internalPadding*this.parentScale,r=this.getRect(n,n),o=Jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Un)),c={annotationType:Dt.FREETEXT,color:o,fontSize:d(this,tn),value:w(this,Le,OT).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?c:this.annotationElementId&&!w(this,Le,NT).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${d(this,tn)}px * var(--scale-factor))`,r.color=d(this,Un),n.replaceChildren();for(const c of d(this,Ji).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),n.append(h)}const o=oe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:d(this,Ji)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Un=new WeakMap,Ji=new WeakMap,Jd=new WeakMap,Wo=new WeakMap,tn=new WeakMap,Le=new WeakSet,MT=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-d(this,tn))*this.parentScale),E(this,tn,o),w(this,Le,fg).call(this)},r=d(this,tn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},LT=function(t){const n=o=>{E(this,Un,this.editorDiv.style.color=o)},r=d(this,Un);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},DT=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(w(r=oe,Ea,pg).call(r,o)),n=o);return t.join(`
`)},fg=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},Ea=new WeakSet,pg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Yp,"")},gg=function(){if(this.editorDiv.replaceChildren(),!!d(this,Ji))for(const t of d(this,Ji).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},OT=function(){return d(this,Ji).replaceAll(" "," ")},mb=function(t){return t.replaceAll(" "," ")},NT=function(t){const{value:n,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((h,f)=>h!==o[f])||t.pageIndex!==c},C(oe,Ea),xt(oe,"_freeTextDefaultContent",""),xt(oe,"_internalPadding",0),xt(oe,"_defaultColor",null),xt(oe,"_defaultFontSize",10),xt(oe,"_type","freetext"),xt(oe,"_editorType",Dt.FREETEXT);let gb=oe;class kT{toSVGPath(){ce("Abstract method `toSVGPath` must be implemented.")}get box(){ce("Abstract getter `box` must be implemented.")}serialize(e,t){ce("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ce("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ce("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var en,Vn,au,ru,ys,Ht,Qo,Zo,tf,ef,ou,lu,Ar,nf,sm,am,je,jh,PT,FT,HT,BT,zT,IT;const Gs=class Gs{constructor({x:e,y:t},n,r,o,c,h=0){C(this,je);C(this,en);C(this,Vn,[]);C(this,au);C(this,ru);C(this,ys,[]);C(this,Ht,new Float64Array(18));C(this,Qo);C(this,Zo);C(this,tf);C(this,ef);C(this,ou);C(this,lu);C(this,Ar,[]);E(this,en,n),E(this,lu,o*r),E(this,ru,c),d(this,Ht).set([NaN,NaN,NaN,NaN,e,t],6),E(this,au,h),E(this,ef,d(Gs,nf)*r),E(this,tf,d(Gs,am)*r),E(this,ou,r),d(this,Ar).push(e,t)}isEmpty(){return isNaN(d(this,Ht)[8])}add({x:e,y:t}){var j;E(this,Qo,e),E(this,Zo,t);const[n,r,o,c]=d(this,en);let[h,f,p,m]=d(this,Ht).subarray(8,12);const y=e-p,b=t-m,A=Math.hypot(y,b);if(A<d(this,tf))return!1;const S=A-d(this,ef),x=S/A,M=x*y,R=x*b;let k=h,O=f;h=p,f=m,p+=M,m+=R,(j=d(this,Ar))==null||j.push(e,t);const P=-R/S,I=M/S,N=P*d(this,lu),V=I*d(this,lu);return d(this,Ht).set(d(this,Ht).subarray(2,8),0),d(this,Ht).set([p+N,m+V],4),d(this,Ht).set(d(this,Ht).subarray(14,18),12),d(this,Ht).set([p-N,m-V],16),isNaN(d(this,Ht)[6])?(d(this,ys).length===0&&(d(this,Ht).set([h+N,f+V],2),d(this,ys).push(NaN,NaN,NaN,NaN,(h+N-n)/o,(f+V-r)/c),d(this,Ht).set([h-N,f-V],14),d(this,Vn).push(NaN,NaN,NaN,NaN,(h-N-n)/o,(f-V-r)/c)),d(this,Ht).set([k,O,h,f,p,m],6),!this.isEmpty()):(d(this,Ht).set([k,O,h,f,p,m],6),Math.abs(Math.atan2(O-f,k-h)-Math.atan2(R,M))<Math.PI/2?([h,f,p,m]=d(this,Ht).subarray(2,6),d(this,ys).push(NaN,NaN,NaN,NaN,((h+p)/2-n)/o,((f+m)/2-r)/c),[h,f,k,O]=d(this,Ht).subarray(14,18),d(this,Vn).push(NaN,NaN,NaN,NaN,((k+h)/2-n)/o,((O+f)/2-r)/c),!0):([k,O,h,f,p,m]=d(this,Ht).subarray(0,6),d(this,ys).push(((k+5*h)/6-n)/o,((O+5*f)/6-r)/c,((5*h+p)/6-n)/o,((5*f+m)/6-r)/c,((h+p)/2-n)/o,((f+m)/2-r)/c),[p,m,h,f,k,O]=d(this,Ht).subarray(12,18),d(this,Vn).push(((k+5*h)/6-n)/o,((O+5*f)/6-r)/c,((5*h+p)/6-n)/o,((5*f+m)/6-r)/c,((h+p)/2-n)/o,((f+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,ys),t=d(this,Vn);if(isNaN(d(this,Ht)[6])&&!this.isEmpty())return w(this,je,PT).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);w(this,je,HT).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return w(this,je,FT).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,c){return new jT(e,t,n,r,o,c)}getOutlines(){var y;const e=d(this,ys),t=d(this,Vn),n=d(this,Ht),[r,o,c,h]=d(this,en),f=new Float64Array((((y=d(this,Ar))==null?void 0:y.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(d(this,Ar)[b]-r)/c,f[b+1]=(d(this,Ar)[b+1]-o)/h;if(f[f.length-2]=(d(this,Qo)-r)/c,f[f.length-1]=(d(this,Zo)-o)/h,isNaN(n[6])&&!this.isEmpty())return w(this,je,BT).call(this,f);const p=new Float64Array(d(this,ys).length+24+d(this,Vn).length);let m=e.length;for(let b=0;b<m;b+=2){if(isNaN(e[b])){p[b]=p[b+1]=NaN;continue}p[b]=e[b],p[b+1]=e[b+1]}m=w(this,je,IT).call(this,p,m);for(let b=t.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(t[b+A])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=t[b+A],p[m+1]=t[b+A+1],m+=2}return w(this,je,zT).call(this,p,m),this.newFreeDrawOutline(p,f,d(this,en),d(this,ou),d(this,au),d(this,ru))}};en=new WeakMap,Vn=new WeakMap,au=new WeakMap,ru=new WeakMap,ys=new WeakMap,Ht=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,tf=new WeakMap,ef=new WeakMap,ou=new WeakMap,lu=new WeakMap,Ar=new WeakMap,nf=new WeakMap,sm=new WeakMap,am=new WeakMap,je=new WeakSet,jh=function(){const e=d(this,Ht).subarray(4,6),t=d(this,Ht).subarray(16,18),[n,r,o,c]=d(this,en);return[(d(this,Qo)+(e[0]-t[0])/2-n)/o,(d(this,Zo)+(e[1]-t[1])/2-r)/c,(d(this,Qo)+(t[0]-e[0])/2-n)/o,(d(this,Zo)+(t[1]-e[1])/2-r)/c]},PT=function(){const[e,t,n,r]=d(this,en),[o,c,h,f]=w(this,je,jh).call(this);return`M${(d(this,Ht)[2]-e)/n} ${(d(this,Ht)[3]-t)/r} L${(d(this,Ht)[4]-e)/n} ${(d(this,Ht)[5]-t)/r} L${o} ${c} L${h} ${f} L${(d(this,Ht)[16]-e)/n} ${(d(this,Ht)[17]-t)/r} L${(d(this,Ht)[14]-e)/n} ${(d(this,Ht)[15]-t)/r} Z`},FT=function(e){const t=d(this,Vn);e.push(`L${t[4]} ${t[5]} Z`)},HT=function(e){const[t,n,r,o]=d(this,en),c=d(this,Ht).subarray(4,6),h=d(this,Ht).subarray(16,18),[f,p,m,y]=w(this,je,jh).call(this);e.push(`L${(c[0]-t)/r} ${(c[1]-n)/o} L${f} ${p} L${m} ${y} L${(h[0]-t)/r} ${(h[1]-n)/o}`)},BT=function(e){const t=d(this,Ht),[n,r,o,c]=d(this,en),[h,f,p,m]=w(this,je,jh).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/c,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/c,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/c],0),this.newFreeDrawOutline(y,e,d(this,en),d(this,ou),d(this,au),d(this,ru))},zT=function(e,t){const n=d(this,Vn);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},IT=function(e,t){const n=d(this,Ht).subarray(4,6),r=d(this,Ht).subarray(16,18),[o,c,h,f]=d(this,en),[p,m,y,b]=w(this,je,jh).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/h,(n[1]-c)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-c)/f],t),t+=24},C(Gs,nf,8),C(Gs,sm,2),C(Gs,am,d(Gs,nf)+d(Gs,sm));let Ig=Gs;var cu,Jo,aa,sf,nn,af,Ee,Ii,Uh,Vh,UT;class jT extends kT{constructor(t,n,r,o,c,h){super();C(this,Ii);C(this,cu);C(this,Jo,null);C(this,aa);C(this,sf);C(this,nn);C(this,af);C(this,Ee);E(this,Ee,t),E(this,nn,n),E(this,cu,r),E(this,af,o),E(this,aa,c),E(this,sf,h),w(this,Ii,UT).call(this,h);const{x:f,y:p,width:m,height:y}=d(this,Jo);for(let b=0,A=t.length;b<A;b+=2)t[b]=(t[b]-f)/m,t[b+1]=(t[b+1]-p)/y;for(let b=0,A=n.length;b<A;b+=2)n[b]=(n[b]-f)/m,n[b+1]=(n[b+1]-p)/y}toSVGPath(){const t=[`M${d(this,Ee)[4]} ${d(this,Ee)[5]}`];for(let n=6,r=d(this,Ee).length;n<r;n+=6){if(isNaN(d(this,Ee)[n])){t.push(`L${d(this,Ee)[n+4]} ${d(this,Ee)[n+5]}`);continue}t.push(`C${d(this,Ee)[n]} ${d(this,Ee)[n+1]} ${d(this,Ee)[n+2]} ${d(this,Ee)[n+3]} ${d(this,Ee)[n+4]} ${d(this,Ee)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],c){const h=r-t,f=o-n;let p,m;switch(c){case 0:p=w(this,Ii,Uh).call(this,d(this,Ee),t,o,h,-f),m=w(this,Ii,Uh).call(this,d(this,nn),t,o,h,-f);break;case 90:p=w(this,Ii,Vh).call(this,d(this,Ee),t,n,h,f),m=w(this,Ii,Vh).call(this,d(this,nn),t,n,h,f);break;case 180:p=w(this,Ii,Uh).call(this,d(this,Ee),r,n,-h,f),m=w(this,Ii,Uh).call(this,d(this,nn),r,n,-h,f);break;case 270:p=w(this,Ii,Vh).call(this,d(this,Ee),r,o,-h,-f),m=w(this,Ii,Vh).call(this,d(this,nn),r,o,-h,-f);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return d(this,Jo)}newOutliner(t,n,r,o,c,h=0){return new Ig(t,n,r,o,c,h)}getNewOutline(t,n){const{x:r,y:o,width:c,height:h}=d(this,Jo),[f,p,m,y]=d(this,cu),b=c*m,A=h*y,S=r*m+f,x=o*y+p,M=this.newOutliner({x:d(this,nn)[0]*b+S,y:d(this,nn)[1]*A+x},d(this,cu),d(this,af),t,d(this,sf),n??d(this,aa));for(let R=2;R<d(this,nn).length;R+=2)M.add({x:d(this,nn)[R]*b+S,y:d(this,nn)[R+1]*A+x});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}cu=new WeakMap,Jo=new WeakMap,aa=new WeakMap,sf=new WeakMap,nn=new WeakMap,af=new WeakMap,Ee=new WeakMap,Ii=new WeakSet,Uh=function(t,n,r,o,c){const h=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)h[f]=n+t[f]*o,h[f+1]=r+t[f+1]*c;return h},Vh=function(t,n,r,o,c){const h=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)h[f]=n+t[f+1]*o,h[f+1]=r+t[f]*c;return h},UT=function(t){const n=d(this,Ee);let r=n[4],o=n[5],c=r,h=o,f=r,p=o,m=r,y=o;const b=t?Math.max:Math.min;for(let R=6,k=n.length;R<k;R+=6){if(isNaN(n[R]))c=Math.min(c,n[R+4]),h=Math.min(h,n[R+5]),f=Math.max(f,n[R+4]),p=Math.max(p,n[R+5]),y<n[R+5]?(m=n[R+4],y=n[R+5]):y===n[R+5]&&(m=b(m,n[R+4]));else{const O=yt.bezierBoundingBox(r,o,...n.slice(R,R+6));c=Math.min(c,O[0]),h=Math.min(h,O[1]),f=Math.max(f,O[2]),p=Math.max(p,O[3]),y<O[3]?(m=O[2],y=O[3]):y===O[3]&&(m=b(m,O[2]))}r=n[R+4],o=n[R+5]}const A=c-d(this,aa),S=h-d(this,aa),x=f-c+2*d(this,aa),M=p-h+2*d(this,aa);E(this,Jo,{x:A,y:S,width:x,height:M,lastPoint:[m,y]})};var rf,_r,Gn,Ti,VT,mg,GT,qT,vb;class pw{constructor(e,t=0,n=0,r=!0){C(this,Ti);C(this,rf);C(this,_r,[]);C(this,Gn,[]);let o=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:M,y:R,width:k,height:O}of e){const P=Math.floor((M-t)/p)*p,I=Math.ceil((M+k+t)/p)*p,N=Math.floor((R-t)/p)*p,V=Math.ceil((R+O+t)/p)*p,F=[P,N,V,!0],j=[I,N,V,!1];d(this,_r).push(F,j),o=Math.min(o,P),c=Math.max(c,I),h=Math.min(h,N),f=Math.max(f,V)}const m=c-o+2*n,y=f-h+2*n,b=o-n,A=h-n,S=d(this,_r).at(r?-1:-2),x=[S[0],S[2]];for(const M of d(this,_r)){const[R,k,O]=M;M[0]=(R-b)/m,M[1]=(k-A)/y,M[2]=(O-A)/y}E(this,rf,{x:b,y:A,width:m,height:y,lastPoint:x})}getOutlines(){d(this,_r).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of d(this,_r))t[3]?(e.push(...w(this,Ti,vb).call(this,t)),w(this,Ti,GT).call(this,t)):(w(this,Ti,qT).call(this,t),e.push(...w(this,Ti,vb).call(this,t)));return w(this,Ti,VT).call(this,e)}}rf=new WeakMap,_r=new WeakMap,Gn=new WeakMap,Ti=new WeakSet,VT=function(e){const t=[],n=new Set;for(const c of e){const[h,f,p]=c;t.push([h,f,c],[h,p,c])}t.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=t.length;c<h;c+=2){const f=t[c][2],p=t[c+1][2];f.push(p),p.push(f),n.add(f),n.add(p)}const r=[];let o;for(;n.size>0;){const c=n.values().next().value;let[h,f,p,m,y]=c;n.delete(c);let b=h,A=f;for(o=[h,p],r.push(o);;){let S;if(n.has(m))S=m;else if(n.has(y))S=y;else break;n.delete(S),[h,f,p,m,y]=S,b!==h&&(o.push(b,A,h,A===f?f:p),b=h),A=A===f?p:f}o.push(b,A)}return new EN(r,d(this,rf))},mg=function(e){const t=d(this,Gn);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,c=t[o][0];if(c===e)return o;c<e?n=o+1:r=o-1}return r+1},GT=function([,e,t]){const n=w(this,Ti,mg).call(this,e);d(this,Gn).splice(n,0,[e,t])},qT=function([,e,t]){const n=w(this,Ti,mg).call(this,e);for(let r=n;r<d(this,Gn).length;r++){const[o,c]=d(this,Gn)[r];if(o!==e)break;if(o===e&&c===t){d(this,Gn).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,c]=d(this,Gn)[r];if(o!==e)break;if(o===e&&c===t){d(this,Gn).splice(r,1);return}}},vb=function(e){const[t,n,r]=e,o=[[t,n,r]],c=w(this,Ti,mg).call(this,r);for(let h=0;h<c;h++){const[f,p]=d(this,Gn)[h];for(let m=0,y=o.length;m<y;m++){const[,b,A]=o[m];if(!(p<=b||A<=f)){if(b>=f){if(A>p)o[m][1]=p;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=f,A>p&&o.push([t,p,A])}}}return o};var of,uu;class EN extends kT{constructor(t,n){super();C(this,of);C(this,uu);E(this,uu,t),E(this,of,n)}toSVGPath(){const t=[];for(const n of d(this,uu)){let[r,o]=n;t.push(`M${r} ${o}`);for(let c=2;c<n.length;c+=2){const h=n[c],f=n[c+1];h===r?(t.push(`V${f}`),o=f):f===o&&(t.push(`H${h}`),r=h)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],c){const h=[],f=r-t,p=o-n;for(const m of d(this,uu)){const y=new Array(m.length);for(let b=0;b<m.length;b+=2)y[b]=t+m[b]*f,y[b+1]=o-m[b+1]*p;h.push(y)}return h}get box(){return d(this,of)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}of=new WeakMap,uu=new WeakMap;class yb extends Ig{newFreeDrawOutline(e,t,n,r,o,c){return new wN(e,t,n,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class wN extends jT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,o,c=0){return new yb(e,t,n,r,o,c)}}var qn,tl,hu,Be,lf,du,cf,uf,Sr,Xn,fu,hf,ne,bb,Ab,_b,oo,XT,Ja;const Pi=class Pi{constructor({editor:e=null,uiManager:t=null}){C(this,ne);C(this,qn,null);C(this,tl,null);C(this,hu);C(this,Be,null);C(this,lf,!1);C(this,du,!1);C(this,cf,null);C(this,uf);C(this,Sr,null);C(this,Xn,null);C(this,fu);var n;e?(E(this,du,!1),E(this,fu,Tt.HIGHLIGHT_COLOR),E(this,cf,e)):(E(this,du,!0),E(this,fu,Tt.HIGHLIGHT_DEFAULT_COLOR)),E(this,Xn,(e==null?void 0:e._uiManager)||t),E(this,uf,d(this,Xn)._eventBus),E(this,hu,(e==null?void 0:e.color)||((n=d(this,Xn))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(Pi,hf)||E(Pi,hf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return jt(this,"_keyboardManager",new Sf([[["Escape","mac+Escape"],Pi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pi.prototype._moveToPrevious],[["Home","mac+Home"],Pi.prototype._moveToBeginning],[["End","mac+End"],Pi.prototype._moveToEnd]]))}renderButton(){const e=E(this,qn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=d(this,Xn)._signal;e.addEventListener("click",w(this,ne,oo).bind(this),{signal:t}),e.addEventListener("keydown",w(this,ne,_b).bind(this),{signal:t});const n=E(this,tl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,hu),e.append(n),e}renderMainDropdown(){const e=E(this,Be,w(this,ne,bb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===d(this,qn)){w(this,ne,oo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&w(this,ne,Ab).call(this,t,e)}_moveToNext(e){var t,n;if(!d(this,ne,Ja)){w(this,ne,oo).call(this,e);return}if(e.target===d(this,qn)){(t=d(this,Be).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=d(this,Be))==null?void 0:t.firstChild)||e.target===d(this,qn)){d(this,ne,Ja)&&this._hideDropdownFromKeyboard();return}d(this,ne,Ja)||w(this,ne,oo).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!d(this,ne,Ja)){w(this,ne,oo).call(this,e);return}(t=d(this,Be).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!d(this,ne,Ja)){w(this,ne,oo).call(this,e);return}(t=d(this,Be).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=d(this,Be))==null||e.classList.add("hidden"),(t=d(this,Sr))==null||t.abort(),E(this,Sr,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,du)){if(!d(this,ne,Ja)){(e=d(this,cf))==null||e.unselect();return}this.hideDropdown(),d(this,qn).focus({preventScroll:!0,focusVisible:d(this,lf)})}}updateColor(e){if(d(this,tl)&&(d(this,tl).style.backgroundColor=e),!d(this,Be))return;const t=d(this,Xn).highlightColors.values();for(const n of d(this,Be).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=d(this,qn))==null||e.remove(),E(this,qn,null),E(this,tl,null),(t=d(this,Be))==null||t.remove(),E(this,Be,null)}};qn=new WeakMap,tl=new WeakMap,hu=new WeakMap,Be=new WeakMap,lf=new WeakMap,du=new WeakMap,cf=new WeakMap,uf=new WeakMap,Sr=new WeakMap,Xn=new WeakMap,fu=new WeakMap,hf=new WeakMap,ne=new WeakSet,bb=function(){const e=document.createElement("div"),t=d(this,Xn)._signal;e.addEventListener("contextmenu",Mn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of d(this,Xn).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",d(Pi,hf)[n]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===d(this,hu)),o.addEventListener("click",w(this,ne,Ab).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",w(this,ne,_b).bind(this),{signal:t}),e},Ab=function(e,t){t.stopPropagation(),d(this,uf).dispatch("switchannotationeditorparams",{source:this,type:d(this,fu),value:e})},_b=function(e){Pi._keyboardManager.exec(this,e)},oo=function(e){if(d(this,ne,Ja)){this.hideDropdown();return}if(E(this,lf,e.detail===0),d(this,Sr)||(E(this,Sr,new AbortController),window.addEventListener("pointerdown",w(this,ne,XT).bind(this),{signal:d(this,Xn).combinedSignal(d(this,Sr))})),d(this,Be)){d(this,Be).classList.remove("hidden");return}const t=E(this,Be,w(this,ne,bb).call(this));d(this,qn).append(t)},XT=function(e){var t;(t=d(this,Be))!=null&&t.contains(e.target)||this.hideDropdown()},Ja=function(){return d(this,Be)&&!d(this,Be).classList.contains("hidden")},C(Pi,hf,null);let jg=Pi;var pu,df,ra,el,gu,Sn,ff,pf,il,Yn,mi,Bi,mu,oa,ze,vu,En,gf,Mt,Sb,vg,YT,KT,$T,Eb,lo,Cn,pc,WT,yg,Gh,QT,ZT,JT,tC,eC;const Yt=class Yt extends Jt{constructor(t){super({...t,name:"highlightEditor"});C(this,Mt);C(this,pu,null);C(this,df,0);C(this,ra);C(this,el,null);C(this,gu,null);C(this,Sn,null);C(this,ff,null);C(this,pf,0);C(this,il,null);C(this,Yn,null);C(this,mi,null);C(this,Bi,!1);C(this,mu,null);C(this,oa);C(this,ze,null);C(this,vu,"");C(this,En);C(this,gf,"");this.color=t.color||Yt._defaultColor,E(this,En,t.thickness||Yt._defaultThickness),E(this,oa,t.opacity||Yt._defaultOpacity),E(this,ra,t.boxes||null),E(this,gf,t.methodOfCreation||""),E(this,vu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,Bi,!0),w(this,Mt,vg).call(this,t),w(this,Mt,lo).call(this)):d(this,ra)&&(E(this,pu,t.anchorNode),E(this,df,t.anchorOffset),E(this,ff,t.focusNode),E(this,pf,t.focusOffset),w(this,Mt,Sb).call(this),w(this,Mt,lo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Yt.prototype;return jt(this,"_keyboardManager",new Sf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Bi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,En),methodOfCreation:d(this,gf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Jt.initialize(t,n),Yt._defaultColor||(Yt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Tt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=n;break;case Tt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return d(this,mu)}updateParams(t,n){switch(t){case Tt.HIGHLIGHT_COLOR:w(this,Mt,YT).call(this,n);break;case Tt.HIGHLIGHT_THICKNESS:w(this,Mt,KT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,d(this,En)||Yt._defaultThickness],[Tt.HIGHLIGHT_FREE,d(this,Bi)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,gu,new jg({editor:this})),t.addColorPicker(d(this,gu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Mt,Gh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,w(this,Mt,Gh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Mt,Eb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Mt,lo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?w(this,Mt,Eb).call(this):t&&(w(this,Mt,lo).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,c,h;const{drawLayer:n}=this.parent;let r;d(this,Bi)?(t=(t-this.rotation+360)%360,r=w(o=Yt,Cn,pc).call(o,d(this,Yn).box,t)):r=w(c=Yt,Cn,pc).call(c,this,t),n.rotate(d(this,mi),t),n.rotate(d(this,ze),t),n.updateBox(d(this,mi),r),n.updateBox(d(this,ze),w(h=Yt,Cn,pc).call(h,d(this,Sn).box,t))}render(){if(this.div)return this.div;const t=super.render();d(this,vu)&&(t.setAttribute("aria-label",d(this,vu)),t.setAttribute("role","mark")),d(this,Bi)?t.classList.add("free"):this.div.addEventListener("keydown",w(this,Mt,WT).bind(this),{signal:this._uiManager._signal});const n=E(this,il,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,el);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Bg(this,d(this,il),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,ze),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,ze),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:w(this,Mt,yg).call(this,!0);break;case 1:case 3:w(this,Mt,yg).call(this,!1);break}}select(){var t,n;super.select(),d(this,ze)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,ze),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,ze),"selected"))}unselect(){var t;super.unselect(),d(this,ze)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,ze),"selected"),d(this,Bi)||w(this,Mt,yg).call(this,!1))}get _mustFixPosition(){return!d(this,Bi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(d(this,mi),t),this.parent.drawLayer.show(d(this,ze),t))}static startHighlighting(t,n,{target:r,x:o,y:c}){const{x:h,y:f,width:p,height:m}=r.getBoundingClientRect(),y=new AbortController,b=t.combinedSignal(y),A=x=>{x.preventDefault(),x.stopPropagation()},S=x=>{y.abort(),w(this,Cn,tC).call(this,t,x)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Mn,{signal:b}),r.addEventListener("pointermove",w(this,Cn,JT).bind(this,t),{signal:b}),this._freeHighlight=new yb({x:o,y:c},[h,f,p,m],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,r){var x,M,R,k;let o=null;if(t instanceof TT){const{data:{quadPoints:O,rect:P,rotation:I,id:N,color:V,opacity:F,popupRef:j},parent:{page:{pageNumber:at}}}=t;o=t={annotationType:Dt.HIGHLIGHT,color:Array.from(V),opacity:F,quadPoints:O,boxes:null,pageIndex:at-1,rect:P.slice(0),rotation:I,id:N,deleted:!1,popupRef:j}}else if(t instanceof gA){const{data:{inkLists:O,rect:P,rotation:I,id:N,color:V,borderStyle:{rawWidth:F},popupRef:j},parent:{page:{pageNumber:at}}}=t;o=t={annotationType:Dt.HIGHLIGHT,color:Array.from(V),thickness:F,inkLists:O,boxes:null,pageIndex:at-1,rect:P.slice(0),rotation:I,id:N,deleted:!1,popupRef:j}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=t,m=await super.deserialize(t,n,r);m.color=yt.makeHexColor(...c),E(m,oa,p||1),f&&E(m,En,t.thickness),m.annotationElementId=t.id||null,m._initialData=o;const[y,b]=m.pageDimensions,[A,S]=m.pageTranslation;if(h){const O=E(m,ra,[]);for(let P=0;P<h.length;P+=8)O.push({x:(h[P]-A)/y,y:1-(h[P+1]-S)/b,width:(h[P+2]-h[P])/y,height:(h[P+1]-h[P+5])/b});w(x=m,Mt,Sb).call(x),w(M=m,Mt,lo).call(M),m.rotate(m.rotation)}else if(f){E(m,Bi,!0);const O=f[0],P={x:O[0]-A,y:b-(O[1]-S)},I=new yb(P,[0,0,y,b],1,d(m,En)/2,!0,.001);for(let F=0,j=O.length;F<j;F+=2)P.x=O[F]-A,P.y=b-(O[F+1]-S),I.add(P);const{id:N,clipPathId:V}=n.drawLayer.draw(I,m.color,m._defaultOpacity,!0);w(R=m,Mt,vg).call(R,{highlightOutlines:I.getOutlines(),highlightId:N,clipPathId:V}),w(k=m,Mt,lo).call(k)}return m}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Jt._colorManager.convert(this.color),o={annotationType:Dt.HIGHLIGHT,color:r,opacity:d(this,oa),thickness:d(this,En),quadPoints:w(this,Mt,QT).call(this),outlines:w(this,Mt,ZT).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:w(this,Mt,Gh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Mt,eC).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};pu=new WeakMap,df=new WeakMap,ra=new WeakMap,el=new WeakMap,gu=new WeakMap,Sn=new WeakMap,ff=new WeakMap,pf=new WeakMap,il=new WeakMap,Yn=new WeakMap,mi=new WeakMap,Bi=new WeakMap,mu=new WeakMap,oa=new WeakMap,ze=new WeakMap,vu=new WeakMap,En=new WeakMap,gf=new WeakMap,Mt=new WeakSet,Sb=function(){const t=new pw(d(this,ra),.001);E(this,Yn,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,Yn).box;const n=new pw(d(this,ra),.0025,.001,this._uiManager.direction==="ltr");E(this,Sn,n.getOutlines());const{lastPoint:r}=d(this,Sn).box;E(this,mu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},vg=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var y,b;if(E(this,Yn,t),E(this,Sn,t.getNewOutline(d(this,En)/2+1.5,.0025)),n>=0)E(this,mi,n),E(this,el,r),this.parent.drawLayer.finalizeLine(n,t),E(this,ze,this.parent.drawLayer.drawOutline(d(this,Sn)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,mi),t),this.parent.drawLayer.updateBox(d(this,mi),w(y=Yt,Cn,pc).call(y,d(this,Yn).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,ze),d(this,Sn)),this.parent.drawLayer.updateBox(d(this,ze),w(b=Yt,Cn,pc).call(b,d(this,Sn).box,A))}const{x:c,y:h,width:f,height:p}=t.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*S/A,this.height=p*A/S;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*S/A,this.height=p*A/S;break}}const{lastPoint:m}=d(this,Sn).box;E(this,mu,[(m[0]-c)/f,(m[1]-h)/p])},YT=function(t){const n=(c,h)=>{var f,p,m;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(d(this,mi),c),(p=d(this,gu))==null||p.updateColor(c),E(this,oa,h),(m=this.parent)==null||m.drawLayer.changeOpacity(d(this,mi),h)},r=this.color,o=d(this,oa);this.addCommands({cmd:n.bind(this,t,Yt._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},KT=function(t){const n=d(this,En),r=o=>{E(this,En,o),w(this,Mt,$T).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},$T=function(t){if(!d(this,Bi))return;w(this,Mt,vg).call(this,{highlightOutlines:d(this,Yn).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},Eb=function(){d(this,mi)===null||!this.parent||(this.parent.drawLayer.remove(d(this,mi)),E(this,mi,null),this.parent.drawLayer.remove(d(this,ze)),E(this,ze,null))},lo=function(t=this.parent){d(this,mi)===null&&({id:Ai(this,mi)._,clipPathId:Ai(this,el)._}=t.drawLayer.draw(d(this,Yn),this.color,d(this,oa)),E(this,ze,t.drawLayer.drawOutline(d(this,Sn))),d(this,il)&&(d(this,il).style.clipPath=d(this,el)))},Cn=new WeakSet,pc=function({x:t,y:n,width:r,height:o},c){switch(c){case 90:return{x:1-n-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-n-o,width:r,height:o};case 270:return{x:n,y:1-t-r,width:o,height:r}}return{x:t,y:n,width:r,height:o}},WT=function(t){Yt._keyboardManager.exec(this,t)},yg=function(t){if(!d(this,pu))return;const n=window.getSelection();t?n.setPosition(d(this,pu),d(this,df)):n.setPosition(d(this,ff),d(this,pf))},Gh=function(){return d(this,Bi)?this.rotation:0},QT=function(){if(d(this,Bi))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,c=d(this,ra),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:m,width:y,height:b}of c){const A=p*t+r,S=(1-m-b)*n+o;h[f]=h[f+4]=A,h[f+1]=h[f+3]=S,h[f+2]=h[f+6]=A+y*t,h[f+5]=h[f+7]=S+b*n,f+=8}return h},ZT=function(t){return d(this,Yn).serialize(t,w(this,Mt,Gh).call(this))},JT=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},tC=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},eC=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},C(Yt,Cn),xt(Yt,"_defaultColor",null),xt(Yt,"_defaultOpacity",1),xt(Yt,"_defaultThickness",12),xt(Yt,"_type","highlight"),xt(Yt,"_editorType",Dt.HIGHLIGHT),xt(Yt,"_freeHighlightId",-1),xt(Yt,"_freeHighlight",null),xt(Yt,"_freeHighlightClipId","");let Ug=Yt;var nl,sl,bs,la,wn,al,rl,ol,ca,yu,ll,cl,Er,ut,iC,nC,sC,aC,xb,rC,Tb,oC,lC,cC,uC,hC,co,Cb,Rb,Mb,bg,Ag,gc,Lb,_g,xa,dC,Db,fC,pC,Ob,Sg,qh;const fe=class fe extends Jt{constructor(t){super({...t,name:"inkEditor"});C(this,ut);C(this,nl,0);C(this,sl,0);C(this,bs,null);C(this,la,new Path2D);C(this,wn,!1);C(this,al,null);C(this,rl,!1);C(this,ol,!1);C(this,ca,null);C(this,yu,null);C(this,ll,0);C(this,cl,0);C(this,Er,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Jt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Tt.INK_THICKNESS:fe._defaultThickness=n;break;case Tt.INK_COLOR:fe._defaultColor=n;break;case Tt.INK_OPACITY:fe._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Tt.INK_THICKNESS:w(this,ut,iC).call(this,n);break;case Tt.INK_COLOR:w(this,ut,nC).call(this,n);break;case Tt.INK_OPACITY:w(this,ut,sC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,fe._defaultThickness],[Tt.INK_COLOR,fe._defaultColor||Jt._defaultLineColor],[Tt.INK_OPACITY,Math.round(fe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||fe._defaultThickness],[Tt.INK_COLOR,this.color||fe._defaultColor||Jt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??fe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,ut,bg).call(this),w(this,ut,Ag).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,ut,gc).call(this)),w(this,ut,qh).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,bs)&&(clearTimeout(d(this,bs)),E(this,bs,null)),(t=d(this,ca))==null||t.disconnect(),E(this,ca,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,o=this.height*n;this.setDimensions(r,o)}enableEditMode(){d(this,wn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,ut,Cb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,ut,Rb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,wn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,wn,!0),this.div.classList.add("disabled"),w(this,ut,qh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||d(this,wn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,ut,rC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),w(this,ut,Tb).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),w(this,ut,Mb).call(this,t)}canvasPointerleave(t){w(this,ut,Mb).call(this,t)}get isResizable(){return!this.isEmpty()&&d(this,wn)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,h]=w(this,ut,aC).call(this);if(this.setAt(r,o,0,0),this.setDims(c,h),w(this,ut,bg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(t*f,n*p,this.width*f,this.height*p),E(this,ol,!0),w(this,ut,gc).call(this),this.setDims(this.width*f,this.height*p),w(this,ut,co).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,ut,Ag).call(this),this.div}setDimensions(t,n){const r=Math.round(t),o=Math.round(n);if(d(this,ll)===r&&d(this,cl)===o)return;E(this,ll,r),E(this,cl,o),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=t/c,this.height=n/h,this.fixAndSetPosition(),d(this,wn)&&w(this,ut,Lb).call(this,t,n),w(this,ut,gc).call(this),w(this,ut,co).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,r){var M,R,k;if(t instanceof gA)return null;const o=await super.deserialize(t,n,r);o.thickness=t.thickness,o.color=yt.makeHexColor(...t.color),o.opacity=t.opacity;const[c,h]=o.pageDimensions,f=o.width*c,p=o.height*h,m=o.parentScale,y=t.thickness/2;E(o,wn,!0),E(o,ll,Math.round(f)),E(o,cl,Math.round(p));const{paths:b,rect:A,rotation:S}=t;for(let{bezier:O}of b){O=w(M=fe,xa,fC).call(M,O,A,S);const P=[];o.paths.push(P);let I=m*(O[0]-y),N=m*(O[1]-y);for(let F=2,j=O.length;F<j;F+=6){const at=m*(O[F]-y),et=m*(O[F+1]-y),nt=m*(O[F+2]-y),rt=m*(O[F+3]-y),dt=m*(O[F+4]-y),lt=m*(O[F+5]-y);P.push([[I,N],[at,et],[nt,rt],[dt,lt]]),I=dt,N=lt}const V=w(this,xa,dC).call(this,P);o.bezierPath2D.push(V)}const x=w(R=o,ut,Ob).call(R);return E(o,sl,Math.max(Jt.MIN_SIZE,x[2]-x[0])),E(o,nl,Math.max(Jt.MIN_SIZE,x[3]-x[1])),w(k=o,ut,Lb).call(k,f,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Jt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Dt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:w(this,ut,pC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};nl=new WeakMap,sl=new WeakMap,bs=new WeakMap,la=new WeakMap,wn=new WeakMap,al=new WeakMap,rl=new WeakMap,ol=new WeakMap,ca=new WeakMap,yu=new WeakMap,ll=new WeakMap,cl=new WeakMap,Er=new WeakMap,ut=new WeakSet,iC=function(t){const n=o=>{this.thickness=o,w(this,ut,qh).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},nC=function(t){const n=o=>{this.color=o,w(this,ut,co).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sC=function(t){const n=o=>{this.opacity=o,w(this,ut,co).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},aC=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},xb=function(){const{ctx:t,color:n,opacity:r,thickness:o,parentScale:c,scaleFactor:h}=this;t.lineWidth=o*c/h,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${XO(r)}`},rC=function(t,n){this.canvas.addEventListener("contextmenu",Mn,{signal:this._uiManager._signal}),w(this,ut,Rb).call(this),E(this,al,new AbortController);const r=this._uiManager.combinedSignal(d(this,al));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,d(this,ol)||(E(this,ol,!0),w(this,ut,gc).call(this),this.thickness||(this.thickness=fe._defaultThickness),this.color||(this.color=fe._defaultColor||Jt._defaultLineColor),this.opacity??(this.opacity=fe._defaultOpacity)),this.currentPath.push([t,n]),E(this,rl,!1),w(this,ut,xb).call(this),E(this,Er,()=>{w(this,ut,cC).call(this),d(this,Er)&&window.requestAnimationFrame(d(this,Er))}),window.requestAnimationFrame(d(this,Er))},Tb=function(t,n){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===o)return;const c=this.currentPath;let h=d(this,la);if(c.push([t,n]),E(this,rl,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(t,n);return}c.length===3&&(E(this,la,h=new Path2D),h.moveTo(...c[0])),w(this,ut,uC).call(this,h,...c.at(-3),...c.at(-2),t,n)},oC=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);d(this,la).lineTo(...t)},lC=function(t,n){E(this,Er,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),w(this,ut,Tb).call(this,t,n),w(this,ut,oC).call(this);let r;if(this.currentPath.length!==1)r=w(this,ut,hC).call(this);else{const p=[t,n];r=[[p,p.slice(),p.slice(),p]]}const o=d(this,la),c=this.currentPath;this.currentPath=[],E(this,la,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,ut,bg).call(this),w(this,ut,Ag).call(this)),w(this,ut,qh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},cC=function(){if(!d(this,rl))return;E(this,rl,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(h=>h[0]),o=n.map(h=>h[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(d(this,la)),c.restore()},uC=function(t,n,r,o,c,h,f){const p=(n+o)/2,m=(r+c)/2,y=(o+h)/2,b=(c+f)/2;t.bezierCurveTo(p+2*(o-p)/3,m+2*(c-m)/3,y+2*(o-y)/3,b+2*(c-b)/3,y,b)},hC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[o,c]=t[0];for(r=1;r<t.length-2;r++){const[A,S]=t[r],[x,M]=t[r+1],R=(A+x)/2,k=(S+M)/2,O=[o+2*(A-o)/3,c+2*(S-c)/3],P=[R+2*(A-R)/3,k+2*(S-k)/3];n.push([[o,c],O,P,[R,k]]),[o,c]=[R,k]}const[h,f]=t[r],[p,m]=t[r+1],y=[o+2*(h-o)/3,c+2*(f-c)/3],b=[p+2*(h-p)/3,m+2*(f-m)/3];return n.push([[o,c],y,b,[p,m]]),n},co=function(){if(this.isEmpty()){w(this,ut,_g).call(this);return}w(this,ut,xb).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),w(this,ut,_g).call(this);for(const r of this.bezierPath2D)n.stroke(r)},Cb=function(){if(d(this,yu))return;E(this,yu,new AbortController);const t=this._uiManager.combinedSignal(d(this,yu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Rb=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Mb=function(t){var n;(n=d(this,al))==null||n.abort(),E(this,al,null),w(this,ut,Cb).call(this),d(this,bs)&&clearTimeout(d(this,bs)),E(this,bs,setTimeout(()=>{E(this,bs,null),this.canvas.removeEventListener("contextmenu",Mn)},10)),w(this,ut,lC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},bg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ag=function(){E(this,ca,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,ca).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,ca))==null||t.disconnect(),E(this,ca,null)},{once:!0})},gc=function(){if(!d(this,ol))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),w(this,ut,_g).call(this)},Lb=function(t,n){const r=w(this,ut,Sg).call(this),o=(t-r)/d(this,sl),c=(n-r)/d(this,nl);this.scaleFactor=Math.min(o,c)},_g=function(){const t=w(this,ut,Sg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},xa=new WeakSet,dC=function(t){const n=new Path2D;for(let r=0,o=t.length;r<o;r++){const[c,h,f,p]=t[r];r===0&&n.moveTo(...c),n.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return n},Db=function(t,n,r){const[o,c,h,f]=n;switch(r){case 0:for(let p=0,m=t.length;p<m;p+=2)t[p]+=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,m=t.length;p<m;p+=2){const y=t[p];t[p]=t[p+1]+o,t[p+1]=y+c}break;case 180:for(let p=0,m=t.length;p<m;p+=2)t[p]=h-t[p],t[p+1]+=c;break;case 270:for(let p=0,m=t.length;p<m;p+=2){const y=t[p];t[p]=h-t[p+1],t[p+1]=f-y}break;default:throw new Error("Invalid rotation")}return t},fC=function(t,n,r){const[o,c,h,f]=n;switch(r){case 0:for(let p=0,m=t.length;p<m;p+=2)t[p]-=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,m=t.length;p<m;p+=2){const y=t[p];t[p]=t[p+1]-c,t[p+1]=y-o}break;case 180:for(let p=0,m=t.length;p<m;p+=2)t[p]=h-t[p],t[p+1]-=c;break;case 270:for(let p=0,m=t.length;p<m;p+=2){const y=t[p];t[p]=f-t[p+1],t[p+1]=h-y}break;default:throw new Error("Invalid rotation")}return t},pC=function(t,n,r,o){var m,y;const c=[],h=this.thickness/2,f=t*n+h,p=t*r+h;for(const b of this.paths){const A=[],S=[];for(let x=0,M=b.length;x<M;x++){const[R,k,O,P]=b[x];if(R[0]===P[0]&&R[1]===P[1]&&M===1){const rt=t*R[0]+f,dt=t*R[1]+p;A.push(rt,dt),S.push(rt,dt);break}const I=t*R[0]+f,N=t*R[1]+p,V=t*k[0]+f,F=t*k[1]+p,j=t*O[0]+f,at=t*O[1]+p,et=t*P[0]+f,nt=t*P[1]+p;x===0&&(A.push(I,N),S.push(I,N)),A.push(V,F,j,at,et,nt),S.push(V,F),x===M-1&&S.push(et,nt)}c.push({bezier:w(m=fe,xa,Db).call(m,A,o,this.rotation),points:w(y=fe,xa,Db).call(y,S,o,this.rotation)})}return c},Ob=function(){let t=1/0,n=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[h,f,p,m]of c){const y=yt.bezierBoundingBox(...h,...f,...p,...m);t=Math.min(t,y[0]),r=Math.min(r,y[1]),n=Math.max(n,y[2]),o=Math.max(o,y[3])}return[t,r,n,o]},Sg=function(){return d(this,wn)?Math.ceil(this.thickness*this.parentScale):0},qh=function(t=!1){if(this.isEmpty())return;if(!d(this,wn)){w(this,ut,co).call(this);return}const n=w(this,ut,Ob).call(this),r=w(this,ut,Sg).call(this);E(this,sl,Math.max(Jt.MIN_SIZE,n[2]-n[0])),E(this,nl,Math.max(Jt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(r+d(this,sl)*this.scaleFactor),c=Math.ceil(r+d(this,nl)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=o/h,this.height=c/f,this.setAspectRatio(o,c);const p=this.translationX,m=this.translationY;this.translationX=-n[0],this.translationY=-n[1],w(this,ut,gc).call(this),w(this,ut,co).call(this),E(this,ll,o),E(this,cl,c),this.setDims(o,c);const y=t?r/this.scaleFactor/2:0;this.translate(p-this.translationX-y,m-this.translationY-y)},C(fe,xa),xt(fe,"_defaultColor",null),xt(fe,"_defaultOpacity",1),xt(fe,"_defaultThickness",1),xt(fe,"_type","ink"),xt(fe,"_editorType",Dt.INK);let wb=fe;var ge,si,wr,ua,xr,bu,As,ha,_s,sn,Au,It,Xh,Yh,Eg,kb,gC,wg,Pb,xg,mC,vC;const Qh=class Qh extends Jt{constructor(t){super({...t,name:"stampEditor"});C(this,It);C(this,ge,null);C(this,si,null);C(this,wr,null);C(this,ua,null);C(this,xr,null);C(this,bu,"");C(this,As,null);C(this,ha,null);C(this,_s,null);C(this,sn,!1);C(this,Au,!1);E(this,ua,t.bitmapUrl),E(this,xr,t.bitmapFile)}static initialize(t,n){Jt.initialize(t,n)}static get supportedTypes(){return jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Dt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:h}=t||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:o,width:c,height:h,channels:o.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t,n;d(this,si)&&(E(this,ge,null),this._uiManager.imageManager.deleteId(d(this,si)),(t=d(this,As))==null||t.remove(),E(this,As,null),(n=d(this,ha))==null||n.disconnect(),E(this,ha,null),d(this,_s)&&(clearTimeout(d(this,_s)),E(this,_s,null))),super.remove()}rebuild(){if(!this.parent){d(this,si)&&w(this,It,Eg).call(this);return}super.rebuild(),this.div!==null&&(d(this,si)&&d(this,As)===null&&w(this,It,Eg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,wr)||d(this,ge)||d(this,ua)||d(this,xr)||d(this,si))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ge)?w(this,It,kb).call(this):w(this,It,Eg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,n*o,this.width*r,this.height*o)}return this.div}copyCanvas(t,n,r=!1){var A;t||(t=224);const{width:o,height:c}=d(this,ge),h=new Ly;let f=d(this,ge),p=o,m=c,y=null;if(n){if(o>n||c>n){const F=Math.min(n/o,n/c);p=Math.floor(o*F),m=Math.floor(c*F)}y=document.createElement("canvas");const S=y.width=Math.ceil(p*h.sx),x=y.height=Math.ceil(m*h.sy);d(this,sn)||(f=w(this,It,wg).call(this,S,x));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let R="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",k="#42414d");const O=15,P=O*h.sx,I=O*h.sy,N=new OffscreenCanvas(P*2,I*2),V=N.getContext("2d");V.fillStyle=R,V.fillRect(0,0,P*2,I*2),V.fillStyle=k,V.fillRect(0,0,P,I),V.fillRect(P,I,P,I),M.fillStyle=M.createPattern(N,"repeat"),M.fillRect(0,0,S,x),M.drawImage(f,0,0,f.width,f.height,0,0,S,x)}let b=null;if(r){let S,x;if(h.symmetric&&f.width<t&&f.height<t)S=f.width,x=f.height;else if(f=d(this,ge),o>t||c>t){const k=Math.min(t/o,t/c);S=Math.floor(o*k),x=Math.floor(c*k),d(this,sn)||(f=w(this,It,wg).call(this,S,x))}const R=new OffscreenCanvas(S,x).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,S,x),b={width:S,height:x,data:R.getImageData(0,0,S,x).data}}return{canvas:y,width:p,height:m,imageData:b}}getImageForAltText(){return d(this,As)}static async deserialize(t,n,r){var x;let o=null;if(t instanceof CT){const{data:{rect:M,rotation:R,id:k,structParent:O,popupRef:P},container:I,parent:{page:{pageNumber:N}}}=t,V=I.querySelector("canvas"),F=r.imageManager.getFromCanvas(I.id,V);V.remove();const j=((x=await n._structTree.getAriaAttributes(`${sA}${k}`))==null?void 0:x.get("aria-label"))||"";o=t={annotationType:Dt.STAMP,bitmapId:F.id,bitmap:F.bitmap,pageIndex:N-1,rect:M.slice(0),rotation:R,id:k,deleted:!1,accessibilityData:{decorative:!1,altText:j},isSvg:!1,structParent:O,popupRef:P}}const c=await super.deserialize(t,n,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:y,accessibilityData:b}=t;m&&r.imageManager.isValidId(m)?(E(c,si,m),f&&E(c,ge,f)):E(c,ua,p),E(c,sn,y);const[A,S]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/S,c.annotationElementId=t.id||null,b&&(c.altTextData=b),c._initialData=o,E(c,Au,!!o),c}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Dt.STAMP,bitmapId:d(this,si),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,sn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=w(this,It,xg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=w(this,It,vC).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const h=d(this,sn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(d(this,si)))n.stamps.set(d(this,si),{area:h,serialized:r}),r.bitmap=w(this,It,xg).call(this,!1);else if(d(this,sn)){const f=n.stamps.get(d(this,si));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=w(this,It,xg).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ge=new WeakMap,si=new WeakMap,wr=new WeakMap,ua=new WeakMap,xr=new WeakMap,bu=new WeakMap,As=new WeakMap,ha=new WeakMap,_s=new WeakMap,sn=new WeakMap,Au=new WeakMap,It=new WeakSet,Xh=function(t,n=!1){if(!t){this.remove();return}E(this,ge,t.bitmap),n||(E(this,si,t.id),E(this,sn,t.isSvg)),t.file&&E(this,bu,t.file.name),w(this,It,kb).call(this)},Yh=function(){if(E(this,wr,null),this._uiManager.enableWaiting(!1),!!d(this,As)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Eg=function(){if(d(this,si)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,si)).then(r=>w(this,It,Xh).call(this,r,!0)).finally(()=>w(this,It,Yh).call(this));return}if(d(this,ua)){const r=d(this,ua);E(this,ua,null),this._uiManager.enableWaiting(!0),E(this,wr,this._uiManager.imageManager.getFromUrl(r).then(o=>w(this,It,Xh).call(this,o)).finally(()=>w(this,It,Yh).call(this)));return}if(d(this,xr)){const r=d(this,xr);E(this,xr,null),this._uiManager.enableWaiting(!0),E(this,wr,this._uiManager.imageManager.getFromFile(r).then(o=>w(this,It,Xh).call(this,o)).finally(()=>w(this,It,Yh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Qh.supportedTypesStr;const n=this._uiManager._signal;E(this,wr,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,It,Xh).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>w(this,It,Yh).call(this))),t.click()},kb=function(){const{div:t}=this;let{width:n,height:r}=d(this,ge);const[o,c]=this.pageDimensions,h=.75;if(this.width)n=this.width*o,r=this.height*c;else if(n>h*o||r>h*c){const y=Math.min(h*o/n,h*c/r);n*=y,r*=y}const[f,p]=this.parentDimensions;this.setDims(n*f/o,r*p/c),this._uiManager.enableWaiting(!1);const m=E(this,As,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),w(this,It,Pb).call(this,n,r),w(this,It,mC).call(this),d(this,Au)||(this.parent.addUndoableEditor(this),E(this,Au,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,bu)&&m.setAttribute("aria-label",d(this,bu))},gC=function(t,n){var h;const[r,o]=this.parentDimensions;this.width=t/r,this.height=n/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,_s)!==null&&clearTimeout(d(this,_s)),E(this,_s,setTimeout(()=>{E(this,_s,null),w(this,It,Pb).call(this,t,n)},200))},wg=function(t,n){const{width:r,height:o}=d(this,ge);let c=r,h=o,f=d(this,ge);for(;c>2*t||h>2*n;){const p=c,m=h;c>2*t&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const y=new OffscreenCanvas(c,h);y.getContext("2d").drawImage(f,0,0,p,m,0,0,c,h),f=y.transferToImageBitmap()}return f},Pb=function(t,n){const r=new Ly,o=Math.ceil(t*r.sx),c=Math.ceil(n*r.sy),h=d(this,As);if(!h||h.width===o&&h.height===c)return;h.width=o,h.height=c;const f=d(this,sn)?d(this,ge):w(this,It,wg).call(this,o,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,c)},xg=function(t){if(t){if(d(this,sn)){const o=this._uiManager.imageManager.getSvgUrl(d(this,si));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,ge),n.getContext("2d").drawImage(d(this,ge),0,0),n.toDataURL()}if(d(this,sn)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*Or.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Or.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,c);return h.getContext("2d").drawImage(d(this,ge),0,0,d(this,ge).width,d(this,ge).height,0,0,o,c),h.transferToImageBitmap()}return structuredClone(d(this,ge))},mC=function(){this._uiManager._signal&&(E(this,ha,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&w(this,It,gC).call(this,n.width,n.height)})),d(this,ha).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,ha))==null||t.disconnect(),E(this,ha,null)},{once:!0}))},vC=function(t){var p;const{rect:n,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=t.rect.every((m,y)=>Math.abs(m-n[y])<1),h=t.pageIndex===r,f=(((p=t.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:c&&h&&f,isSameAltText:f}},xt(Qh,"_type","stamp"),xt(Qh,"_editorType",Dt.STAMP);let Nb=Qh;var ul,_u,Ss,Tr,da,an,Cr,Su,Eu,vi,fa,_t,Rr,ri,yC,Hb,Bb,zb,Tg;const Nn=class Nn{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:m}){C(this,ri);C(this,ul);C(this,_u,!1);C(this,Ss,null);C(this,Tr,null);C(this,da,null);C(this,an,new Map);C(this,Cr,!1);C(this,Su,!1);C(this,Eu,!1);C(this,vi,null);C(this,fa,null);C(this,_t);const y=[...d(Nn,Rr).values()];if(!Nn._initialized){Nn._initialized=!0;for(const b of y)b.initialize(m,e)}e.registerEditorTypes(y),E(this,_t,e),this.pageIndex=t,this.div=n,E(this,ul,o),E(this,Ss,c),this.viewport=p,E(this,vi,f),this.drawLayer=h,this._structTree=r,d(this,_t).addLayer(this)}get isEmpty(){return d(this,an).size===0}get isInvisible(){return this.isEmpty&&d(this,_t).getMode()===Dt.NONE}updateToolbar(e){d(this,_t).updateToolbar(e)}updateMode(e=d(this,_t).getMode()){switch(w(this,ri,Tg).call(this),e){case Dt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Dt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of d(Nn,Rr).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=d(this,vi))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(d(this,_t).getMode()!==Dt.INK)return;if(!e){for(const n of d(this,an).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){d(this,_t).setEditingState(e)}addCommands(e){d(this,_t).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=d(this,Ss))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of d(this,an).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,_t).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!d(this,Ss))return;const t=d(this,Ss).getEditableAnnotations();for(const n of t){if(n.hide(),d(this,_t).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,Eu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of d(this,an).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(d(this,Ss)){const o=d(this,Ss).getEditableAnnotations();for(const c of o){const{id:h}=c.data;if(d(this,_t).isDeletedAnnotationElement(h))continue;let f=t.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=e.get(h),f&&(d(this,_t).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}w(this,ri,Tg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of d(Nn,Rr).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Eu,!1)}getEditableAnnotation(e){var t;return((t=d(this,Ss))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,_t).getActive()!==e&&d(this,_t).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,vi))!=null&&e.div&&!d(this,fa)){E(this,fa,new AbortController);const t=d(this,_t).combinedSignal(d(this,fa));d(this,vi).div.addEventListener("pointerdown",w(this,ri,yC).bind(this),{signal:t}),d(this,vi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,vi))!=null&&e.div&&d(this,fa)&&(d(this,fa).abort(),E(this,fa,null),d(this,vi).div.classList.remove("highlighting"))}enableClick(){if(d(this,Tr))return;E(this,Tr,new AbortController);const e=d(this,_t).combinedSignal(d(this,Tr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=d(this,Tr))==null||e.abort(),E(this,Tr,null)}attach(e){d(this,an).set(e.id,e);const{annotationElementId:t}=e;t&&d(this,_t).isDeletedAnnotationElement(t)&&d(this,_t).removeDeletedAnnotationElement(e)}detach(e){var t;d(this,an).delete(e.id),(t=d(this,ul))==null||t.removePointerInTextLayer(e.contentDiv),!d(this,Eu)&&e.annotationElementId&&d(this,_t).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,_t).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,d(this,Su)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,_t).addDeletedAnnotationElement(e.annotationElementId),Jt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,_t).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),d(this,_t).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!d(this,da)&&(e._focusEventsAllowed=!1,E(this,da,setTimeout(()=>{E(this,da,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,_t)._signal}),t.focus())},0))),e._structTreeParentId=(n=d(this,ul))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return d(this,_t).getId()}combinedSignal(e){return d(this,_t).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,ri,Hb))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){d(this,_t).updateToolbar(e),d(this,_t).updateMode(e);const{offsetX:n,offsetY:r}=w(this,ri,zb).call(this),o=this.getNextId(),c=w(this,ri,Bb).call(this,{parent:this,id:o,x:n,y:r,uiManager:d(this,_t),isCentered:!0,...t});c&&this.add(c)}async deserialize(e){var t;return await((t=d(Nn,Rr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,d(this,_t)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=w(this,ri,Bb).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:d(this,_t),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(w(this,ri,zb).call(this),!0)}setSelected(e){d(this,_t).setSelected(e)}toggleSelected(e){d(this,_t).toggleSelected(e)}unselect(e){d(this,_t).unselect(e)}pointerup(e){const{isMac:t}=wi.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&d(this,Cr)){if(E(this,Cr,!1),!d(this,_u)){E(this,_u,!0);return}if(d(this,_t).getMode()===Dt.STAMP){d(this,_t).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(d(this,_t).getMode()===Dt.HIGHLIGHT&&this.enableTextSelection(),d(this,Cr)){E(this,Cr,!1);return}const{isMac:t}=wi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,Cr,!0);const n=d(this,_t).getActive();E(this,_u,!n||n.isEmpty())}findNewParent(e,t,n){const r=d(this,_t).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=d(this,_t).getActive())==null?void 0:e.parent)===this&&(d(this,_t).commitOrRemove(),d(this,_t).setActiveEditor(null)),d(this,da)&&(clearTimeout(d(this,da)),E(this,da,null));for(const n of d(this,an).values())(t=d(this,ul))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,an).clear(),d(this,_t).removeLayer(this)}render({viewport:e}){this.viewport=e,dl(this.div,e);for(const t of d(this,_t).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){d(this,_t).commitOrRemove(),w(this,ri,Tg).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,dl(this.div,{rotation:n}),t!==n)for(const r of d(this,an).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return d(this,_t).viewParameters.realScale}};ul=new WeakMap,_u=new WeakMap,Ss=new WeakMap,Tr=new WeakMap,da=new WeakMap,an=new WeakMap,Cr=new WeakMap,Su=new WeakMap,Eu=new WeakMap,vi=new WeakMap,fa=new WeakMap,_t=new WeakMap,Rr=new WeakMap,ri=new WeakSet,yC=function(e){d(this,_t).unselectAll();const{target:t}=e;if(t===d(this,vi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&d(this,vi).div.contains(t)){const{isMac:n}=wi.platform;if(e.button!==0||e.ctrlKey&&n)return;d(this,_t).showAllEditors("highlight",!0,!0),d(this,vi).div.classList.add("free"),this.toggleDrawing(),Ug.startHighlighting(this,d(this,_t).direction==="ltr",{target:d(this,vi).div,x:e.x,y:e.y}),d(this,vi).div.addEventListener("pointerup",()=>{d(this,vi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,_t)._signal}),e.preventDefault()}},Hb=function(){return d(Nn,Rr).get(d(this,_t).getMode())},Bb=function(e){const t=d(this,ri,Hb);return t?new t.prototype.constructor(e):null},zb=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),c=Math.max(0,t),h=Math.min(window.innerWidth,e+n),f=Math.min(window.innerHeight,t+r),p=(o+h)/2-e,m=(c+f)/2-t,[y,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:b}},Tg=function(){E(this,Su,!0);for(const e of d(this,an).values())e.isEmpty()&&e.remove();E(this,Su,!1)},xt(Nn,"_initialized",!1),C(Nn,Rr,new Map([gb,wb,Nb,Ug].map(e=>[e._editorType,e])));let Fb=Nn;var Es,mf,Me,pa,vf,jb,ml,Ub,bC;const ei=class ei{constructor({pageIndex:e}){C(this,ml);C(this,Es,null);C(this,mf,0);C(this,Me,new Map);C(this,pa,new Map);this.pageIndex=e}setParent(e){if(!d(this,Es)){E(this,Es,e);return}if(d(this,Es)!==e){if(d(this,Me).size>0)for(const t of d(this,Me).values())t.remove(),e.append(t);E(this,Es,e)}}static get _svgFactory(){return jt(this,"_svgFactory",new pA)}draw(e,t,n,r=!1){const o=Ai(this,mf)._++,c=w(this,ml,Ub).call(this,e.box);c.classList.add(...e.classNamesForDrawing);const h=ei._svgFactory.createElement("defs");c.append(h);const f=ei._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),r&&d(this,pa).set(o,f);const m=w(this,ml,bC).call(this,h,p),y=ei._svgFactory.createElement("use");return c.append(y),c.setAttribute("fill",t),c.setAttribute("fill-opacity",n),y.setAttribute("href",`#${p}`),d(this,Me).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(e){const t=Ai(this,mf)._++,n=w(this,ml,Ub).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const r=ei._svgFactory.createElement("defs");n.append(r);const o=ei._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",c),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const m=ei._svgFactory.createElement("mask");r.append(m),h=`mask_p${this.pageIndex}_${t}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const y=ei._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=ei._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=ei._svgFactory.createElement("use");n.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return n.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),d(this,Me).set(t,n),t}finalizeLine(e,t){const n=d(this,pa).get(e);d(this,pa).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){d(this,Me).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){d(this,pa).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;w(n=ei,vf,jb).call(n,d(this,Me).get(e),t)}show(e,t){d(this,Me).get(e).classList.toggle("hidden",!t)}rotate(e,t){d(this,Me).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){d(this,Me).get(e).setAttribute("fill",t)}changeOpacity(e,t){d(this,Me).get(e).setAttribute("fill-opacity",t)}addClass(e,t){d(this,Me).get(e).classList.add(t)}removeClass(e,t){d(this,Me).get(e).classList.remove(t)}getSVGRoot(e){return d(this,Me).get(e)}remove(e){d(this,pa).delete(e),d(this,Es)!==null&&(d(this,Me).get(e).remove(),d(this,Me).delete(e))}destroy(){E(this,Es,null);for(const e of d(this,Me).values())e.remove();d(this,Me).clear(),d(this,pa).clear()}};Es=new WeakMap,mf=new WeakMap,Me=new WeakMap,pa=new WeakMap,vf=new WeakSet,jb=function(e,{x:t=0,y:n=0,width:r=1,height:o=1}={}){const{style:c}=e;c.top=`${100*n}%`,c.left=`${100*t}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},ml=new WeakSet,Ub=function(e){var n;const t=ei._svgFactory.create(1,1,!0);return d(this,Es).append(t),t.setAttribute("aria-hidden",!0),w(n=ei,vf,jb).call(n,t,e),t},bC=function(e,t){const n=ei._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=ei._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},C(ei,vf);let Ib=ei;var xN=Ct.AbortException,TN=Ct.AnnotationEditorLayer,CN=Ct.AnnotationEditorParamsType,RN=Ct.AnnotationEditorType,MN=Ct.AnnotationEditorUIManager,LN=Ct.AnnotationLayer,DN=Ct.AnnotationMode,ON=Ct.ColorPicker,NN=Ct.DOMSVGFactory,kN=Ct.DrawLayer,PN=Ct.FeatureTest,AC=Ct.GlobalWorkerOptions,FN=Ct.ImageKind,HN=Ct.InvalidPDFException,BN=Ct.MissingPDFException,zN=Ct.OPS,IN=Ct.OutputScale,jN=Ct.PDFDataRangeTransport,UN=Ct.PDFDateString,VN=Ct.PDFWorker,GN=Ct.PasswordResponses,qN=Ct.PermissionFlag,XN=Ct.PixelsPerInch,YN=Ct.RenderingCancelledException,KN=Ct.TextLayer,$N=Ct.UnexpectedResponseException,WN=Ct.Util,QN=Ct.VerbosityLevel,ZN=Ct.XfaLayer,JN=Ct.build,tk=Ct.createValidAbsoluteUrl,ek=Ct.fetchData,ik=Ct.getDocument,nk=Ct.getFilenameFromUrl,sk=Ct.getPdfFilenameFromUrl,ak=Ct.getXfaPageViewport,rk=Ct.isDataScheme,ok=Ct.isPdfFile,lk=Ct.noContextMenu,ck=Ct.normalizeUnicode,uk=Ct.setLayerDimensions,hk=Ct.shadow,_C=Ct.version;const Mk=Object.freeze(Object.defineProperty({__proto__:null,AbortException:xN,AnnotationEditorLayer:TN,AnnotationEditorParamsType:CN,AnnotationEditorType:RN,AnnotationEditorUIManager:MN,AnnotationLayer:LN,AnnotationMode:DN,ColorPicker:ON,DOMSVGFactory:NN,DrawLayer:kN,FeatureTest:PN,GlobalWorkerOptions:AC,ImageKind:FN,InvalidPDFException:HN,MissingPDFException:BN,OPS:zN,OutputScale:IN,PDFDataRangeTransport:jN,PDFDateString:UN,PDFWorker:VN,PasswordResponses:GN,PermissionFlag:qN,PixelsPerInch:XN,RenderingCancelledException:YN,TextLayer:KN,UnexpectedResponseException:$N,Util:WN,VerbosityLevel:QN,XfaLayer:ZN,build:JN,createValidAbsoluteUrl:tk,fetchData:ek,getDocument:ik,getFilenameFromUrl:nk,getPdfFilenameFromUrl:sk,getXfaPageViewport:ak,isDataScheme:rk,isPdfFile:ok,noContextMenu:lk,normalizeUnicode:ck,setLayerDimensions:uk,shadow:hk,version:_C},Symbol.toStringTag,{value:"Module"})),dk=()=>Mr(()=>import("./resume-BdIdlhtQ.js"),__vite__mapDeps([0,1]));AC.workerSrc=`//unpkg.com/pdfjs-dist@${_C}/build/pdf.worker.min.mjs`;const SC=cm("/resume")({component:um(dk,"component",()=>SC.ssr)}),fk=()=>Mr(()=>import("./project-DlMO29g_.js"),__vite__mapDeps([2,1,3])),EC=cm("/project")({component:um(fk,"component",()=>EC.ssr)}),pk=()=>Mr(()=>import("./about-CSxt5neN.js"),__vite__mapDeps([4,3,1])),wC=cm("/about")({component:um(pk,"component",()=>wC.ssr)}),gk=()=>Mr(()=>import("./index-CymfD4FX.js"),__vite__mapDeps([5,1])),xC=cm("/")({component:um(gk,"component",()=>xC.ssr)}),mk=SC.update({id:"/resume",path:"/resume",getParentRoute:()=>Af}),vk=EC.update({id:"/project",path:"/project",getParentRoute:()=>Af}),yk=wC.update({id:"/about",path:"/about",getParentRoute:()=>Af}),bk=xC.update({id:"/",path:"/",getParentRoute:()=>Af}),Ak={IndexRoute:bk,AboutRoute:yk,ProjectRoute:vk,ResumeRoute:mk},_k=Af._addFileChildren(Ak)._addFileTypes(),Sk=rL({routeTree:_k,defaultPreload:"intent",defaultStaleTime:5e3,scrollRestoration:!0,defaultViewTransition:!0}),gw=document.getElementById("root");gw.innerHTML||J2.createRoot(gw).render(q.jsx(z.StrictMode,{children:q.jsx(cL,{router:Sk})}));export{Rk as A,dx as B,iA as C,SO as F,Qn as G,fx as R,ik as _,DN as a,KN as b,LN as c,AC as d,_C as e,Ck as f,yf as g,Wp as h,ya as i,q as j,Ae as k,ox as l,PD as m,bf as n,pO as o,Mk as p,yO as q,z as r,oi as u};
//# sourceMappingURL=index-_69Bqkac.js.map
